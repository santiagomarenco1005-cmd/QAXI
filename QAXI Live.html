<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QAXI Live</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            gold: {
              DEFAULT: '#D4AF37',
              dark: '#AA8C2C',
              light: '#F3E5AB'
            }
          }
        }
      }
    }
  </script>
  <style>
    body {
      background-color: #000;
      color: #fff;
    }

    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }

    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
  <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function gT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jd={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Hw(){if(yv)return Gl;yv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var _v;function Fw(){return _v||(_v=1,Jd.exports=Hw()),Jd.exports}var A=Fw(),Zd={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function Gw(){if(vv)return Ne;vv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,W={};function pe(V,H,ae){this.props=V,this.context=H,this.refs=W,this.updater=ae||Z}pe.prototype.isReactComponent={},pe.prototype.setState=function(V,H){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,H,"setState")},pe.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Ee(){}Ee.prototype=pe.prototype;function _e(V,H,ae){this.props=V,this.context=H,this.refs=W,this.updater=ae||Z}var Re=_e.prototype=new Ee;Re.constructor=_e,te(Re,pe.prototype),Re.isPureReactComponent=!0;var Ue=Array.isArray;function Ie(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(V,H,ae){var se=ae.ref;return{$$typeof:s,type:V,key:H,ref:se!==void 0?se:null,props:ae}}function M(V,H){return N(V.type,H,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function U(V){var H={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return H[ae]})}var I=/\/+/g;function at(V,H){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):H.toString(36)}function Rt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ie,Ie):(V.status="pending",V.then(function(H){V.status==="pending"&&(V.status="fulfilled",V.value=H)},function(H){V.status==="pending"&&(V.status="rejected",V.reason=H)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,H,ae,se,Ae){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(ve){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case s:case e:Se=!0;break;case E:return Se=V._init,Q(Se(V._payload),H,ae,se,Ae)}}if(Se)return Ae=Ae(V),Se=se===""?"."+at(V,0):se,Ue(Ae)?(ae="",Se!=null&&(ae=Se.replace(I,"$&/")+"/"),Q(Ae,H,ae,"",function(os){return os})):Ae!=null&&(D(Ae)&&(Ae=M(Ae,ae+(Ae.key==null||V&&V.key===Ae.key?"":(""+Ae.key).replace(I,"$&/")+"/")+Se)),H.push(Ae)),1;Se=0;var wt=se===""?".":se+":";if(Ue(V))for(var ht=0;ht<V.length;ht++)se=V[ht],ve=wt+at(se,ht),Se+=Q(se,H,ae,ve,Ae);else if(ht=F(V),typeof ht=="function")for(V=ht.call(V),ht=0;!(se=V.next()).done;)se=se.value,ve=wt+at(se,ht++),Se+=Q(se,H,ae,ve,Ae);else if(ve==="object"){if(typeof V.then=="function")return Q(Rt(V),H,ae,se,Ae);throw H=String(V),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Se}function re(V,H,ae){if(V==null)return V;var se=[],Ae=0;return Q(V,se,"","",function(ve){return H.call(ae,ve,Ae++)}),se}function de(V){if(V._status===-1){var H=V._result;H=H(),H.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=H)}if(V._status===1)return V._result.default;throw V._result}var Qe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Le={map:re,forEach:function(V,H,ae){re(V,function(){H.apply(this,arguments)},ae)},count:function(V){var H=0;return re(V,function(){H++}),H},toArray:function(V){return re(V,function(H){return H})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ne.Activity=w,Ne.Children=Le,Ne.Component=pe,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=_e,Ne.StrictMode=r,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(V,H,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=te({},V.props),Ae=V.key;if(H!=null)for(ve in H.key!==void 0&&(Ae=""+H.key),H)!S.call(H,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&H.ref===void 0||(se[ve]=H[ve]);var ve=arguments.length-2;if(ve===1)se.children=ae;else if(1<ve){for(var Se=Array(ve),wt=0;wt<ve;wt++)Se[wt]=arguments[wt+2];se.children=Se}return N(V.type,Ae,se)},Ne.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ne.createElement=function(V,H,ae){var se,Ae={},ve=null;if(H!=null)for(se in H.key!==void 0&&(ve=""+H.key),H)S.call(H,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Ae[se]=H[se]);var Se=arguments.length-2;if(Se===1)Ae.children=ae;else if(1<Se){for(var wt=Array(Se),ht=0;ht<Se;ht++)wt[ht]=arguments[ht+2];Ae.children=wt}if(V&&V.defaultProps)for(se in Se=V.defaultProps,Se)Ae[se]===void 0&&(Ae[se]=Se[se]);return N(V,ve,Ae)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:p,render:V}},Ne.isValidElement=D,Ne.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:de}},Ne.memo=function(V,H){return{$$typeof:y,type:V,compare:H===void 0?null:H}},Ne.startTransition=function(V){var H=x.T,ae={};x.T=ae;try{var se=V(),Ae=x.S;Ae!==null&&Ae(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ie,Qe)}catch(ve){Qe(ve)}finally{H!==null&&ae.types!==null&&(H.types=ae.types),x.T=H}},Ne.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ne.use=function(V){return x.H.use(V)},Ne.useActionState=function(V,H,ae){return x.H.useActionState(V,H,ae)},Ne.useCallback=function(V,H){return x.H.useCallback(V,H)},Ne.useContext=function(V){return x.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,H){return x.H.useDeferredValue(V,H)},Ne.useEffect=function(V,H){return x.H.useEffect(V,H)},Ne.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Ne.useId=function(){return x.H.useId()},Ne.useImperativeHandle=function(V,H,ae){return x.H.useImperativeHandle(V,H,ae)},Ne.useInsertionEffect=function(V,H){return x.H.useInsertionEffect(V,H)},Ne.useLayoutEffect=function(V,H){return x.H.useLayoutEffect(V,H)},Ne.useMemo=function(V,H){return x.H.useMemo(V,H)},Ne.useOptimistic=function(V,H){return x.H.useOptimistic(V,H)},Ne.useReducer=function(V,H,ae){return x.H.useReducer(V,H,ae)},Ne.useRef=function(V){return x.H.useRef(V)},Ne.useState=function(V){return x.H.useState(V)},Ne.useSyncExternalStore=function(V,H,ae){return x.H.useSyncExternalStore(V,H,ae)},Ne.useTransition=function(){return x.H.useTransition()},Ne.version="19.2.4",Ne}var Tv;function Gm(){return Tv||(Tv=1,Zd.exports=Gw()),Zd.exports}var he=Gm();const Qm=gT(he);var Wd={exports:{}},Ql={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Qw(){return Ev||(Ev=1,(function(s){function e(Q,re){var de=Q.length;Q.push(re);e:for(;0<de;){var Qe=de-1>>>1,Le=Q[Qe];if(0<o(Le,re))Q[Qe]=re,Q[de]=Le,de=Qe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var re=Q[0],de=Q.pop();if(de!==re){Q[0]=de;e:for(var Qe=0,Le=Q.length,V=Le>>>1;Qe<V;){var H=2*(Qe+1)-1,ae=Q[H],se=H+1,Ae=Q[se];if(0>o(ae,de))se<Le&&0>o(Ae,ae)?(Q[Qe]=Ae,Q[se]=de,Qe=se):(Q[Qe]=ae,Q[H]=de,Qe=H);else if(se<Le&&0>o(Ae,de))Q[Qe]=Ae,Q[se]=de,Qe=se;else break e}}return re}function o(Q,re){var de=Q.sortIndex-re.sortIndex;return de!==0?de:Q.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,w=null,R=3,F=!1,Z=!1,te=!1,W=!1,pe=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Re(Q){for(var re=n(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=Q)r(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(y)}}function Ue(Q){if(te=!1,Re(Q),!Z)if(n(g)!==null)Z=!0,Ie||(Ie=!0,U());else{var re=n(y);re!==null&&Rt(Ue,re.startTime-Q)}}var Ie=!1,x=-1,S=5,N=-1;function M(){return W?!0:!(s.unstable_now()-N<S)}function D(){if(W=!1,Ie){var Q=s.unstable_now();N=Q;var re=!0;try{e:{Z=!1,te&&(te=!1,Ee(x),x=-1),F=!0;var de=R;try{t:{for(Re(Q),w=n(g);w!==null&&!(w.expirationTime>Q&&M());){var Qe=w.callback;if(typeof Qe=="function"){w.callback=null,R=w.priorityLevel;var Le=Qe(w.expirationTime<=Q);if(Q=s.unstable_now(),typeof Le=="function"){w.callback=Le,Re(Q),re=!0;break t}w===n(g)&&r(g),Re(Q)}else r(g);w=n(g)}if(w!==null)re=!0;else{var V=n(y);V!==null&&Rt(Ue,V.startTime-Q),re=!1}}break e}finally{w=null,R=de,F=!1}re=void 0}}finally{re?U():Ie=!1}}}var U;if(typeof _e=="function")U=function(){_e(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,at=I.port2;I.port1.onmessage=D,U=function(){at.postMessage(null)}}else U=function(){pe(D,0)};function Rt(Q,re){x=pe(function(){Q(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(Q){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var de=R;R=re;try{return Q()}finally{R=de}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=R;R=Q;try{return re()}finally{R=de}},s.unstable_scheduleCallback=function(Q,re,de){var Qe=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Qe+de:Qe):de=Qe,Q){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=de+Le,Q={id:E++,callback:re,priorityLevel:Q,startTime:de,expirationTime:Le,sortIndex:-1},de>Qe?(Q.sortIndex=de,e(y,Q),n(g)===null&&Q===n(y)&&(te?(Ee(x),x=-1):te=!0,Rt(Ue,de-Qe))):(Q.sortIndex=Le,e(g,Q),Z||F||(Z=!0,Ie||(Ie=!0,U()))),Q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(Q){var re=R;return function(){var de=R;R=re;try{return Q.apply(this,arguments)}finally{R=de}}}})(tm)),tm}var bv;function Kw(){return bv||(bv=1,em.exports=Qw()),em.exports}var nm={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function Yw(){if(Av)return gn;Av=1;var s=Gm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},gn.flushSync=function(g){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=E,r.d.f()}},gn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},gn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},gn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:F}):E==="script"&&r.d.X(g,{crossOrigin:w,integrity:R,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},gn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},gn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);r.d.L(g,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},gn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},gn.requestFormReset=function(g){r.d.r(g)},gn.unstable_batchedUpdates=function(g,y){return g(y)},gn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.2.4",gn}var wv;function Xw(){if(wv)return nm.exports;wv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=Yw(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function $w(){if(Sv)return Ql;Sv=1;var s=Kw(),e=Gm(),n=Xw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case pe:return"Profiler";case W:return"StrictMode";case Ue:return"Suspense";case Ie:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case _e:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:at(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return at(t(i))}catch{}}return null}var Rt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Qe=[],Le=-1;function V(t){return{current:t}}function H(t){0>Le||(t.current=Qe[Le],Qe[Le]=null,Le--)}function ae(t,i){Le++,Qe[Le]=t.current,t.current=i}var se=V(null),Ae=V(null),ve=V(null),Se=V(null);function wt(t,i){switch(ae(ve,i),ae(Ae,t),ae(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?j_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=j_(i),t=B_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(se),ae(se,t)}function ht(){H(se),H(Ae),H(ve)}function os(t){t.memoizedState!==null&&ae(Se,t);var i=se.current,a=B_(i,t.type);i!==a&&(ae(Ae,t),ae(se,a))}function Ti(t){Ae.current===t&&(H(se),H(Ae)),Se.current===t&&(H(Se),Bl._currentValue=de)}var Et,jn;function ti(t){if(Et===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Et=i&&i[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+t+jn}var Fr=!1;function Bn(t,i){if(!t||Fr)return"";Fr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var j=q}Reflect.construct(t,[],$)}else{try{$.call()}catch(q){j=q}t.call($.prototype)}}else{try{throw Error()}catch(q){j=q}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Fr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ti(a):""}function qs(t,i){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Bn(t.type,!1);case 11:return Bn(t.type.render,!1);case 1:return Bn(t.type,!0);case 31:return ti("Activity");default:return""}}function Ot(t){try{var i="",a=null;do i+=qs(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pt=Object.prototype.hasOwnProperty,It=s.unstable_scheduleCallback,sn=s.unstable_cancelCallback,ls=s.unstable_shouldYield,Xe=s.unstable_requestPaint,nt=s.unstable_now,Rn=s.unstable_getCurrentPriorityLevel,Li=s.unstable_ImmediatePriority,Pi=s.unstable_UserBlockingPriority,Ei=s.unstable_NormalPriority,$o=s.unstable_LowPriority,Gr=s.unstable_IdlePriority,La=s.log,Pa=s.unstable_setDisableYieldValue,Zt=null,Vt=null;function rn(t){if(typeof La=="function"&&Pa(t),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Zt,t)}catch{}}var gt=Math.clz32?Math.clz32:Hs,In=Math.log,us=Math.LN2;function Hs(t){return t>>>=0,t===0?32:31-(In(t)/us|0)|0}var qn=256,En=262144,yt=4194304;function ke(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ke(l):(_&=T,_!==0?h=ke(_):a||(a=T&~t,a!==0&&(h=ke(a))))):(T=l&~d,T!==0?h=ke(T):_!==0?h=ke(_):a||(a=l&~t,a!==0&&(h=ke(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Jo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function za(){var t=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),t}function ii(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function cs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zo(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-gt(a),$=1<<K;T[K]=0,C[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var q=j[K];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&zi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function zi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Qr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Kr(t,i){var a=i&-i;return a=(a&42)!==0?1:hs(a),(a&(t.suspendedLanes|i))!==0?0:a}function hs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ja(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:cv(t.type))}function Cn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var bn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+bn,Mt="__reactProps$"+bn,Fn="__reactContainer$"+bn,fs="__reactEvents$"+bn,Yr="__reactListeners$"+bn,G="__reactHandles$"+bn,ee="__reactResources$"+bn,le="__reactMarker$"+bn;function ie(t){delete t[Ct],delete t[Mt],delete t[fs],delete t[Yr],delete t[G]}function me(t){var i=t[Ct];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Fn]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Y_(t);t!==null;){if(a=t[Ct])return a;t=Y_(t)}return i}t=a,a=t.parentNode}return null}function Ce(t){if(t=t[Ct]||t[Fn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ze(t){var i=t[ee];return i||(i=t[ee]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function je(t){t[le]=!0}var Xt=new Set,an={};function Wt(t,i){zt(t,i),zt(t+"Capture",i)}function zt(t,i){for(an[t]=i,t=0;t<i.length;t++)Xt.add(i[t])}var ji=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fs={},Xr={};function Au(t){return pt.call(Xr,t)?!0:pt.call(Fs,t)?!1:ji.test(t)?Xr[t]=!0:(Fs[t]=!0,!1)}function Ba(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function jt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=Gs(t)?"checked":"value";t._valueTracker=Wo(t,i,""+t[i])}}function $r(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Gs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jr=/[\n"\\]/g;function xn(t){return t.replace(Jr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qa(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?el(t,_,en(i)):a!=null?el(t,_,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function wu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){it(t);return}a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),it(t)}function el(t,i,a){i==="number"&&Bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Qs(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function Ks(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Rt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),it(t)}function Nn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ru.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nl(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&tl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&tl(t,d,i[d])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return Ys.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ai(){}var il=null;function si(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xs=null,qi=null;function Zr(t){var i=Ce(t);if(i&&(t=i.stateNode)){var a=t[Mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(qa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Mt]||null;if(!h)throw Error(r(90));qa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&$r(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Qs(t,!!a.multiple,i,!1)}}}var Ga=!1;function $s(t,i,a){if(Ga)return t(i,a);Ga=!0;try{var l=t(i);return l}finally{if(Ga=!1,(Xs!==null||qi!==null)&&(Tc(),Xs&&(i=Xs,t=qi,qi=Xs=null,Zr(i),t)))for(i=0;i<t.length;i++)Zr(t[i])}}function wi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(ri)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Wr=!1}var Hi=null,sl=null,ea=null;function rl(){if(ea)return ea;var t,i=sl,a=i.length,l,h="value"in Hi?Hi.value:Hi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ea=h.slice(t,1<l?1-l:void 0)}function ta(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ds(){return!0}function Si(){return!1}function on(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ds:Si,this.isPropagationStopped=Si,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),i}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=on(ms),Js=w({},ms,{view:0,detail:0}),al=on(Js),Zs,Qa,Gi,Ka=w({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Zs=t.screenX-Gi.screenX,Qa=t.screenY-Gi.screenY):Qa=Zs=0,Gi=t),Zs)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),ol=on(Ka),na=w({},Ka,{dataTransfer:0}),Cu=on(na),xu=w({},Js,{relatedTarget:0}),ia=on(xu),ll=w({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=on(ll),Ya=w({},ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=on(Ya),Ou=w({},ms,{data:0}),Qi=on(Ou),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ku[t])?!!i[t]:!1}function Ws(){return Uu}var An=w({},Js,{key:function(t){if(t.key){var i=Vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(t){return t.type==="keypress"?ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=on(An),Pu=w({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=on(Pu),c=w({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),m=on(c),v=w({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=on(v),L=w({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=on(L),ne=w({},ms,{newState:0,oldState:0}),Oe=on(ne),kt=[9,13,27,32],We=ri&&"CompositionEvent"in window,bt=null;ri&&"documentMode"in document&&(bt=document.documentMode);var ai=ri&&"TextEvent"in window&&!bt,Ki=ri&&(!We||bt&&8<bt&&11>=bt),Ri=" ",Ii=!1;function sa(t,i){switch(t){case"keyup":return kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function dA(t,i){switch(t){case"compositionend":return Xa(i);case"keypress":return i.which!==32?null:(Ii=!0,Ri);case"textInput":return t=i.data,t===Ri&&Ii?null:t;default:return null}}function mA(t,i){if($a)return t==="compositionend"||!We&&sa(t,i)?(t=rl(),ea=sl=Hi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ki&&i.locale!=="ko"?null:i.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!pA[t.type]:i==="textarea"}function Zp(t,i,a,l){Xs?qi?qi.push(l):qi=[l]:Xs=l,i=Ic(i,"onChange"),0<i.length&&(a=new Fi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ul=null,cl=null;function gA(t){M_(t,0)}function zu(t){var i=dt(t);if($r(i))return t}function Wp(t,i){if(t==="change")return i}var eg=!1;if(ri){var sf;if(ri){var rf="oninput"in document;if(!rf){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),rf=typeof tg.oninput=="function"}sf=rf}else sf=!1;eg=sf&&(!document.documentMode||9<document.documentMode)}function ng(){ul&&(ul.detachEvent("onpropertychange",ig),cl=ul=null)}function ig(t){if(t.propertyName==="value"&&zu(cl)){var i=[];Zp(i,cl,t,si(t)),$s(gA,i)}}function yA(t,i,a){t==="focusin"?(ng(),ul=i,cl=a,ul.attachEvent("onpropertychange",ig)):t==="focusout"&&ng()}function _A(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(cl)}function vA(t,i){if(t==="click")return zu(i)}function TA(t,i){if(t==="input"||t==="change")return zu(i)}function EA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Qn=typeof Object.is=="function"?Object.is:EA;function hl(t,i){if(Qn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pt.call(i,h)||!Qn(t[h],i[h]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,i){var a=sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sg(a)}}function ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Bi(t.document)}return i}function af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bA=ri&&"documentMode"in document&&11>=document.documentMode,Ja=null,of=null,fl=null,lf=!1;function lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||Ja==null||Ja!==Bi(l)||(l=Ja,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Ic(of,"onSelect"),0<l.length&&(i=new Fi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ja)))}function ra(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Za={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},uf={},ug={};ri&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function aa(t){if(uf[t])return uf[t];if(!Za[t])return t;var i=Za[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return uf[t]=i[a];return t}var cg=aa("animationend"),hg=aa("animationiteration"),fg=aa("animationstart"),AA=aa("transitionrun"),wA=aa("transitionstart"),SA=aa("transitioncancel"),dg=aa("transitionend"),mg=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Ci(t,i){mg.set(t,i),Wt(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},oi=[],Wa=0,hf=0;function Bu(){for(var t=Wa,i=hf=Wa=0;i<t;){var a=oi[i];oi[i++]=null;var l=oi[i];oi[i++]=null;var h=oi[i];oi[i++]=null;var d=oi[i];if(oi[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&pg(a,h,d)}}function qu(t,i,a,l){oi[Wa++]=t,oi[Wa++]=i,oi[Wa++]=a,oi[Wa++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,i,a,l){return qu(t,i,a,l),Hu(t)}function oa(t,i){return qu(t,null,null,i),Hu(t)}function pg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hu(t){if(50<Ml)throw Ml=0,Ed=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var eo={};function RA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,a,l){return new RA(t,i,a,l)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gs(t,i){var a=t.alternate;return a===null?(a=Kn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")df(t)&&(_=1);else if(typeof t=="string")_=Dw(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Kn(31,a,i,h),t.elementType=N,t.lanes=d,t;case te:return la(a.children,h,d,i);case W:_=8,h|=24;break;case pe:return t=Kn(12,a,i,h|2),t.elementType=pe,t.lanes=d,t;case Ue:return t=Kn(13,a,i,h),t.elementType=Ue,t.lanes=d,t;case Ie:return t=Kn(19,a,i,h),t.elementType=Ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:_=10;break e;case Ee:_=9;break e;case Re:_=11;break e;case x:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Kn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function la(t,i,a,l){return t=Kn(7,t,l,i),t.lanes=a,t}function mf(t,i,a){return t=Kn(6,t,null,i),t.lanes=a,t}function yg(t){var i=Kn(18,null,null,0);return i.stateNode=t,i}function pf(t,i,a){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var _g=new WeakMap;function li(t,i){if(typeof t=="object"&&t!==null){var a=_g.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ot(i)},_g.set(t,i),i)}return{value:t,source:i,stack:Ot(i)}}var to=[],no=0,Gu=null,dl=0,ui=[],ci=0,er=null,Yi=1,Xi="";function ys(t,i){to[no++]=dl,to[no++]=Gu,Gu=t,dl=i}function vg(t,i,a){ui[ci++]=Yi,ui[ci++]=Xi,ui[ci++]=er,er=t;var l=Yi;t=Xi;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var d=32-gt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Yi=1<<32-gt(i)+h|a<<h|l,Xi=d+t}else Yi=1<<d|a<<h|l,Xi=t}function gf(t){t.return!==null&&(ys(t,1),vg(t,1,0))}function yf(t){for(;t===Gu;)Gu=to[--no],to[no]=null,dl=to[--no],to[no]=null;for(;t===er;)er=ui[--ci],ui[ci]=null,Xi=ui[--ci],ui[ci]=null,Yi=ui[--ci],ui[ci]=null}function Tg(t,i){ui[ci++]=Yi,ui[ci++]=Xi,ui[ci++]=er,Yi=i.id,Xi=i.overflow,er=t}var ln=null,_t=null,Ke=!1,tr=null,hi=!1,_f=Error(r(519));function nr(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(li(i,t)),_f}function Eg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ct]=t,i[Mt]=l,a){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(a=0;a<Ul.length;a++)ze(Ul[a],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),wu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Ks(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||P_(i.textContent,a)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=Ai),i=!0):i=!1,i||nr(t,!0)}function bg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function io(t){if(t!==ln)return!1;if(!Ke)return bg(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ud(t.type,t.memoizedProps)),a=!a),a&&_t&&nr(t),bg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));_t=K_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));_t=K_(t)}else i===27?(i=_t,gr(t.type)?(t=Bd,Bd=null,_t=t):_t=i):_t=ln?di(t.stateNode.nextSibling):null;return!0}function ua(){_t=ln=null,Ke=!1}function vf(){var t=tr;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),tr=null),t}function ml(t){tr===null?tr=[t]:tr.push(t)}var Tf=V(null),ca=null,_s=null;function ir(t,i,a){ae(Tf,i._currentValue),i._currentValue=a}function vs(t){t._currentValue=Tf.current,H(Tf)}function Ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function bf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Ef(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ef(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function so(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;Qn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Se.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}h=h.return}t!==null&&bf(i,t,a,l),i.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ha(t){ca=t,_s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return Ag(ca,t)}function Ku(t,i){return ca===null&&ha(t),Ag(t,i)}function Ag(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},_s===null){if(t===null)throw Error(r(308));_s=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else _s=_s.next=i;return a}var IA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},CA=s.unstable_scheduleCallback,xA=s.unstable_NormalPriority,Bt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new IA,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&CA(xA,function(){t.controller.abort()})}var gl=null,wf=0,ro=0,ao=null;function NA(t,i){if(gl===null){var a=gl=[];wf=0,ro=Id(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(wg,wg),i}function wg(){if(--wf===0&&gl!==null){ao!==null&&(ao.status="fulfilled");var t=gl;gl=null,ro=0,ao=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Sg=Q.S;Q.S=function(t,i){l_=nt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&NA(t,i),Sg!==null&&Sg(t,i)};var fa=V(null);function Sf(){var t=fa.current;return t!==null?t:ft.pooledCache}function Yu(t,i){i===null?ae(fa,fa.current):ae(fa,i.pool)}function Rg(){var t=Sf();return t===null?null:{parent:Bt._currentValue,pool:t}}var oo=Error(r(460)),Rf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ai,Ai),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t;default:if(typeof i.status=="string")i.then(Ai,Ai);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t}throw ma=i,oo}}function da(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,oo):a}}var ma=null;function xg(){if(ma===null)throw Error(r(459));var t=ma;return ma=null,t}function Ng(t){if(t===oo||t===Xu)throw Error(r(483))}var lo=null,yl=0;function Ju(t){var i=yl;return yl+=1,lo===null&&(lo=[]),Cg(lo,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Dg(t){function i(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=gs(k,O),k.index=0,k.sibling=null,k}function d(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,P,Y){return O===null||O.tag!==6?(O=mf(P,k.mode,Y),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Y){var ge=P.type;return ge===te?K(k,O,P.props.children,Y,P.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&da(ge)===O.type)?(O=h(O,P.props),_l(O,P),O.return=k,O):(O=Fu(P.type,P.key,P.props,null,k.mode,Y),_l(O,P),O.return=k,O)}function z(k,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=pf(P,k.mode,Y),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function K(k,O,P,Y,ge){return O===null||O.tag!==7?(O=la(P,k.mode,Y,ge),O.return=k,O):(O=h(O,P),O.return=k,O)}function $(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=mf(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Fu(O.type,O.key,O.props,null,k.mode,P),_l(P,O),P.return=k,P;case Z:return O=pf(O,k.mode,P),O.return=k,O;case S:return O=da(O),$(k,O,P)}if(Rt(O)||U(O))return O=la(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return $(k,Ju(O),P);if(O.$$typeof===_e)return $(k,Ku(k,O),P);Zu(k,O)}return null}function j(k,O,P,Y){var ge=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:T(k,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ge?C(k,O,P,Y):null;case Z:return P.key===ge?z(k,O,P,Y):null;case S:return P=da(P),j(k,O,P,Y)}if(Rt(P)||U(P))return ge!==null?null:K(k,O,P,Y,null);if(typeof P.then=="function")return j(k,O,Ju(P),Y);if(P.$$typeof===_e)return j(k,O,Ku(k,P),Y);Zu(k,P)}return null}function q(k,O,P,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(O,k,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return k=k.get(Y.key===null?P:Y.key)||null,C(O,k,Y,ge);case Z:return k=k.get(Y.key===null?P:Y.key)||null,z(O,k,Y,ge);case S:return Y=da(Y),q(k,O,P,Y,ge)}if(Rt(Y)||U(Y))return k=k.get(P)||null,K(O,k,Y,ge,null);if(typeof Y.then=="function")return q(k,O,P,Ju(Y),ge);if(Y.$$typeof===_e)return q(k,O,P,Ku(O,Y),ge);Zu(O,Y)}return null}function ce(k,O,P,Y){for(var ge=null,$e=null,fe=O,Me=O=0,qe=null;fe!==null&&Me<P.length;Me++){fe.index>Me?(qe=fe,fe=null):qe=fe.sibling;var Je=j(k,fe,P[Me],Y);if(Je===null){fe===null&&(fe=qe);break}t&&fe&&Je.alternate===null&&i(k,fe),O=d(Je,O,Me),$e===null?ge=Je:$e.sibling=Je,$e=Je,fe=qe}if(Me===P.length)return a(k,fe),Ke&&ys(k,Me),ge;if(fe===null){for(;Me<P.length;Me++)fe=$(k,P[Me],Y),fe!==null&&(O=d(fe,O,Me),$e===null?ge=fe:$e.sibling=fe,$e=fe);return Ke&&ys(k,Me),ge}for(fe=l(fe);Me<P.length;Me++)qe=q(fe,k,Me,P[Me],Y),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Me:qe.key),O=d(qe,O,Me),$e===null?ge=qe:$e.sibling=qe,$e=qe);return t&&fe.forEach(function(Er){return i(k,Er)}),Ke&&ys(k,Me),ge}function Te(k,O,P,Y){if(P==null)throw Error(r(151));for(var ge=null,$e=null,fe=O,Me=O=0,qe=null,Je=P.next();fe!==null&&!Je.done;Me++,Je=P.next()){fe.index>Me?(qe=fe,fe=null):qe=fe.sibling;var Er=j(k,fe,Je.value,Y);if(Er===null){fe===null&&(fe=qe);break}t&&fe&&Er.alternate===null&&i(k,fe),O=d(Er,O,Me),$e===null?ge=Er:$e.sibling=Er,$e=Er,fe=qe}if(Je.done)return a(k,fe),Ke&&ys(k,Me),ge;if(fe===null){for(;!Je.done;Me++,Je=P.next())Je=$(k,Je.value,Y),Je!==null&&(O=d(Je,O,Me),$e===null?ge=Je:$e.sibling=Je,$e=Je);return Ke&&ys(k,Me),ge}for(fe=l(fe);!Je.done;Me++,Je=P.next())Je=q(fe,k,Me,Je.value,Y),Je!==null&&(t&&Je.alternate!==null&&fe.delete(Je.key===null?Me:Je.key),O=d(Je,O,Me),$e===null?ge=Je:$e.sibling=Je,$e=Je);return t&&fe.forEach(function(qw){return i(k,qw)}),Ke&&ys(k,Me),ge}function ct(k,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===te&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var ge=P.key;O!==null;){if(O.key===ge){if(ge=P.type,ge===te){if(O.tag===7){a(k,O.sibling),Y=h(O,P.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&da(ge)===O.type){a(k,O.sibling),Y=h(O,P.props),_l(Y,P),Y.return=k,k=Y;break e}a(k,O);break}else i(k,O);O=O.sibling}P.type===te?(Y=la(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Fu(P.type,P.key,P.props,null,k.mode,Y),_l(Y,P),Y.return=k,k=Y)}return _(k);case Z:e:{for(ge=P.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Y=h(O,P.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else i(k,O);O=O.sibling}Y=pf(P,k.mode,Y),Y.return=k,k=Y}return _(k);case S:return P=da(P),ct(k,O,P,Y)}if(Rt(P))return ce(k,O,P,Y);if(U(P)){if(ge=U(P),typeof ge!="function")throw Error(r(150));return P=ge.call(P),Te(k,O,P,Y)}if(typeof P.then=="function")return ct(k,O,Ju(P),Y);if(P.$$typeof===_e)return ct(k,O,Ku(k,P),Y);Zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,P),Y.return=k,k=Y):(a(k,O),Y=mf(P,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,O)}return function(k,O,P,Y){try{yl=0;var ge=ct(k,O,P,Y);return lo=null,ge}catch(fe){if(fe===oo||fe===Xu)throw fe;var $e=Kn(29,fe,null,k.mode);return $e.lanes=Y,$e.return=k,$e}finally{}}}var pa=Dg(!0),Og=Dg(!1),sr=!1;function If(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(t),pg(t,null,a),i}return qu(t,l,i,a),Hu(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Qr(t,a)}}function xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Nf=!1;function Tl(){if(Nf){var t=ao;if(t!==null)throw t}}function El(t,i,a,l){Nf=!1;var h=t.updateQueue;sr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=C))}if(d!==null){var $=h.baseState;_=0,K=z=C=null,T=d;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Be&j)===j:(l&j)===j){j!==0&&j===ro&&(Nf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Te=T;j=i;var ct=a;switch(Te.tag){case 1:if(ce=Te.payload,typeof ce=="function"){$=ce.call(ct,$,j);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Te.payload,j=typeof ce=="function"?ce.call(ct,$,j):ce,j==null)break e;$=w({},$,j);break e;case 2:sr=!0}}j=T.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=q,C=$):K=K.next=q,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),hr|=_,t.lanes=_,t.memoizedState=$}}function Vg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Mg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Vg(a[t],i)}var uo=V(null),Wu=V(0);function kg(t,i){t=Cs,ae(Wu,t),ae(uo,i),Cs=t|i.baseLanes}function Df(){ae(Wu,Cs),ae(uo,uo.current)}function Of(){Cs=Wu.current,H(uo),H(Wu)}var Yn=V(null),fi=null;function or(t){var i=t.alternate;ae(Ut,Ut.current&1),ae(Yn,t),fi===null&&(i===null||uo.current!==null||i.memoizedState!==null)&&(fi=t)}function Vf(t){ae(Ut,Ut.current),ae(Yn,t),fi===null&&(fi=t)}function Ug(t){t.tag===22?(ae(Ut,Ut.current),ae(Yn,t),fi===null&&(fi=t)):lr()}function lr(){ae(Ut,Ut.current),ae(Yn,Yn.current)}function Xn(t){H(Yn),fi===t&&(fi=null),H(Ut)}var Ut=V(0);function ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ts=0,Ve=null,lt=null,qt=null,tc=!1,co=!1,ga=!1,nc=0,bl=0,ho=null,OA=0;function xt(){throw Error(r(321))}function Mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Qn(t[a],i[a]))return!1;return!0}function kf(t,i,a,l,h,d){return Ts=d,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?vy:$f,ga=!1,d=a(l,h),ga=!1,co&&(d=Pg(i,a,l,h)),Lg(t),d}function Lg(t){Q.H=Sl;var i=lt!==null&&lt.next!==null;if(Ts=0,qt=lt=Ve=null,tc=!1,bl=0,ho=null,i)throw Error(r(300));t===null||Ht||(t=t.dependencies,t!==null&&Qu(t)&&(Ht=!0))}function Pg(t,i,a,l){Ve=t;var h=0;do{if(co&&(ho=null),bl=0,co=!1,25<=h)throw Error(r(301));if(h+=1,qt=lt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Ty,d=i(a,l)}while(co);return d}function VA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Al(i):i,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Ve.flags|=1024),i}function Uf(){var t=nc!==0;return nc=0,t}function Lf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pf(t){if(tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}tc=!1}Ts=0,qt=lt=Ve=null,co=!1,bl=nc=0,ho=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ve.memoizedState=qt=t:qt=qt.next=t,qt}function Lt(){if(lt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=qt===null?Ve.memoizedState:qt.next;if(i!==null)qt=i,lt=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},qt===null?Ve.memoizedState=qt=t:qt=qt.next=t}return qt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var i=bl;return bl+=1,ho===null&&(ho=[]),t=Cg(ho,t,i),i=Ve,(qt===null?i.memoizedState:qt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?vy:$f),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===_e)return un(t)}throw Error(r(438,String(t)))}function zf(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Es(t,i){return typeof i=="function"?i(t):i}function rc(t){var i=Lt();return jf(i,lt,t)}function jf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,z=i,K=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Be&$)===$:(Ts&$)===$){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===ro&&(K=!0);else if((Ts&j)===j){z=z.next,j===ro&&(K=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=$,_=d):C=C.next=$,Ve.lanes|=j,hr|=j;$=z.action,ga&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=j,_=d):C=C.next=j,Ve.lanes|=$,hr|=$;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=T,!Qn(d,t.memoizedState)&&(Ht=!0,K&&(a=ao,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bf(t){var i=Lt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Qn(d,i.memoizedState)||(Ht=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function zg(t,i,a){var l=Ve,h=Lt(),d=Ke;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Qn((lt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ht=!0),h=h.queue,Ff(qg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},Bg.bind(null,l,h,a,i),null),ft===null)throw Error(r(349));d||(Ts&127)!==0||jg(l,i,a)}return a}function jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=ic(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Bg(t,i,a,l){i.value=a,i.getSnapshot=l,Hg(i)&&Fg(t)}function qg(t,i,a){return a(function(){Hg(i)&&Fg(t)})}function Hg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Qn(t,a)}catch{return!0}}function Fg(t){var i=oa(t,2);i!==null&&kn(i,t,2)}function qf(t){var i=wn();if(typeof t=="function"){var a=t;if(t=a(),ga){rn(!0);try{a()}finally{rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},i}function Gg(t,i,a,l){return t.baseState=a,jf(t,lt,typeof l=="function"?l:Es)}function MA(t,i,a,l,h){if(lc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Qg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),C=Q.S;C!==null&&C(_,T),Kg(t,i,T)}catch(z){Hf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Kg(t,i,d)}catch(z){Hf(t,i,z)}}function Kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yg(t,i,l)},function(l){return Hf(t,i,l)}):Yg(t,i,a)}function Yg(t,i,a){i.status="fulfilled",i.value=a,Xg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Qg(t,a)))}function Hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Xg(i),i=i.next;while(i!==l)}t.action=null}function Xg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function $g(t,i){return i}function Jg(t,i){if(Ke){var a=ft.formState;if(a!==null){e:{var l=Ve;if(Ke){if(_t){t:{for(var h=_t,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=di(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){_t=di(h.nextSibling),l=h.data==="F!";break e}}nr(l)}l=!1}l&&(i=a[0])}}return a=wn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:i},a.queue=l,a=gy.bind(null,Ve,l),l.dispatch=a,l=qf(!1),d=Xf.bind(null,Ve,!1,l.queue),l=wn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=MA.bind(null,Ve,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Zg(t){var i=Lt();return Wg(i,lt,t)}function Wg(t,i,a){if(i=jf(t,i,$g)[0],t=rc(Es)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Al(i)}catch(_){throw _===oo?Xu:_}else l=i;i=Lt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,fo(9,{destroy:void 0},kA.bind(null,h,a),null)),[l,d,t]}function kA(t,i){t.action=i}function ey(t){var i=Lt(),a=lt;if(a!==null)return Wg(i,a,t);Lt(),i=i.memoizedState,a=Lt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function fo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=ic(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ty(){return Lt().memoizedState}function ac(t,i,a,l){var h=wn();Ve.flags|=t,h.memoizedState=fo(1|i,{destroy:void 0},a,l===void 0?null:l)}function oc(t,i,a,l){var h=Lt();l=l===void 0?null:l;var d=h.memoizedState.inst;lt!==null&&l!==null&&Mf(l,lt.memoizedState.deps)?h.memoizedState=fo(i,d,a,l):(Ve.flags|=t,h.memoizedState=fo(1|i,d,a,l))}function ny(t,i){ac(8390656,8,t,i)}function Ff(t,i){oc(2048,8,t,i)}function UA(t){Ve.flags|=4;var i=Ve.updateQueue;if(i===null)i=ic(),Ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function iy(t){var i=Lt().memoizedState;return UA({ref:i,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function sy(t,i){return oc(4,2,t,i)}function ry(t,i){return oc(4,4,t,i)}function ay(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function oy(t,i,a){a=a!=null?a.concat([t]):null,oc(4,4,ay.bind(null,i,t),a)}function Gf(){}function ly(t,i){var a=Lt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function uy(t,i){var a=Lt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=t(),ga){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,i],l}function Qf(t,i,a){return a===void 0||(Ts&1073741824)!==0&&(Be&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=c_(),Ve.lanes|=t,hr|=t,a)}function cy(t,i,a,l){return Qn(a,i)?a:uo.current!==null?(t=Qf(t,a,l),Qn(t,i)||(Ht=!0),t):(Ts&42)===0||(Ts&1073741824)!==0&&(Be&261930)===0?(Ht=!0,t.memoizedState=a):(t=c_(),Ve.lanes|=t,hr|=t,i)}function hy(t,i,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,Xf(t,!1,i,a);try{var C=h(),z=Q.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=DA(C,l);wl(t,i,K,Zn(t))}else wl(t,i,l,Zn(t))}catch($){wl(t,i,{then:function(){},status:"rejected",reason:$},Zn())}finally{re.p=d,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function LA(){}function Kf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=fy(t).queue;hy(t,h,i,de,a===null?LA:function(){return dy(t),a(l)})}function fy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function dy(t){var i=fy(t);i.next===null&&(i=t.alternate.memoizedState),wl(t,i.next.queue,{},Zn())}function Yf(){return un(Bl)}function my(){return Lt().memoizedState}function py(){return Lt().memoizedState}function PA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Zn();t=rr(a);var l=ar(i,t,a);l!==null&&(kn(l,i,a),vl(l,i,a)),i={cache:Af()},t.payload=i;return}i=i.return}}function zA(t,i,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?yy(i,a):(a=ff(t,i,a,l),a!==null&&(kn(a,t,l),_y(a,i,l)))}function gy(t,i,a){var l=Zn();wl(t,i,a,l)}function wl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))yy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Qn(T,_))return qu(t,i,h,0),ft===null&&Bu(),!1}catch{}finally{}if(a=ff(t,i,h,l),a!==null)return kn(a,t,l),_y(a,i,l),!0}return!1}function Xf(t,i,a,l){if(l={lane:2,revertLane:Id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(r(479))}else i=ff(t,a,l,2),i!==null&&kn(i,t,2)}function lc(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function yy(t,i){co=tc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function _y(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Qr(t,a)}}var Sl={readContext:un,use:sc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};Sl.useEffectEvent=xt;var vy={readContext:un,use:sc,useCallback:function(t,i){return wn().memoizedState=[t,i===void 0?null:i],t},useContext:un,useEffect:ny,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ac(4194308,4,ay.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var a=wn();i=i===void 0?null:i;var l=t();if(ga){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=wn();if(a!==void 0){var h=a(i);if(ga){rn(!0);try{a(i)}finally{rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zA.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=wn();return t={current:t},i.memoizedState=t},useState:function(t){t=qf(t);var i=t.queue,a=gy.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(t,i){var a=wn();return Qf(a,t,i)},useTransition:function(){var t=qf(!1);return t=hy.bind(null,Ve,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ve,h=wn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ft===null)throw Error(r(349));(Be&127)!==0||jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ny(qg.bind(null,l,d,t),[t]),l.flags|=2048,fo(9,{destroy:void 0},Bg.bind(null,l,d,a,i),null),a},useId:function(){var t=wn(),i=ft.identifierPrefix;if(Ke){var a=Xi,l=Yi;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=OA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t){var i=wn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:zf,useCacheRefresh:function(){return wn().memoizedState=PA.bind(null,Ve)},useEffectEvent:function(t){var i=wn(),a={impl:t};return i.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:un,use:sc,useCallback:ly,useContext:un,useEffect:Ff,useImperativeHandle:oy,useInsertionEffect:sy,useLayoutEffect:ry,useMemo:uy,useReducer:rc,useRef:ty,useState:function(){return rc(Es)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=Lt();return cy(a,lt.memoizedState,t,i)},useTransition:function(){var t=rc(Es)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:zg,useId:my,useHostTransitionStatus:Yf,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,i){var a=Lt();return Gg(a,lt,t,i)},useMemoCache:zf,useCacheRefresh:py};$f.useEffectEvent=iy;var Ty={readContext:un,use:sc,useCallback:ly,useContext:un,useEffect:Ff,useImperativeHandle:oy,useInsertionEffect:sy,useLayoutEffect:ry,useMemo:uy,useReducer:Bf,useRef:ty,useState:function(){return Bf(Es)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=Lt();return lt===null?Qf(a,t,i):cy(a,lt.memoizedState,t,i)},useTransition:function(){var t=Bf(Es)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:zg,useId:my,useHostTransitionStatus:Yf,useFormState:ey,useActionState:ey,useOptimistic:function(t,i){var a=Lt();return lt!==null?Gg(a,lt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:py};Ty.useEffectEvent=iy;function Jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Zn(),h=rr(l);h.payload=i,a!=null&&(h.callback=a),i=ar(t,h,l),i!==null&&(kn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Zn(),h=rr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ar(t,h,l),i!==null&&(kn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Zn(),l=rr(a);l.tag=2,i!=null&&(l.callback=i),i=ar(t,l,a),i!==null&&(kn(i,t,a),vl(i,t,a))}};function Ey(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!hl(a,l)||!hl(h,d):!0}function by(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Zf.enqueueReplaceState(i,i.state,null)}function ya(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ay(t){ju(t)}function wy(t){console.error(t)}function Sy(t){ju(t)}function uc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(t,i,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,i)},a}function Iy(t){return t=rr(t),t.tag=3,t}function Cy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ry(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ry(i,a,l),typeof h!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function jA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&so(i,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return fi===null?Ec():a.alternate===null&&Nt===0&&(Nt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$u?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wd(t,l,h)),!1;case 22:return a.flags|=65536,l===$u?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wd(t,l,h)),!1}throw Error(r(435,a.tag))}return wd(t,l,h),Ec(),!1}if(Ke)return i=Yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(t=Error(r(422),{cause:l}),ml(li(t,a)))):(l!==_f&&(i=Error(r(423),{cause:l}),ml(li(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=li(l,a),h=Wf(t.stateNode,l,h),xf(t,h),Nt!==4&&(Nt=2)),!1;var d=Error(r(520),{cause:l});if(d=li(d,a),Vl===null?Vl=[d]:Vl.push(d),Nt!==4&&(Nt=2),i===null)return!0;l=li(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Wf(a.stateNode,l,t),xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fr===null||!fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Iy(h),Cy(h,t,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var ed=Error(r(461)),Ht=!1;function cn(t,i,a,l){i.child=t===null?Og(i,null,a,l):pa(i,t.child,a,l)}function xy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ha(i),l=kf(t,i,a,_,d,h),T=Uf(),t!==null&&!Ht?(Lf(t,i,h),bs(t,i,h)):(Ke&&T&&gf(i),i.flags|=1,cn(t,i,l,h),i.child)}function Ny(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Dy(t,i,d,l,h)):(t=Fu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ld(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(_,l)&&t.ref===i.ref)return bs(t,i,h)}return i.flags|=1,t=gs(d,l),t.ref=i.ref,t.return=i,i.child=t}function Dy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===i.ref)if(Ht=!1,i.pendingProps=l=d,ld(t,h))(t.flags&131072)!==0&&(Ht=!0);else return i.lanes=t.lanes,bs(t,i,h)}return td(t,i,a,l,h)}function Oy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Vy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?kg(i,d):Df(),Ug(i);else return l=i.lanes=536870912,Vy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Yu(i,d.cachePool),kg(i,d),lr(),i.memoizedState=null):(t!==null&&Yu(i,null),Df(),lr());return cn(t,i,h,a),i.child}function Rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Vy(t,i,a,l,h){var d=Sf();return d=d===null?null:{parent:Bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Yu(i,null),Df(),Ug(i),t!==null&&so(t,i,l,!0),i.childLanes=h,null}function cc(t,i){return i=fc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function My(t,i,a){return pa(i,t.child,null,a),t=cc(i,i.pendingProps),t.flags|=2,Xn(i),i.memoizedState=null,t}function BA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=cc(i,l),i.lanes=536870912,Rl(null,t);if(Vf(i),(t=_t)?(t=Q_(t,hi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:er!==null?{id:Yi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},a=yg(t),a.return=i,i.child=a,ln=i,_t=null)):t=null,t===null)throw nr(i);return i.lanes=536870912,null}return cc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Vf(i),h)if(i.flags&256)i.flags&=-257,i=My(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ht||so(t,i,a,!1),h=(a&t.childLanes)!==0,Ht||h){if(l=ft,l!==null&&(_=Kr(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,oa(t,_),kn(l,t,_),ed;Ec(),i=My(t,i,a)}else t=d.treeContext,_t=di(_.nextSibling),ln=i,Ke=!0,tr=null,hi=!1,t!==null&&Tg(i,t),i=cc(i,l),i.flags|=4096;return i}return t=gs(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function hc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function td(t,i,a,l,h){return ha(i),a=kf(t,i,a,l,void 0,h),l=Uf(),t!==null&&!Ht?(Lf(t,i,h),bs(t,i,h)):(Ke&&l&&gf(i),i.flags|=1,cn(t,i,a,h),i.child)}function ky(t,i,a,l,h,d){return ha(i),i.updateQueue=null,a=Pg(i,l,a,h),Lg(t),l=Uf(),t!==null&&!Ht?(Lf(t,i,d),bs(t,i,d)):(Ke&&l&&gf(i),i.flags|=1,cn(t,i,a,d),i.child)}function Uy(t,i,a,l,h){if(ha(i),i.stateNode===null){var d=eo,_=a.contextType;typeof _=="object"&&_!==null&&(d=un(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},If(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?un(_):eo,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Zf.enqueueReplaceState(d,d.state,null),El(i,l,d,h),Tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=ya(a,T);d.props=C;var z=d.context,K=a.contextType;_=eo,typeof K=="object"&&K!==null&&(_=un(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&by(i,d,l,_),sr=!1;var j=i.memoizedState;d.state=j,El(i,l,d,h),Tl(),z=i.memoizedState,T||j!==z||sr?(typeof $=="function"&&(Jf(i,a,$,l),z=i.memoizedState),(C=sr||Ey(i,a,C,l,j,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Cf(t,i),_=i.memoizedProps,K=ya(a,_),d.props=K,$=i.pendingProps,j=d.context,z=a.contextType,C=eo,typeof z=="object"&&z!==null&&(C=un(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||j!==C)&&by(i,d,l,C),sr=!1,j=i.memoizedState,d.state=j,El(i,l,d,h),Tl();var q=i.memoizedState;_!==$||j!==q||sr||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof T=="function"&&(Jf(i,a,T,l),q=i.memoizedState),(K=sr||Ey(i,a,K,l,j,q,C)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,hc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=pa(i,t.child,null,h),i.child=pa(i,null,a,h)):cn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=bs(t,i,h),t}function Ly(t,i,a,l){return ua(),i.flags|=256,cn(t,i,a,l),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(t){return{baseLanes:t,cachePool:Rg()}}function sd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Jn),t}function Py(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Ut.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(h?or(i):lr(),(t=_t)?(t=Q_(t,hi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:er!==null?{id:Yi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},a=yg(t),a.return=i,i.child=a,ln=i,_t=null)):t=null,t===null)throw nr(i);return jd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(lr(),h=i.mode,T=fc({mode:"hidden",children:T},h),l=la(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=id(a),l.childLanes=sd(t,_,a),i.memoizedState=nd,Rl(null,l)):(or(i),rd(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(or(i),i.flags&=-257,i=ad(t,i,a)):i.memoizedState!==null?(lr(),i.child=t.child,i.flags|=128,i=null):(lr(),T=l.fallback,h=i.mode,l=fc({mode:"visible",children:l.children},h),T=la(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,pa(i,t.child,null,a),l=i.child,l.memoizedState=id(a),l.childLanes=sd(t,_,a),i.memoizedState=nd,i=Rl(null,l));else if(or(i),jd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,ml({value:l,source:null,stack:null}),i=ad(t,i,a)}else if(Ht||so(t,i,a,!1),_=(a&t.childLanes)!==0,Ht||_){if(_=ft,_!==null&&(l=Kr(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,oa(t,l),kn(_,t,l),ed;zd(T)||Ec(),i=ad(t,i,a)}else zd(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,_t=di(T.nextSibling),ln=i,Ke=!0,tr=null,hi=!1,t!==null&&Tg(i,t),i=rd(i,l.children),i.flags|=4096);return i}return h?(lr(),T=l.fallback,h=i.mode,C=t.child,z=C.sibling,l=gs(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=gs(z,T):(T=la(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Rl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=id(a):(h=T.cachePool,h!==null?(C=Bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Rg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=sd(t,_,a),i.memoizedState=nd,Rl(t.child,l)):(or(i),a=t.child,t=a.sibling,a=gs(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function rd(t,i){return i=fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function fc(t,i){return t=Kn(22,t,null,i),t.lanes=0,t}function ad(t,i,a){return pa(i,t.child,null,a),t=rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function zy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ef(t.return,i,a)}function od(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function jy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Ut.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(Ut,_),cn(t,i,l,a),l=Ke?dl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zy(t,a,i);else if(t.tag===19)zy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}od(i,!0,a,null,d,l);break;case"together":od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function bs(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),hr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(so(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=gs(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=gs(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function qA(t,i,a){switch(i.tag){case 3:wt(i,i.stateNode.containerInfo),ir(i,Bt,t.memoizedState.cache),ua();break;case 27:case 5:os(i);break;case 4:wt(i,i.stateNode.containerInfo);break;case 10:ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Vf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Py(t,i,a):(or(i),t=bs(t,i,a),t!==null?t.sibling:null);or(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(so(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return jy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Ut,Ut.current),l)break;return null;case 22:return i.lanes=0,Oy(t,i,a,i.pendingProps);case 24:ir(i,Bt,t.memoizedState.cache)}return bs(t,i,a)}function By(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ht=!0;else{if(!ld(t,a)&&(i.flags&128)===0)return Ht=!1,qA(t,i,a);Ht=(t.flags&131072)!==0}else Ht=!1,Ke&&(i.flags&1048576)!==0&&vg(i,dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=da(i.elementType),i.type=t,typeof t=="function")df(t)?(l=ya(t,l),i.tag=1,i=Uy(null,i,t,l,a)):(i.tag=0,i=td(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Re){i.tag=11,i=xy(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=Ny(null,i,t,l,a);break e}}throw i=at(t)||t,Error(r(306,i,""))}}return i;case 0:return td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ya(l,i.pendingProps),Uy(t,i,l,h,a);case 3:e:{if(wt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Cf(t,i),El(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ir(i,Bt,l),l!==d.cache&&bf(i,[Bt],a,!0),Tl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ly(t,i,l,a);break e}else if(l!==h){h=li(Error(r(424)),i),ml(h),i=Ly(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=di(t.firstChild),ln=i,Ke=!0,tr=null,hi=!0,a=Og(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ua(),l===h){i=bs(t,i,a);break e}cn(t,i,l,a)}i=i.child}return i;case 26:return hc(t,i),t===null?(a=Z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,l=Cc(ve.current).createElement(a),l[Ct]=i,l[Mt]=t,hn(l,a,t),je(l),i.stateNode=l):i.memoizedState=Z_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return os(i),t===null&&Ke&&(l=i.stateNode=X_(i.type,i.pendingProps,ve.current),ln=i,hi=!0,h=_t,gr(i.type)?(Bd=h,_t=di(l.firstChild)):_t=h),cn(t,i,i.pendingProps.children,a),hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((h=l=_t)&&(l=_w(l,i.type,i.pendingProps,hi),l!==null?(i.stateNode=l,ln=i,_t=di(l.firstChild),hi=!1,h=!0):h=!1),h||nr(i)),os(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Ud(h,d)?l=null:_!==null&&Ud(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=kf(t,i,VA,null,null,a),Bl._currentValue=h),hc(t,i),cn(t,i,l,a),i.child;case 6:return t===null&&Ke&&((t=a=_t)&&(a=vw(a,i.pendingProps,hi),a!==null?(i.stateNode=a,ln=i,_t=null,t=!0):t=!1),t||nr(i)),null;case 13:return Py(t,i,a);case 4:return wt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=pa(i,null,l,a):cn(t,i,l,a),i.child;case 11:return xy(t,i,i.type,i.pendingProps,a);case 7:return cn(t,i,i.pendingProps,a),i.child;case 8:return cn(t,i,i.pendingProps.children,a),i.child;case 12:return cn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ir(i,i.type,l.value),cn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ha(i),h=un(h),l=l(h),i.flags|=1,cn(t,i,l,a),i.child;case 14:return Ny(t,i,i.type,i.pendingProps,a);case 15:return Dy(t,i,i.type,i.pendingProps,a);case 19:return jy(t,i,a);case 31:return BA(t,i,a);case 22:return Oy(t,i,a,i.pendingProps);case 24:return ha(i),l=un(Bt),t===null?(h=Sf(),h===null&&(h=ft,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},If(i),ir(i,Bt,h)):((t.lanes&a)!==0&&(Cf(t,i),El(i,null,null,a),Tl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ir(i,Bt,l)):(l=d.cache,ir(i,Bt,l),l!==h.cache&&bf(i,[Bt],a,!0))),cn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function As(t){t.flags|=4}function ud(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(m_())t.flags|=8192;else throw ma=$u,Rf}else t.flags&=-16777217}function qy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iv(i))if(m_())t.flags|=8192;else throw ma=$u,Rf}function dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?za():536870912,t.lanes|=i,yo|=i)}function Il(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function HA(t,i,a){var l=i.pendingProps;switch(yf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),vs(Bt),ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(io(i)?As(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vf())),vt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(As(i),d!==null?(vt(i),qy(i,d)):(vt(i),ud(i,h,null,l,a))):d?d!==t.memoizedState?(As(i),vt(i),qy(i,d)):(vt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&As(i),vt(i),ud(i,h,t,l,a)),null;case 27:if(Ti(i),a=ve.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&As(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return vt(i),null}t=se.current,io(i)?Eg(i):(t=X_(h,l,a),i.stateNode=t,As(i))}return vt(i),null;case 5:if(Ti(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&As(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return vt(i),null}if(d=se.current,io(i))Eg(i);else{var _=Cc(ve.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ct]=i,d[Mt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(hn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&As(i)}}return vt(i),ud(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&As(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=ve.current,io(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||P_(t.nodeValue,a)),t||nr(i,!0)}else t=Cc(t).createTextNode(l),t[Ct]=i,i.stateNode=t}return vt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=io(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ct]=i}else ua(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),t=!1}else a=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Xn(i),i):(Xn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return vt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=io(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ct]=i}else ua(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),h=!1}else h=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Xn(i),i):(Xn(i),null)}return Xn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),vt(i),null);case 4:return ht(),t===null&&Dd(i.stateNode.containerInfo),vt(i),null;case 10:return vs(i.type),vt(i),null;case 19:if(H(Ut),l=i.memoizedState,l===null)return vt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Il(l,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ec(t),d!==null){for(i.flags|=128,Il(l,!1),t=d.updateQueue,i.updateQueue=t,dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)gg(a,t),a=a.sibling;return ae(Ut,Ut.current&1|2),Ke&&ys(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nt()>_c&&(i.flags|=128,h=!0,Il(l,!1),i.lanes=4194304)}else{if(!h)if(t=ec(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,dc(i,t),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ke)return vt(i),null}else 2*nt()-l.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,Il(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nt(),t.sibling=null,a=Ut.current,ae(Ut,h?a&1|2:a&1),Ke&&ys(i,l.treeForkCount),t):(vt(i),null);case 22:case 23:return Xn(i),Of(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&H(fa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),vs(Bt),vt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function FA(t,i){switch(yf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return vs(Bt),ht(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ti(i),null;case 31:if(i.memoizedState!==null){if(Xn(i),i.alternate===null)throw Error(r(340));ua()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Xn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ua()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return H(Ut),null;case 4:return ht(),null;case 10:return vs(i.type),null;case 22:case 23:return Xn(i),Of(),t!==null&&H(fa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return vs(Bt),null;case 25:return null;default:return null}}function Hy(t,i){switch(yf(i),i.tag){case 3:vs(Bt),ht();break;case 26:case 27:case 5:Ti(i);break;case 4:ht();break;case 31:i.memoizedState!==null&&Xn(i);break;case 13:Xn(i);break;case 19:H(Ut);break;case 10:vs(i.type);break;case 22:case 23:Xn(i),Of(),t!==null&&H(fa);break;case 24:vs(Bt)}}function Cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){rt(i,i.return,T)}}function ur(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(K){rt(h,C,K)}}}l=l.next}while(l!==d)}}catch(K){rt(i,i.return,K)}}function Fy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Mg(i,a)}catch(l){rt(t,t.return,l)}}}function Gy(t,i,a){a.props=ya(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){rt(t,i,l)}}function xl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){rt(t,i,h)}}function $i(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){rt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,i,h)}else a.current=null}function Qy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function cd(t,i,a){try{var l=t.stateNode;fw(l,t.type,a,i),l[Mt]=i}catch(h){rt(t,t.return,h)}}function Ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ai));else if(l!==4&&(l===27&&gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(fd(t,i,a),t=t.sibling;t!==null;)fd(t,i,a),t=t.sibling}function mc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,i,a),t=t.sibling;t!==null;)mc(t,i,a),t=t.sibling}function Yy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);hn(i,l,a),i[Ct]=t,i[Mt]=a}catch(d){rt(t,t.return,d)}}var ws=!1,Ft=!1,dd=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,tn=null;function GA(t,i){if(t=t.containerInfo,Md=kc,t=og(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,z=0,K=0,$=t,j=null;t:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(C=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(q=$.firstChild)!==null;)j=$,$=q;for(;;){if($===t)break t;if(j===a&&++z===h&&(T=_),j===d&&++K===l&&(C=_),(q=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},kc=!1,tn=i;tn!==null;)if(i=tn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,tn=t;else for(;tn!==null;){switch(i=tn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=ya(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){rt(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,tn=t;break}tn=i.return}}function $y(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rs(t,a),l&4&&Cl(5,a);break;case 1:if(Rs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){rt(a,a.return,_)}else{var h=ya(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(a,a.return,_)}}l&64&&Fy(a),l&512&&xl(a,a.return);break;case 3:if(Rs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Mg(t,i)}catch(_){rt(a,a.return,_)}}break;case 27:i===null&&l&4&&Yy(a);case 26:case 5:Rs(t,a),i===null&&l&4&&Qy(a),l&512&&xl(a,a.return);break;case 12:Rs(t,a);break;case 31:Rs(t,a),l&4&&Wy(t,a);break;case 13:Rs(t,a),l&4&&e_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ew.bind(null,a),Tw(t,a))));break;case 22:if(l=a.memoizedState!==null||ws,!l){i=i!==null&&i.memoizedState!==null||Ft,h=ws;var d=Ft;ws=l,(Ft=i)&&!d?Is(t,a,(a.subtreeFlags&8772)!==0):Rs(t,a),ws=h,Ft=d}break;case 30:break;default:Rs(t,a)}}function Jy(t){var i=t.alternate;i!==null&&(t.alternate=null,Jy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ie(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Dn=!1;function Ss(t,i,a){for(a=a.child;a!==null;)Zy(t,i,a),a=a.sibling}function Zy(t,i,a){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Zt,a)}catch{}switch(a.tag){case 26:Ft||$i(a,i),Ss(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||$i(a,i);var l=At,h=Dn;gr(a.type)&&(At=a.stateNode,Dn=!1),Ss(t,i,a),Pl(a.stateNode),At=l,Dn=h;break;case 5:Ft||$i(a,i);case 6:if(l=At,h=Dn,At=null,Ss(t,i,a),At=l,Dn=h,At!==null)if(Dn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(d){rt(a,i,d)}else try{At.removeChild(a.stateNode)}catch(d){rt(a,i,d)}break;case 18:At!==null&&(Dn?(t=At,F_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):F_(At,a.stateNode));break;case 4:l=At,h=Dn,At=a.stateNode.containerInfo,Dn=!0,Ss(t,i,a),At=l,Dn=h;break;case 0:case 11:case 14:case 15:ur(2,a,i),Ft||ur(4,a,i),Ss(t,i,a);break;case 1:Ft||($i(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gy(a,i,l)),Ss(t,i,a);break;case 21:Ss(t,i,a);break;case 22:Ft=(l=Ft)||a.memoizedState!==null,Ss(t,i,a),Ft=l;break;default:Ss(t,i,a)}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(a){rt(i,i.return,a)}}}function e_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){rt(i,i.return,a)}}function QA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Xy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Xy),i;default:throw Error(r(435,t.tag))}}function pc(t,i){var a=QA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=tw.bind(null,t,l);l.then(h,h)}})}function On(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){At=T.stateNode,Dn=!1;break e}break;case 5:At=T.stateNode,Dn=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,Dn=!0;break e}T=T.return}if(At===null)throw Error(r(160));Zy(d,_,h),At=null,Dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)t_(i,t),i=i.sibling}var xi=null;function t_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(i,t),Vn(t),l&4&&(ur(3,t,t.return),Cl(3,t),ur(5,t,t.return));break;case 1:On(i,t),Vn(t),l&512&&(Ft||a===null||$i(a,a.return)),l&64&&ws&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=xi;if(On(i,t),Vn(t),l&512&&(Ft||a===null||$i(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[le]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),hn(d,l,a),d[Ct]=t,je(d),l=d;break e;case"link":var _=tv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),hn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=tv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),hn(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ct]=t,je(d),l=d}t.stateNode=l}else nv(h,t.type,t.stateNode);else t.stateNode=ev(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nv(h,t.type,t.stateNode):ev(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:On(i,t),Vn(t),l&512&&(Ft||a===null||$i(a,a.return)),a!==null&&l&4&&cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(On(i,t),Vn(t),l&512&&(Ft||a===null||$i(a,a.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(ce){rt(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(dd=!0);break;case 6:if(On(i,t),Vn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){rt(t,t.return,ce)}}break;case 3:if(Dc=null,h=xi,xi=xc(i.containerInfo),On(i,t),xi=h,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(ce){rt(t,t.return,ce)}dd&&(dd=!1,n_(t));break;case 4:l=xi,xi=xc(t.stateNode.containerInfo),On(i,t),Vn(t),xi=l;break;case 12:On(i,t),Vn(t);break;case 31:On(i,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 13:On(i,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ws,K=Ft;if(ws=z||h,Ft=K||C,On(i,t),Ft=K,ws=z,Vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ws||Ft||_a(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ce){rt(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){rt(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var q=C.stateNode;h?G_(q,!0):G_(C.stateNode,!1)}catch(ce){rt(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pc(t,a))));break;case 19:On(i,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 30:break;case 21:break;default:On(i,t),Vn(t)}}function Vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ky(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=hd(t);mc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Nn(_,""),a.flags&=-33);var T=hd(t);mc(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=hd(t);fd(t,z,C);break;default:throw Error(r(161))}}catch(K){rt(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function n_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;n_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Rs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$y(t,i.alternate,i),i=i.sibling}function _a(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ur(4,i,i.return),_a(i);break;case 1:$i(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Gy(i,i.return,a),_a(i);break;case 27:Pl(i.stateNode);case 26:case 5:$i(i,i.return),_a(i);break;case 22:i.memoizedState===null&&_a(i);break;case 30:_a(i);break;default:_a(i)}t=t.sibling}}function Is(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Is(h,d,a),Cl(4,d);break;case 1:if(Is(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Vg(C[h],T)}catch(z){rt(l,l.return,z)}}a&&_&64&&Fy(d),xl(d,d.return);break;case 27:Yy(d);case 26:case 5:Is(h,d,a),a&&l===null&&_&4&&Qy(d),xl(d,d.return);break;case 12:Is(h,d,a);break;case 31:Is(h,d,a),a&&_&4&&Wy(h,d);break;case 13:Is(h,d,a),a&&_&4&&e_(h,d);break;case 22:d.memoizedState===null&&Is(h,d,a),xl(d,d.return);break;case 30:break;default:Is(h,d,a)}i=i.sibling}}function md(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function Ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i_(t,i,a,l),i=i.sibling}function i_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ni(t,i,a,l),h&2048&&Cl(9,i);break;case 1:Ni(t,i,a,l);break;case 3:Ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(h&2048){Ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(i,i.return,C)}}else Ni(t,i,a,l);break;case 31:Ni(t,i,a,l);break;case 13:Ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Ni(t,i,a,l):Nl(t,i):d._visibility&2?Ni(t,i,a,l):(d._visibility|=2,mo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&md(_,i);break;case 24:Ni(t,i,a,l),h&2048&&pd(i.alternate,i);break;default:Ni(t,i,a,l)}}function mo(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:mo(d,_,T,C,h),Cl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?mo(d,_,T,C,h):Nl(d,_):(K._visibility|=2,mo(d,_,T,C,h)),h&&z&2048&&md(_.alternate,_);break;case 24:mo(d,_,T,C,h),h&&z&2048&&pd(_.alternate,_);break;default:mo(d,_,T,C,h)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&md(l.alternate,l);break;case 24:Nl(a,l),h&2048&&pd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Dl=8192;function po(t,i,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)s_(t,i,a),t=t.sibling}function s_(t,i,a){switch(t.tag){case 26:po(t,i,a),t.flags&Dl&&t.memoizedState!==null&&Ow(a,xi,t.memoizedState,t.memoizedProps);break;case 5:po(t,i,a);break;case 3:case 4:var l=xi;xi=xc(t.stateNode.containerInfo),po(t,i,a),xi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,po(t,i,a),Dl=l):po(t,i,a));break;default:po(t,i,a)}}function r_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];tn=l,o_(l,t)}r_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)a_(t),t=t.sibling}function a_(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&ur(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):Ol(t);break;default:Ol(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];tn=l,o_(l,t)}r_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ur(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function o_(t,i){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tn=l;else e:for(a=t;tn!==null;){l=tn;var h=l.sibling,d=l.return;if(Jy(l),l===a){tn=null;break e}if(h!==null){h.return=d,tn=h;break e}tn=d}}}var KA={getCacheForType:function(t){var i=un(Bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return un(Bt).controller.signal}},YA=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Pe=null,Be=0,st=0,$n=null,cr=!1,go=!1,gd=!1,Cs=0,Nt=0,hr=0,va=0,yd=0,Jn=0,yo=0,Vl=null,Mn=null,_d=!1,yc=0,l_=0,_c=1/0,vc=null,fr=null,$t=0,dr=null,_o=null,xs=0,vd=0,Td=null,u_=null,Ml=0,Ed=null;function Zn(){return(et&2)!==0&&Be!==0?Be&-Be:Q.T!==null?Id():ja()}function c_(){if(Jn===0)if((Be&536870912)===0||Ke){var t=En;En<<=1,(En&3932160)===0&&(En=262144),Jn=t}else Jn=536870912;return t=Yn.current,t!==null&&(t.flags|=32),Jn}function kn(t,i,a){(t===ft&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(vo(t,0),mr(t,Be,Jn,!1)),cs(t,a),((et&2)===0||t!==ft)&&(t===ft&&((et&2)===0&&(va|=a),Nt===4&&mr(t,Be,Jn,!1)),Ji(t))}function h_(t,i,a){if((et&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?JA(t,i):Ad(t,i,!0),d=l;do{if(h===0){go&&!l&&mr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!XA(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Vl;var C=T.current.memoizedState.isDehydrated;if(C&&(vo(T,_).flags|=256),_=Ad(T,_,!1),_!==2){if(gd&&!C){T.errorRecoveryDisabledLanes|=d,va|=d,h=4;break e}d=Mn,Mn=h,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){vo(t,0),mr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:mr(l,i,Jn,!cr);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=yc+300-nt(),10<h)){if(mr(l,i,Jn,!cr),ni(l,0,!0)!==0)break e;xs=i,l.timeoutHandle=q_(f_.bind(null,l,a,Mn,vc,_d,i,Jn,va,yo,cr,d,"Throttled",-0,0),h);break e}f_(l,a,Mn,vc,_d,i,Jn,va,yo,cr,d,null,-0,0)}}break}while(!0);Ji(t)}function f_(t,i,a,l,h,d,_,T,C,z,K,$,j,q){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},s_(i,d,$);var ce=(d&62914560)===d?yc-nt():(d&4194048)===d?l_-nt():0;if(ce=Vw($,ce),ce!==null){xs=d,t.cancelPendingCommit=ce(T_.bind(null,t,i,d,a,l,h,_,T,C,K,$,null,j,q)),mr(t,d,_,!z);return}}T_(t,i,d,a,l,h,_,T,C)}function XA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Qn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mr(t,i,a,l){i&=~yd,i&=~va,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&zi(t,a,i)}function Tc(){return(et&6)===0?(kl(0),!1):!0}function bd(){if(Pe!==null){if(st===0)var t=Pe.return;else t=Pe,_s=ca=null,Pf(t),lo=null,yl=0,t=Pe;for(;t!==null;)Hy(t.alternate,t),t=t.return;Pe=null}}function vo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xs=0,bd(),ft=t,Pe=a=gs(t.current,null),Be=i,st=0,$n=null,cr=!1,go=Hn(t,i),gd=!1,yo=Jn=yd=va=hr=Nt=0,Mn=Vl=null,_d=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-gt(l),d=1<<h;i|=t[h],l&=~d}return Cs=i,Bu(),a}function d_(t,i){Ve=null,Q.H=Sl,i===oo||i===Xu?(i=xg(),st=3):i===Rf?(i=xg(),st=4):st=i===ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$n=i,Pe===null&&(Nt=1,uc(t,li(i,t.current)))}function m_(){var t=Yn.current;return t===null?!0:(Be&4194048)===Be?fi===null:(Be&62914560)===Be||(Be&536870912)!==0?t===fi:!1}function p_(){var t=Q.H;return Q.H=Sl,t===null?Sl:t}function g_(){var t=Q.A;return Q.A=KA,t}function Ec(){Nt=4,cr||(Be&4194048)!==Be&&Yn.current!==null||(go=!0),(hr&134217727)===0&&(va&134217727)===0||ft===null||mr(ft,Be,Jn,!1)}function Ad(t,i,a){var l=et;et|=2;var h=p_(),d=g_();(ft!==t||Be!==i)&&(vc=null,vo(t,i)),i=!1;var _=Nt;e:do try{if(st!==0&&Pe!==null){var T=Pe,C=$n;switch(st){case 8:bd(),_=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(i=!0);var z=st;if(st=0,$n=null,To(t,T,C,z),a&&go){_=0;break e}break;default:z=st,st=0,$n=null,To(t,T,C,z)}}$A(),_=Nt;break}catch(K){d_(t,K)}while(!0);return i&&t.shellSuspendCounter++,_s=ca=null,et=l,Q.H=h,Q.A=d,Pe===null&&(ft=null,Be=0,Bu()),_}function $A(){for(;Pe!==null;)y_(Pe)}function JA(t,i){var a=et;et|=2;var l=p_(),h=g_();ft!==t||Be!==i?(vc=null,_c=nt()+500,vo(t,i)):go=Hn(t,i);e:do try{if(st!==0&&Pe!==null){i=Pe;var d=$n;t:switch(st){case 1:st=0,$n=null,To(t,i,d,1);break;case 2:case 9:if(Ig(d)){st=0,$n=null,__(i);break}i=function(){st!==2&&st!==9||ft!==t||(st=7),Ji(t)},d.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Ig(d)?(st=0,$n=null,__(i)):(st=0,$n=null,To(t,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var T=Pe;if(_?iv(_):T.stateNode.complete){st=0,$n=null;var C=T.sibling;if(C!==null)Pe=C;else{var z=T.return;z!==null?(Pe=z,bc(z)):Pe=null}break t}}st=0,$n=null,To(t,i,d,5);break;case 6:st=0,$n=null,To(t,i,d,6);break;case 8:bd(),Nt=6;break e;default:throw Error(r(462))}}ZA();break}catch(K){d_(t,K)}while(!0);return _s=ca=null,Q.H=l,Q.A=h,et=a,Pe!==null?0:(ft=null,Be=0,Bu(),Nt)}function ZA(){for(;Pe!==null&&!ls();)y_(Pe)}function y_(t){var i=By(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,i===null?bc(t):Pe=i}function __(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ky(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=ky(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Pf(i);default:Hy(a,i),i=Pe=gg(i,Cs),i=By(a,i,Cs)}t.memoizedProps=t.pendingProps,i===null?bc(t):Pe=i}function To(t,i,a,l){_s=ca=null,Pf(i),lo=null,yl=0;var h=i.return;try{if(jA(t,h,i,a,Be)){Nt=1,uc(t,li(a,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;Nt=1,uc(t,li(a,t.current)),Pe=null;return}i.flags&32768?(Ke||l===1?t=!0:go||(Be&536870912)!==0?t=!1:(cr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){v_(i,cr);return}t=i.return;var a=HA(i.alternate,i,Cs);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);Nt===0&&(Nt=5)}function v_(t,i){do{var a=FA(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);Nt=6,Pe=null}function T_(t,i,a,l,h,d,_,T,C){t.cancelPendingCommit=null;do Ac();while($t!==0);if((et&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=hf,Zo(t,a,d,_,T,C),t===ft&&(Pe=ft=null,Be=0),_o=i,dr=t,xs=a,vd=d,Td=h,u_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nw(Ei,function(){return S_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=re.p,re.p=2,_=et,et|=4;try{GA(t,i,a)}finally{et=_,re.p=h,Q.T=l}}$t=1,E_(),b_(),A_()}}function E_(){if($t===1){$t=0;var t=dr,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=re.p;re.p=2;var h=et;et|=4;try{t_(i,t);var d=kd,_=og(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&ag(T.ownerDocument.documentElement,T)){if(C!==null&&af(T)){var z=C.start,K=C.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var $=T.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var q=j.getSelection(),ce=T.textContent.length,Te=Math.min(C.start,ce),ct=C.end===void 0?Te:Math.min(C.end,ce);!q.extend&&Te>ct&&(_=ct,ct=Te,Te=_);var k=rg(T,Te),O=rg(T,ct);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=$.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),Te>ct?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}kc=!!Md,kd=Md=null}finally{et=h,re.p=l,Q.T=a}}t.current=i,$t=2}}function b_(){if($t===2){$t=0;var t=dr,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=re.p;re.p=2;var h=et;et|=4;try{$y(t,i.alternate,i)}finally{et=h,re.p=l,Q.T=a}}$t=3}}function A_(){if($t===4||$t===3){$t=0,Xe();var t=dr,i=_o,a=xs,l=u_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,_o=dr=null,w_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(fr=null),bi(a),i=i.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Zt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=re.p,re.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,re.p=h}}(xs&3)!==0&&Ac(),Ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ed?Ml++:(Ml=0,Ed=t):Ml=0,kl(0)}}function w_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Ac(){return E_(),b_(),A_(),S_()}function S_(){if($t!==5)return!1;var t=dr,i=vd;vd=0;var a=bi(xs),l=Q.T,h=re.p;try{re.p=32>a?32:a,Q.T=null,a=Td,Td=null;var d=dr,_=xs;if($t=0,_o=dr=null,xs=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,a_(d.current),i_(d,d.current,_,a),et=T,kl(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Zt,d)}catch{}return!0}finally{re.p=h,Q.T=l,w_(t,i)}}function R_(t,i,a){i=li(a,i),i=Wf(t.stateNode,i,2),t=ar(t,i,2),t!==null&&(cs(t,2),Ji(t))}function rt(t,i,a){if(t.tag===3)R_(t,t,a);else for(;i!==null;){if(i.tag===3){R_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=li(a,t),a=Iy(2),l=ar(i,a,2),l!==null&&(Cy(a,l,i,t),cs(l,2),Ji(l));break}}i=i.return}}function wd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new YA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(gd=!0,h.add(a),t=WA.bind(null,t,i,a),i.then(t,t))}function WA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(Be&a)===a&&(Nt===4||Nt===3&&(Be&62914560)===Be&&300>nt()-yc?(et&2)===0&&vo(t,0):yd|=a,yo===Be&&(yo=0)),Ji(t)}function I_(t,i){i===0&&(i=za()),t=oa(t,i),t!==null&&(cs(t,i),Ji(t))}function ew(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),I_(t,a)}function tw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),I_(t,a)}function nw(t,i){return It(t,i)}var wc=null,Eo=null,Sd=!1,Sc=!1,Rd=!1,pr=0;function Ji(t){t!==Eo&&t.next===null&&(Eo===null?wc=Eo=t:Eo=Eo.next=t),Sc=!0,Sd||(Sd=!0,sw())}function kl(t,i){if(!Rd&&Sc){Rd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,D_(l,d))}else d=Be,d=ni(l,l===ft?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,D_(l,d));l=l.next}while(a);Rd=!1}}function iw(){C_()}function C_(){Sc=Sd=!1;var t=0;pr!==0&&mw()&&(t=pr);for(var i=nt(),a=null,l=wc;l!==null;){var h=l.next,d=x_(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(Eo=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}$t!==0&&$t!==5||kl(t),pr!==0&&(pr=0)}function x_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Jo(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=ft,a=Be,a=ni(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&sn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&sn(l),bi(a)){case 2:case 8:a=Pi;break;case 32:a=Ei;break;case 268435456:a=Gr;break;default:a=Ei}return l=N_.bind(null,t),a=It(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&sn(l),t.callbackPriority=2,t.callbackNode=null,2}function N_(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Be;return l=ni(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(h_(t,l,i),x_(t,nt()),t.callbackNode!=null&&t.callbackNode===a?N_.bind(null,t):null)}function D_(t,i){if(Ac())return null;h_(t,i,!0)}function sw(){gw(function(){(et&6)!==0?It(Li,iw):C_()})}function Id(){if(pr===0){var t=ro;t===0&&(t=qn,qn<<=1,(qn&261888)===0&&(qn=256)),pr=t}return pr}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function V_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=O_((h[Mt]||null).action),_=l.submitter;_&&(i=(i=_[Mt]||null)?O_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Fi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pr!==0){var C=_?V_(h,_):new FormData(h);Kf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?V_(h,_):new FormData(h),Kf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Cd=0;Cd<cf.length;Cd++){var xd=cf[Cd],aw=xd.toLowerCase(),ow=xd[0].toUpperCase()+xd.slice(1);Ci(aw,"on"+ow)}Ci(cg,"onAnimationEnd"),Ci(hg,"onAnimationIteration"),Ci(fg,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(AA,"onTransitionRun"),Ci(wA,"onTransitionStart"),Ci(SA,"onTransitionCancel"),Ci(dg,"onTransitionEnd"),zt("onMouseEnter",["mouseout","mouseover"]),zt("onMouseLeave",["mouseout","mouseover"]),zt("onPointerEnter",["pointerout","pointerover"]),zt("onPointerLeave",["pointerout","pointerover"]),Wt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function M_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(K){ju(K)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(K){ju(K)}h.currentTarget=null,d=C}}}}function ze(t,i){var a=i[fs];a===void 0&&(a=i[fs]=new Set);var l=t+"__bubble";a.has(l)||(k_(i,t,2,!1),a.add(l))}function Nd(t,i,a){var l=0;i&&(l|=4),k_(a,t,l,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[Rc]){t[Rc]=!0,Xt.forEach(function(a){a!=="selectionchange"&&(lw.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Nd("selectionchange",!1,i))}}function k_(t,i,a,l){switch(cv(i)){case 2:var h=Uw;break;case 8:h=Lw;break;default:h=Qd}a=h.bind(null,i,a,t),h=void 0,!Wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Od(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=me(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}$s(function(){var z=d,K=si(a),$=[];e:{var j=mg.get(t);if(j!==void 0){var q=Fi,ce=t;switch(t){case"keypress":if(ta(a)===0)break e;case"keydown":case"keyup":q=Lu;break;case"focusin":ce="focus",q=ia;break;case"focusout":ce="blur",q=ia;break;case"beforeblur":case"afterblur":q=ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case cg:case hg:case fg:q=Nu;break;case dg:q=b;break;case"scroll":case"scrollend":q=al;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ps;break;case"toggle":case"beforetoggle":q=Oe}var Te=(i&4)!==0,ct=!Te&&(t==="scroll"||t==="scrollend"),k=Te?j!==null?j+"Capture":null:j;Te=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=wi(O,k),Y!=null&&Te.push(Ll(O,Y,P))),ct)break;O=O.return}0<Te.length&&(j=new q(j,ce,null,a,K),$.push({event:j,listeners:Te}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==il&&(ce=a.relatedTarget||a.fromElement)&&(me(ce)||ce[Fn]))break e;if((q||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ce=a.relatedTarget||a.toElement,q=z,ce=ce?me(ce):null,ce!==null&&(ct=u(ce),Te=ce.tag,ce!==ct||Te!==5&&Te!==27&&Te!==6)&&(ce=null)):(q=null,ce=z),q!==ce)){if(Te=ol,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=ps,Y="onPointerLeave",k="onPointerEnter",O="pointer"),ct=q==null?j:dt(q),P=ce==null?j:dt(ce),j=new Te(Y,O+"leave",q,a,K),j.target=ct,j.relatedTarget=P,Y=null,me(K)===z&&(Te=new Te(k,O+"enter",ce,a,K),Te.target=P,Te.relatedTarget=ct,Y=Te),ct=Y,q&&ce)t:{for(Te=uw,k=q,O=ce,P=0,Y=k;Y;Y=Te(Y))P++;Y=0;for(var ge=O;ge;ge=Te(ge))Y++;for(;0<P-Y;)k=Te(k),P--;for(;0<Y-P;)O=Te(O),Y--;for(;P--;){if(k===O||O!==null&&k===O.alternate){Te=k;break t}k=Te(k),O=Te(O)}Te=null}else Te=null;q!==null&&U_($,j,q,Te,!1),ce!==null&&ct!==null&&U_($,ct,ce,Te,!0)}}e:{if(j=z?dt(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var $e=Wp;else if(Jp(j))if(eg)$e=TA;else{$e=_A;var fe=yA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Ha(z.elementType)&&($e=Wp):$e=vA;if($e&&($e=$e(t,z))){Zp($,$e,a,K);break e}fe&&fe(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&el(j,"number",j.value)}switch(fe=z?dt(z):window,t){case"focusin":(Jp(fe)||fe.contentEditable==="true")&&(Ja=fe,of=z,fl=null);break;case"focusout":fl=of=Ja=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,lg($,a,K);break;case"selectionchange":if(bA)break;case"keydown":case"keyup":lg($,a,K)}var Me;if(We)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else $a?sa(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Ki&&a.locale!=="ko"&&($a||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&$a&&(Me=rl()):(Hi=K,sl="value"in Hi?Hi.value:Hi.textContent,$a=!0)),fe=Ic(z,qe),0<fe.length&&(qe=new Qi(qe,t,null,a,K),$.push({event:qe,listeners:fe}),Me?qe.data=Me:(Me=Xa(a),Me!==null&&(qe.data=Me)))),(Me=ai?dA(t,a):mA(t,a))&&(qe=Ic(z,"onBeforeInput"),0<qe.length&&(fe=new Qi("onBeforeInput","beforeinput",null,a,K),$.push({event:fe,listeners:qe}),fe.data=Me)),rw($,t,z,a,K)}M_($,i)})}function Ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=wi(t,a),h!=null&&l.unshift(Ll(t,h,d)),h=wi(t,i),h!=null&&l.push(Ll(t,h,d))),t.tag===3)return l;t=t.return}return[]}function uw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function U_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=wi(a,d),z!=null&&_.unshift(Ll(a,z,C))):h||(z=wi(a,d),z!=null&&_.push(Ll(a,z,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var cw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(hw,"")}function P_(t,i){return i=L_(i),L_(t)===i}function ut(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(i!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ut(t,i,"name",h.name,h,null),ut(t,i,"formEncType",h.formEncType,h,null),ut(t,i,"formMethod",h.formMethod,h,null),ut(t,i,"formTarget",h.formTarget,h,null)):(ut(t,i,"encType",h.encType,h,null),ut(t,i,"method",h.method,h,null),ut(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ai);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,Ba(t,a,l))}}function Vd(t,i,a,l,h,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!an.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function hn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ut(t,i,d,_,a,null)}}h&&ut(t,i,"srcSet",a.srcSet,a,null),l&&ut(t,i,"src",a.src,a,null);return;case"input":ze("invalid",t);var T=d=_=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":C=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:ut(t,i,l,K,a,null)}}wu(t,d,T,C,z,_,h,!1);return;case"select":ze("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ut(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Qs(t,!!l,i,!1):a!=null&&Qs(t,!!l,a,!0);return;case"textarea":ze("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ut(t,i,_,T,a,null)}Ks(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,i,C,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)ze(Ul[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ut(t,i,z,l,a,null)}return;default:if(Ha(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Vd(t,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ut(t,i,T,l,a,null))}function fw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,z=null,K=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(q)||ut(t,i,q,null,l,$)}}for(var j in l){var q=l[j];if($=a[j],l.hasOwnProperty(j)&&(q!=null||$!=null))switch(j){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":K=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==$&&ut(t,i,j,q,l,$)}}qa(t,_,T,C,z,K,d,h);return;case"select":q=_=T=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(d)||ut(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&ut(t,i,h,d,l,C)}i=T,a=_,l=q,j!=null?Qs(t,!!a,j,!1):!!l!=!!a&&(i!=null?Qs(t,!!a,i,!0):Qs(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&ut(t,i,_,h,l,d)}Su(t,j,q);return;case"option":for(var ce in a)if(j=a[ce],a.hasOwnProperty(ce)&&j!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:ut(t,i,ce,null,l,j)}for(C in l)if(j=l[C],q=a[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ut(t,i,C,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)j=a[Te],a.hasOwnProperty(Te)&&j!=null&&!l.hasOwnProperty(Te)&&ut(t,i,Te,null,l,j);for(z in l)if(j=l[z],q=a[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:ut(t,i,z,j,l,q)}return;default:if(Ha(i)){for(var ct in a)j=a[ct],a.hasOwnProperty(ct)&&j!==void 0&&!l.hasOwnProperty(ct)&&Vd(t,i,ct,void 0,l,j);for(K in l)j=l[K],q=a[K],!l.hasOwnProperty(K)||j===q||j===void 0&&q===void 0||Vd(t,i,K,j,l,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&ut(t,i,k,null,l,j);for($ in l)j=l[$],q=a[$],!l.hasOwnProperty($)||j===q||j==null&&q==null||ut(t,i,$,j,l,q)}function z_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&z_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var K=C.transferSize,$=C.initiatorType;K&&z_($)&&(C=C.responseEnd,_+=K*(C<T?1:(T-z)/(C-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Md=null,kd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function j_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ud(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ld=null;function mw(){var t=window.event;return t&&t.type==="popstate"?t===Ld?!1:(Ld=t,!0):(Ld=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,pw=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(yw)}:q_;function yw(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function F_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),So(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Pl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[le]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Pl(t.ownerDocument.body);a=h}while(a);So(i)}function G_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),ie(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _w(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[le])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=di(t.nextSibling),t===null)break}return null}function vw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=di(t.nextSibling),t===null))return null;return t}function Q_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=di(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function di(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Bd=null;function K_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return di(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Y_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function X_(t,i,a){switch(i=Cc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Pl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ie(t)}var mi=new Map,$_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ns=re.d;re.d={f:Ew,r:bw,D:Aw,C:ww,L:Sw,m:Rw,X:Cw,S:Iw,M:xw};function Ew(){var t=Ns.f(),i=Tc();return t||i}function bw(t){var i=Ce(t);i!==null&&i.tag===5&&i.type==="form"?dy(i):Ns.r(t)}var bo=typeof document>"u"?null:document;function J_(t,i,a){var l=bo;if(l&&typeof i=="string"&&i){var h=xn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),$_.has(h)||($_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),hn(i,"link",t),je(i),l.head.appendChild(i)))}}function Aw(t){Ns.D(t),J_("dns-prefetch",t,null)}function ww(t,i){Ns.C(t,i),J_("preconnect",t,i)}function Sw(t,i,a){Ns.L(t,i,a);var l=bo;if(l&&t&&i){var h='link[rel="preload"][as="'+xn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+xn(a.imageSizes)+'"]')):h+='[href="'+xn(t)+'"]';var d=h;switch(i){case"style":d=Ao(t);break;case"script":d=wo(t)}mi.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),mi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),hn(i,"link",t),je(i),l.head.appendChild(i)))}}function Rw(t,i){Ns.m(t,i);var a=bo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wo(t)}if(!mi.has(d)&&(t=w({rel:"modulepreload",href:t},i),mi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),hn(l,"link",t),je(l),a.head.appendChild(l)}}}function Iw(t,i,a){Ns.S(t,i,a);var l=bo;if(l&&t){var h=Ze(l).hoistableStyles,d=Ao(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(zl(d)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=mi.get(d))&&qd(t,a);var C=_=l.createElement("link");je(C),hn(C,"link",t),C._p=new Promise(function(z,K){C.onload=z,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Cw(t,i){Ns.X(t,i);var a=bo;if(a&&t){var l=Ze(a).hoistableScripts,h=wo(t),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(t=w({src:t,async:!0},i),(i=mi.get(h))&&Hd(t,i),d=a.createElement("script"),je(d),hn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xw(t,i){Ns.M(t,i);var a=bo;if(a&&t){var l=Ze(a).hoistableScripts,h=wo(t),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=mi.get(h))&&Hd(t,i),d=a.createElement("script"),je(d),hn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Z_(t,i,a,l){var h=(h=ve.current)?xc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ao(a.href),a=Ze(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ao(a.href);var d=Ze(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(zl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),mi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mi.set(t,a),d||Nw(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(a),a=Ze(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ao(t){return'href="'+xn(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function W_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Nw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),hn(i,"link",a),je(i),t.head.appendChild(i))}function wo(t){return'[src="'+xn(t)+'"]'}function jl(t){return"script[async]"+t}function ev(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+xn(a.href)+'"]');if(l)return i.instance=l,je(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),je(l),hn(l,"style",h),Nc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ao(a.href);var d=t.querySelector(zl(h));if(d)return i.state.loading|=4,i.instance=d,je(d),d;l=W_(a),(h=mi.get(h))&&qd(l,h),d=(t.ownerDocument||t).createElement("link"),je(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),hn(d,"link",l),i.state.loading|=4,Nc(d,a.precedence,t),i.instance=d;case"script":return d=wo(a.src),(h=t.querySelector(jl(d)))?(i.instance=h,je(h),h):(l=a,(h=mi.get(d))&&(l=w({},a),Hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),je(h),hn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,t));return i.instance}function Nc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function tv(t,i,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[le]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function nv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Dw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ow(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ao(l.href),d=i.querySelector(zl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Oc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,je(d);return}d=i.ownerDocument||i,l=W_(l),(h=mi.get(h))&&qd(l,h),d=d.createElement("link"),je(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),hn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Fd=0;function Vw(t,i){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Fd===0&&(Fd=62500*dw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Fd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Mc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(Mw,t),Vc=null,Oc.call(t))}function Mw(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Bl={$$typeof:_e,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function kw(t,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function sv(t,i,a,l,h,d,_,T,C,z,K,$){return t=new kw(t,i,a,_,C,z,K,$,T),i=1,d===!0&&(i|=24),d=Kn(3,null,null,i),t.current=d,d.stateNode=t,i=Af(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},If(d),t}function rv(t){return t?(t=eo,t):eo}function av(t,i,a,l,h,d){h=rv(h),l.context===null?l.context=h:l.pendingContext=h,l=rr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ar(t,l,i),a!==null&&(kn(a,t,i),vl(a,t,i))}function ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Gd(t,i){ov(t,i),(t=t.alternate)&&ov(t,i)}function lv(t){if(t.tag===13||t.tag===31){var i=oa(t,67108864);i!==null&&kn(i,t,67108864),Gd(t,67108864)}}function uv(t){if(t.tag===13||t.tag===31){var i=Zn();i=hs(i);var a=oa(t,i);a!==null&&kn(a,t,i),Gd(t,i)}}var kc=!0;function Uw(t,i,a,l){var h=Q.T;Q.T=null;var d=re.p;try{re.p=2,Qd(t,i,a,l)}finally{re.p=d,Q.T=h}}function Lw(t,i,a,l){var h=Q.T;Q.T=null;var d=re.p;try{re.p=8,Qd(t,i,a,l)}finally{re.p=d,Q.T=h}}function Qd(t,i,a,l){if(kc){var h=Kd(l);if(h===null)Od(t,i,l,Uc,a),hv(t,l);else if(zw(h,t,i,a,l))l.stopPropagation();else if(hv(t,l),i&4&&-1<Pw.indexOf(t)){for(;h!==null;){var d=Ce(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ke(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-gt(_);T.entanglements[1]|=C,_&=~C}Ji(d),(et&6)===0&&(_c=nt()+500,kl(0))}}break;case 31:case 13:T=oa(d,2),T!==null&&kn(T,d,2),Tc(),Gd(d,2)}if(d=Kd(l),d===null&&Od(t,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(t,i,l,null,a)}}function Kd(t){return t=si(t),Yd(t)}var Uc=null;function Yd(t){if(Uc=null,t=me(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rn()){case Li:return 2;case Pi:return 8;case Ei:case $o:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var Xd=!1,yr=null,_r=null,vr=null,ql=new Map,Hl=new Map,Tr=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(t,i){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Fl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ce(i),i!==null&&lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function zw(t,i,a,l,h){switch(i){case"focusin":return yr=Fl(yr,t,i,a,l,h),!0;case"dragenter":return _r=Fl(_r,t,i,a,l,h),!0;case"mouseover":return vr=Fl(vr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ql.set(d,Fl(ql.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Hl.set(d,Fl(Hl.get(d)||null,t,i,a,l,h)),!0}return!1}function fv(t){var i=me(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Cn(t.priority,function(){uv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Cn(t.priority,function(){uv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return i=Ce(a),i!==null&&lv(i),t.blockedOn=a,!1;i.shift()}return!0}function dv(t,i,a){Lc(t)&&a.delete(i)}function jw(){Xd=!1,yr!==null&&Lc(yr)&&(yr=null),_r!==null&&Lc(_r)&&(_r=null),vr!==null&&Lc(vr)&&(vr=null),ql.forEach(dv),Hl.forEach(dv)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Xd||(Xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jw)))}var zc=null;function mv(t){zc!==t&&(zc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Yd(l||a)===null)continue;break}var d=Ce(a);d!==null&&(t.splice(i,3),i-=3,Kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function So(t){function i(C){return Pc(C,t)}yr!==null&&Pc(yr,t),_r!==null&&Pc(_r,t),vr!==null&&Pc(vr,t),ql.forEach(i),Hl.forEach(i);for(var a=0;a<Tr.length;a++){var l=Tr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)fv(a),a.blockedOn===null&&Tr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Mt]||null;if(typeof d=="function")_||mv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Mt]||null)T=_.formAction;else if(Yd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),mv(a)}}}function pv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function $d(t){this._internalRoot=t}jc.prototype.render=$d.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Zn();av(a,l,t,i,null,null)},jc.prototype.unmount=$d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;av(t.current,2,null,t,null,null),Tc(),i[Fn]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ja();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Tr.length&&i!==0&&i<Tr[a].priority;a++);Tr.splice(a,0,t),a===0&&fv(t)}};var gv=e.version;if(gv!=="19.2.4")throw Error(r(527,gv,"19.2.4"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Bw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Zt=Bc.inject(Bw),Vt=Bc}catch{}}return Ql.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Ay,d=wy,_=Sy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=sv(t,1,!1,null,null,a,l,null,h,d,_,pv),t[Fn]=i.current,Dd(t),new $d(i)},Ql.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Ay,_=wy,T=Sy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=sv(t,1,!0,i,a??null,l,h,C,d,_,T,pv),i.context=rv(null),a=i.current,l=Zn(),l=hs(l),h=rr(l),h.callback=null,ar(a,h,l),a=l,i.current.lanes=a,cs(i,a),Ji(i),t[Fn]=i.current,Dd(t),new jc(i)},Ql.version="19.2.4",Ql}var Rv;function Jw(){if(Rv)return Wd.exports;Rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wd.exports=$w(),Wd.exports}var Zw=Jw();const Ww=gT(Zw),eS=({onCreateRoom:s,onJoinRoom:e})=>{const[n,r]=he.useState(""),[o,u]=he.useState(navigator.onLine);return Qm.useEffect(()=>{const f=()=>u(!0),p=()=>u(!1);return window.addEventListener("online",f),window.addEventListener("offline",p),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",p)}},[]),A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-800 to-black p-4",children:[A.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent opacity-50"}),A.jsxs("div",{className:"text-center mb-10",children:[A.jsxs("div",{className:"inline-flex items-center gap-2 mb-2",children:[A.jsx("i",{className:"fa-solid fa-video text-gold text-2xl"}),A.jsxs("h1",{className:"text-3xl font-brand tracking-widest text-white",children:["QAXI ",A.jsx("span",{className:"text-gold",children:"LIVE"})]})]}),A.jsx("p",{className:"text-zinc-500 text-sm",children:"Secure Titanium Conferencing"})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("button",{onClick:s,disabled:!o,className:`w-full py-4 px-6 bg-gradient-to-r ${o?"from-gold to-gold-dark text-black hover:scale-[1.02] active:scale-[0.98] cursor-pointer":"from-zinc-700 to-zinc-800 text-zinc-500 cursor-not-allowed"} font-bold rounded-xl shadow-lg shadow-gold/20 transition-all duration-200 flex items-center justify-center gap-2 group`,children:[A.jsx("i",{className:"fa-solid fa-plus-circle text-lg group-hover:rotate-90 transition-transform"}),A.jsx("span",{children:o?"Create New Meeting":"No Internet Connection"})]}),A.jsxs("div",{className:"relative flex items-center py-2",children:[A.jsx("div",{className:"flex-grow border-t border-zinc-800"}),A.jsx("span",{className:"flex-shrink-0 mx-4 text-zinc-600 text-xs uppercase tracking-wider",children:"Or join existing"}),A.jsx("div",{className:"flex-grow border-t border-zinc-800"})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"relative",children:[A.jsx("i",{className:"fa-solid fa-keyboard absolute left-4 top-1/2 transform -translate-y-1/2 text-zinc-500"}),A.jsx("input",{type:"text",disabled:!o,value:n,onChange:f=>r(f.target.value),placeholder:"Enter Room ID",className:`w-full bg-zinc-950 border border-zinc-800 text-white pl-10 pr-4 py-3 rounded-xl focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold/50 transition-all placeholder-zinc-600 ${o?"":"opacity-50"}`})]}),A.jsxs("button",{onClick:()=>n&&e(n),disabled:!n||!o,className:`w-full py-3 px-6 border border-zinc-700 font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2
                ${n&&o?"text-zinc-300 hover:bg-zinc-800 hover:text-white hover:border-zinc-600 cursor-pointer":"text-zinc-600 opacity-50 cursor-not-allowed"}`,children:[A.jsx("span",{children:"Join Meeting"}),A.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]})]}),A.jsx("div",{className:"mt-8 text-zinc-600 text-xs text-center max-w-sm",children:A.jsx("p",{children:"By connecting, you agree to QAXI Cloud terms of service. Video and audio are transmitted securely via WebRTC."})})]})},tS=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,E=u>>2,w=(u&3)<<4|p>>4;let R=(p&15)<<2|y>>6,F=y&63;g||(F=64,f||(R=64)),r.push(n[E],n[w],n[R],n[F])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(yT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):nS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||y==null||w==null)throw new iS;const R=u<<2|p>>4;if(r.push(R),y!==64){const F=p<<4&240|y>>2;if(r.push(F),w!==64){const Z=y<<6&192|w;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class iS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(s){const e=yT(s);return _T.encodeByteArray(e,!0)},ah=function(s){return sS(s).replace(/\./g,"")},vT=function(s){try{return _T.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=()=>rS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof Iv>"u")return;const s=Iv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&vT(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return tS()||aS()||oS()||lS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},TT=s=>{var e,n;return(n=(e=Dh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},ET=s=>{const e=TT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bT=()=>{var s;return(s=Dh())==null?void 0:s.config},AT=s=>{var e;return(e=Dh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Km(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const Zl={};function cS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?s.emulator.push(e):s.prod.push(e);return s}function hS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Cv=!1;function Ym(s,e){if(typeof window>"u"||typeof document>"u"||!Oa(window.location.host)||Zl[s]===e||Zl[s]||Cv)return;Zl[s]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=cS().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,F){R.setAttribute("width","24"),R.setAttribute("id",F),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Cv=!0,f()},R}function E(R,F){R.setAttribute("id",F),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=hS(r),F=n("text"),Z=document.getElementById(F)||document.createElement("span"),te=n("learnmore"),W=document.getElementById(te)||document.createElement("a"),pe=n("preprendIcon"),Ee=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const _e=R.element;p(_e),E(W,te);const Re=y();g(Ee,pe),_e.append(Ee,Z,W,Re),document.body.appendChild(_e)}u?(Z.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function dS(){var e;const s=(e=Dh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ST(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const s=Tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yS(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RT(){try{return typeof indexedDB=="object"}catch{return!1}}function IT(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function _S(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="FirebaseError";class vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vS,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?TS(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new vi(o,p,r)}}function TS(s,e){return s.replace(ES,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const ES=/\{\$([^}]+)}/g;function bS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Mr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(xv(u)&&xv(f)){if(!Mr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function xv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AS(s,e){const n=new wS(s,e);return n.subscribe.bind(n)}class wS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=1e3,IS=2,CS=14400*1e3,xS=.5;function Nv(s,e=RS,n=IS){const r=e*Math.pow(n,s),o=Math.round(xS*r*(Math.random()-.5)*2);return Math.min(CS,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(s){return s&&s._delegate?s._delegate:s}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OS(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(s){return s===Ta?void 0:s}function OS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const MS={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},kS=He.INFO,US={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},LS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=US[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oh{constructor(e){this.name=e,this._logLevel=kS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const PS=(s,e)=>e.some(n=>s instanceof n);let Dv,Ov;function zS(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Tm=new WeakMap,xT=new WeakMap,sm=new WeakMap,Xm=new WeakMap;function BS(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Nr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,s)}).catch(()=>{}),Xm.set(e,s),e}function qS(s){if(Tm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Tm.set(s,e)}let Em={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Tm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||xT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function HS(s){Em=s(Em)}function FS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(rm(this),e,...n);return xT.set(r,e.sort?e.sort():[e]),Nr(r)}:jS().includes(s)?function(...e){return s.apply(rm(this),e),Nr(CT.get(this))}:function(...e){return Nr(s.apply(rm(this),e))}}function GS(s){return typeof s=="function"?FS(s):(s instanceof IDBTransaction&&qS(s),PS(s,zS())?new Proxy(s,Em):s)}function Nr(s){if(s instanceof IDBRequest)return BS(s);if(sm.has(s))return sm.get(s);const e=GS(s);return e!==s&&(sm.set(s,e),Xm.set(e,s)),e}const rm=s=>Xm.get(s);function NT(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),p=Nr(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Nr(f.result),g.oldVersion,g.newVersion,Nr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const QS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],am=new Map;function Vv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=KS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||QS.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return am.set(e,u),u}HS(s=>({...s,get:(e,n,r)=>Vv(e,n)||s.get(e,n,r),has:(e,n)=>!!Vv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XS(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",Mv="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Oh("@firebase/app"),$S="@firebase/app-compat",JS="@firebase/analytics-compat",ZS="@firebase/analytics",WS="@firebase/app-check-compat",e1="@firebase/app-check",t1="@firebase/auth",n1="@firebase/auth-compat",i1="@firebase/database",s1="@firebase/data-connect",r1="@firebase/database-compat",a1="@firebase/functions",o1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",h1="@firebase/messaging-compat",f1="@firebase/performance",d1="@firebase/performance-compat",m1="@firebase/remote-config",p1="@firebase/remote-config-compat",g1="@firebase/storage",y1="@firebase/storage-compat",_1="@firebase/firestore",v1="@firebase/ai",T1="@firebase/firestore-compat",E1="firebase",b1="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",A1={[bm]:"fire-core",[$S]:"fire-core-compat",[ZS]:"fire-analytics",[JS]:"fire-analytics-compat",[e1]:"fire-app-check",[WS]:"fire-app-check-compat",[t1]:"fire-auth",[n1]:"fire-auth-compat",[i1]:"fire-rtdb",[s1]:"fire-data-connect",[r1]:"fire-rtdb-compat",[a1]:"fire-fn",[o1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[h1]:"fire-fcm-compat",[f1]:"fire-perf",[d1]:"fire-perf-compat",[m1]:"fire-rc",[p1]:"fire-rc-compat",[g1]:"fire-gcs",[y1]:"fire-gcs-compat",[_1]:"fire-fst",[T1]:"fire-fst-compat",[v1]:"fire-vertex","fire-js":"fire-js",[E1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,w1=new Map,wm=new Map;function kv(s,e){try{s.container.addComponent(e)}catch(n){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ki(s){const e=s.name;if(wm.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,s);for(const n of oh.values())kv(n,s);for(const n of w1.values())kv(n,s);return!0}function Br(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Di(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Va("app","Firebase",S1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=b1;function DT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Am,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(n||(n=bT()),!n)throw Dr.create("no-options");const u=oh.get(o);if(u){if(Mr(n,u.options)&&Mr(r,u.config))return u;throw Dr.create("duplicate-app",{appName:o})}const f=new VS(o);for(const g of wm.values())f.addComponent(g);const p=new R1(n,r,f);return oh.set(o,p),p}function Vh(s=Am){const e=oh.get(s);if(!e&&s===Am&&bT())return DT();if(!e)throw Dr.create("no-app",{appName:s});return e}function Pn(s,e,n){let r=A1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(f.join(" "));return}ki(new _i(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebase-heartbeat-database",C1=1,su="firebase-heartbeat-store";let om=null;function OT(){return om||(om=NT(I1,C1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(s=>{throw Dr.create("idb-open",{originalErrorMessage:s.message})})),om}async function x1(s){try{const n=(await OT()).transaction(su),r=await n.objectStore(su).get(VT(s));return await n.done,r}catch(e){if(e instanceof vi)ks.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(n.message)}}}async function Uv(s,e){try{const r=(await OT()).transaction(su,"readwrite");await r.objectStore(su).put(e,VT(s)),await r.done}catch(n){if(n instanceof vi)ks.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ks.warn(r.message)}}}function VT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1024,D1=30;class O1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Lv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>D1){const f=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lv(),{heartbeatsToSend:r,unsentEntries:o}=V1(this._heartbeatsCache.heartbeats),u=ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ks.warn(n),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function V1(s,e=N1){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Pv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Pv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RT()?IT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pv(s){return ah(JSON.stringify({version:2,heartbeats:s})).length}function k1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(s){ki(new _i("platform-logger",e=>new YS(e),"PRIVATE")),ki(new _i("heartbeat",e=>new O1(e),"PRIVATE")),Pn(bm,Mv,s),Pn(bm,Mv,"esm2020"),Pn("fire-js","")}U1("");var L1="firebase",P1="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(L1,P1,"app");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,MT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function N(){}N.prototype=S.prototype,x.F=S.prototype,x.prototype=new N,x.prototype.constructor=x,x.D=function(M,D,U){for(var I=Array(arguments.length-2),at=2;at<arguments.length;at++)I[at-2]=arguments[at];return S.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,N){N||(N=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(D=0;D<16;++D)M[D]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=x.g[0],N=x.g[1],D=x.g[2];let U=x.g[3],I;I=S+(U^N&(D^U))+M[0]+3614090360&4294967295,S=N+(I<<7&4294967295|I>>>25),I=U+(D^S&(N^D))+M[1]+3905402710&4294967295,U=S+(I<<12&4294967295|I>>>20),I=D+(N^U&(S^N))+M[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=N+(S^D&(U^S))+M[3]+3250441966&4294967295,N=D+(I<<22&4294967295|I>>>10),I=S+(U^N&(D^U))+M[4]+4118548399&4294967295,S=N+(I<<7&4294967295|I>>>25),I=U+(D^S&(N^D))+M[5]+1200080426&4294967295,U=S+(I<<12&4294967295|I>>>20),I=D+(N^U&(S^N))+M[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=N+(S^D&(U^S))+M[7]+4249261313&4294967295,N=D+(I<<22&4294967295|I>>>10),I=S+(U^N&(D^U))+M[8]+1770035416&4294967295,S=N+(I<<7&4294967295|I>>>25),I=U+(D^S&(N^D))+M[9]+2336552879&4294967295,U=S+(I<<12&4294967295|I>>>20),I=D+(N^U&(S^N))+M[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=N+(S^D&(U^S))+M[11]+2304563134&4294967295,N=D+(I<<22&4294967295|I>>>10),I=S+(U^N&(D^U))+M[12]+1804603682&4294967295,S=N+(I<<7&4294967295|I>>>25),I=U+(D^S&(N^D))+M[13]+4254626195&4294967295,U=S+(I<<12&4294967295|I>>>20),I=D+(N^U&(S^N))+M[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=N+(S^D&(U^S))+M[15]+1236535329&4294967295,N=D+(I<<22&4294967295|I>>>10),I=S+(D^U&(N^D))+M[1]+4129170786&4294967295,S=N+(I<<5&4294967295|I>>>27),I=U+(N^D&(S^N))+M[6]+3225465664&4294967295,U=S+(I<<9&4294967295|I>>>23),I=D+(S^N&(U^S))+M[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=N+(U^S&(D^U))+M[0]+3921069994&4294967295,N=D+(I<<20&4294967295|I>>>12),I=S+(D^U&(N^D))+M[5]+3593408605&4294967295,S=N+(I<<5&4294967295|I>>>27),I=U+(N^D&(S^N))+M[10]+38016083&4294967295,U=S+(I<<9&4294967295|I>>>23),I=D+(S^N&(U^S))+M[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=N+(U^S&(D^U))+M[4]+3889429448&4294967295,N=D+(I<<20&4294967295|I>>>12),I=S+(D^U&(N^D))+M[9]+568446438&4294967295,S=N+(I<<5&4294967295|I>>>27),I=U+(N^D&(S^N))+M[14]+3275163606&4294967295,U=S+(I<<9&4294967295|I>>>23),I=D+(S^N&(U^S))+M[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=N+(U^S&(D^U))+M[8]+1163531501&4294967295,N=D+(I<<20&4294967295|I>>>12),I=S+(D^U&(N^D))+M[13]+2850285829&4294967295,S=N+(I<<5&4294967295|I>>>27),I=U+(N^D&(S^N))+M[2]+4243563512&4294967295,U=S+(I<<9&4294967295|I>>>23),I=D+(S^N&(U^S))+M[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=N+(U^S&(D^U))+M[12]+2368359562&4294967295,N=D+(I<<20&4294967295|I>>>12),I=S+(N^D^U)+M[5]+4294588738&4294967295,S=N+(I<<4&4294967295|I>>>28),I=U+(S^N^D)+M[8]+2272392833&4294967295,U=S+(I<<11&4294967295|I>>>21),I=D+(U^S^N)+M[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=N+(D^U^S)+M[14]+4259657740&4294967295,N=D+(I<<23&4294967295|I>>>9),I=S+(N^D^U)+M[1]+2763975236&4294967295,S=N+(I<<4&4294967295|I>>>28),I=U+(S^N^D)+M[4]+1272893353&4294967295,U=S+(I<<11&4294967295|I>>>21),I=D+(U^S^N)+M[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=N+(D^U^S)+M[10]+3200236656&4294967295,N=D+(I<<23&4294967295|I>>>9),I=S+(N^D^U)+M[13]+681279174&4294967295,S=N+(I<<4&4294967295|I>>>28),I=U+(S^N^D)+M[0]+3936430074&4294967295,U=S+(I<<11&4294967295|I>>>21),I=D+(U^S^N)+M[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=N+(D^U^S)+M[6]+76029189&4294967295,N=D+(I<<23&4294967295|I>>>9),I=S+(N^D^U)+M[9]+3654602809&4294967295,S=N+(I<<4&4294967295|I>>>28),I=U+(S^N^D)+M[12]+3873151461&4294967295,U=S+(I<<11&4294967295|I>>>21),I=D+(U^S^N)+M[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=N+(D^U^S)+M[2]+3299628645&4294967295,N=D+(I<<23&4294967295|I>>>9),I=S+(D^(N|~U))+M[0]+4096336452&4294967295,S=N+(I<<6&4294967295|I>>>26),I=U+(N^(S|~D))+M[7]+1126891415&4294967295,U=S+(I<<10&4294967295|I>>>22),I=D+(S^(U|~N))+M[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=N+(U^(D|~S))+M[5]+4237533241&4294967295,N=D+(I<<21&4294967295|I>>>11),I=S+(D^(N|~U))+M[12]+1700485571&4294967295,S=N+(I<<6&4294967295|I>>>26),I=U+(N^(S|~D))+M[3]+2399980690&4294967295,U=S+(I<<10&4294967295|I>>>22),I=D+(S^(U|~N))+M[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=N+(U^(D|~S))+M[1]+2240044497&4294967295,N=D+(I<<21&4294967295|I>>>11),I=S+(D^(N|~U))+M[8]+1873313359&4294967295,S=N+(I<<6&4294967295|I>>>26),I=U+(N^(S|~D))+M[15]+4264355552&4294967295,U=S+(I<<10&4294967295|I>>>22),I=D+(S^(U|~N))+M[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=N+(U^(D|~S))+M[13]+1309151649&4294967295,N=D+(I<<21&4294967295|I>>>11),I=S+(D^(N|~U))+M[4]+4149444226&4294967295,S=N+(I<<6&4294967295|I>>>26),I=U+(N^(S|~D))+M[11]+3174756917&4294967295,U=S+(I<<10&4294967295|I>>>22),I=D+(S^(U|~N))+M[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=N+(U^(D|~S))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+U&4294967295}r.prototype.v=function(x,S){S===void 0&&(S=x.length);const N=S-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=N;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(M[D++]=x.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<S;)if(M[D++]=x[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var N=x.length-8;N<x.length;++N)x[N]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)x[S++]=this.g[N]>>>M&255;return x};function u(x,S){var N=p;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=S(x)}function f(x,S){this.h=S;const N=[];let M=!0;for(let D=x.length-1;D>=0;D--){const U=x[D]|0;M&&U==S||(N[D]=U,M=!1)}this.g=N}var p={};function g(x){return-128<=x&&x<128?u(x,function(S){return new f([S|0],S<0?-1:0)}):new f([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return W(y(-x));const S=[];let N=1;for(let M=0;x>=N;M++)S[M]=x/N|0,N*=4294967296;return new f(S,0)}function E(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return W(E(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(S,8));let M=w;for(let U=0;U<x.length;U+=8){var D=Math.min(8,x.length-U);const I=parseInt(x.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),M=M.j(D).add(y(I))):(M=M.j(N),M=M.add(y(I)))}return M}var w=g(0),R=g(1),F=g(16777216);s=f.prototype,s.m=function(){if(te(this))return-W(this).m();let x=0,S=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);x+=(M>=0?M:4294967296+M)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(te(this))return"-"+W(this).toString(x);const S=y(Math.pow(x,6));var N=this;let M="";for(;;){const D=Re(N,S).g;N=pe(N,D.j(S));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(x);if(N=D,Z(N))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function te(x){return x.h==-1}s.l=function(x){return x=pe(this,x),te(x)?-1:Z(x)?0:1};function W(x){const S=x.g.length,N=[];for(let M=0;M<S;M++)N[M]=~x.g[M];return new f(N,~x.h).add(R)}s.abs=function(){return te(this)?W(this):this},s.add=function(x){const S=Math.max(this.g.length,x.g.length),N=[];let M=0;for(let D=0;D<=S;D++){let U=M+(this.i(D)&65535)+(x.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=I>>>16,U&=65535,I&=65535,N[D]=I<<16|U}return new f(N,N[N.length-1]&-2147483648?-1:0)};function pe(x,S){return x.add(W(S))}s.j=function(x){if(Z(this)||Z(x))return w;if(te(this))return te(x)?W(this).j(W(x)):W(W(this).j(x));if(te(x))return W(this.j(W(x)));if(this.l(F)<0&&x.l(F)<0)return y(this.m()*x.m());const S=this.g.length+x.g.length,N=[];for(var M=0;M<2*S;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){const U=this.i(M)>>>16,I=this.i(M)&65535,at=x.i(D)>>>16,Rt=x.i(D)&65535;N[2*M+2*D]+=I*Rt,Ee(N,2*M+2*D),N[2*M+2*D+1]+=U*Rt,Ee(N,2*M+2*D+1),N[2*M+2*D+1]+=I*at,Ee(N,2*M+2*D+1),N[2*M+2*D+2]+=U*at,Ee(N,2*M+2*D+2)}for(x=0;x<S;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=S;x<2*S;x++)N[x]=0;return new f(N,0)};function Ee(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function _e(x,S){this.g=x,this.h=S}function Re(x,S){if(Z(S))throw Error("division by zero");if(Z(x))return new _e(w,w);if(te(x))return S=Re(W(x),S),new _e(W(S.g),W(S.h));if(te(S))return S=Re(x,W(S)),new _e(W(S.g),S.h);if(x.g.length>30){if(te(x)||te(S))throw Error("slowDivide_ only works with positive integers.");for(var N=R,M=S;M.l(x)<=0;)N=Ue(N),M=Ue(M);var D=Ie(N,1),U=Ie(M,1);for(M=Ie(M,2),N=Ie(N,2);!Z(M);){var I=U.add(M);I.l(x)<=0&&(D=D.add(N),U=I),M=Ie(M,1),N=Ie(N,1)}return S=pe(x,D.j(S)),new _e(D,S)}for(D=w;x.l(S)>=0;){for(N=Math.max(1,Math.floor(x.m()/S.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(N),I=U.j(S);te(I)||I.l(x)>0;)N-=M,U=y(N),I=U.j(S);Z(U)&&(U=R),D=D.add(U),x=pe(x,I)}return new _e(D,x)}s.B=function(x){return Re(this,x).h},s.and=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)&x.i(M);return new f(N,this.h&x.h)},s.or=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)|x.i(M);return new f(N,this.h|x.h)},s.xor=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)^x.i(M);return new f(N,this.h^x.h)};function Ue(x){const S=x.g.length+1,N=[];for(let M=0;M<S;M++)N[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(N,x.h)}function Ie(x,S){const N=S>>5;S%=32;const M=x.g.length-N,D=[];for(let U=0;U<M;U++)D[U]=S>0?x.i(U+N)>>>S|x.i(U+N+1)<<32-S:x.i(U+N);return new f(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,MT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Or=f}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kT,Yl,UT,$c,Sm,LT,PT,zT;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break e;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,B){for(var ne=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ne[Oe-2]=arguments[Oe];return m.prototype[L].apply(b,ne)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function Z(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let ne=0;ne<B;ne++)c[v+ne]=L[ne]}else c.push(L)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function pe(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const b=_e.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var _e=new te(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,Ie=!1,x=new Ee,S=()=>{const c=Promise.resolve(void 0);Ue=()=>{c.then(N)}};function N(){for(var c;c=pe();){try{c.h.call(c.g)}catch(v){W(v)}var m=_e;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function at(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(at,D),at.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function re(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++Q,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qe(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Le(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let B=0;B<H.length;B++)v=H[B],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,m,v,b,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const ne=ve(c,m,b,L);return ne>-1?(m=c[ne],v||(m.fa=!1)):(m=new re(m,this.src,B,!!b,L),m.fa=v,c.push(m)),m};function Ae(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(de(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ve(c,m,v,b){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),wt={};function ht(c,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ht(c,m[B],v,b,L);return null}return v=Ot(v),c&&c[Rt]?c.J(m,v,p(b)?!!b.capture:!1,L):os(c,m,v,!1,b,L)}function os(c,m,v,b,L,B){if(!m)throw Error("Invalid event type");const ne=p(L)?!!L.capture:!!L;let Oe=Bn(c);if(Oe||(c[Se]=Oe=new se(c)),v=Oe.add(m,v,b,ne,B),v.proxy)return v;if(b=Ti(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)U||(L=ne),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(ti(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ti(){function c(v){return m.call(c.src,c.listener,v)}const m=Fr;return c}function Et(c,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Et(c,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=Ot(v),c&&c[Rt]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=ve(m,v,b,L),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=Bn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ve(m,v,b,L)),(v=c>-1?m[c]:null)&&jn(v))}function jn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Rt])Ae(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(ti(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Bn(m))?(Ae(v,c),v.h==0&&(v.src=null,m[Se]=null)):de(c)}}}function ti(c){return c in wt?wt[c]:wt[c]="on"+c}function Fr(c,m){if(c.da)c=!0;else{m=new at(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&jn(c),c=v.call(b,m)}return c}function Bn(c){return c=c[Se],c instanceof se?c:null}var qs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ot(c){return typeof c=="function"?c:(c[qs]||(c[qs]=function(m){return c.handleEvent(m)}),c[qs])}function pt(){M.call(this),this.i=new se(this),this.M=this,this.G=null}w(pt,M),pt.prototype[Rt]=!0,pt.prototype.removeEventListener=function(c,m,v,b){Et(this,c,m,v,b)};function It(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(b,c),ae(m,L)}L=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],L=sn(B,b,!0,m)&&L;if(B=m.g=c,L=sn(B,b,!0,m)&&L,L=sn(B,b,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],L=sn(B,b,!1,m)&&L}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)de(v[b]);delete c.g[m],c.h--}}this.G=null},pt.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},pt.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function sn(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const Oe=ne.listener,kt=ne.ha||ne.src;ne.fa&&Ae(c.i,ne),L=Oe.call(kt,b)!==!1&&L}}return L&&!b.defaultPrevented}function ls(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function Xe(c){c.g=ls(()=>{c.g=null,c.i&&(c.i=!1,Xe(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(c){M.call(this),this.h=c,this.g={}}w(Rn,M);var Li=[];function Pi(c){Qe(c.g,function(m,v){this.g.hasOwnProperty(v)&&jn(m)},c),c.g={}}Rn.prototype.N=function(){Rn.Z.N.call(this),Pi(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=f.JSON.stringify,$o=f.JSON.parse,Gr=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function La(){}function Pa(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){D.call(this,"d")}w(Vt,D);function rn(){D.call(this,"c")}w(rn,D);var gt={},In=null;function us(){return In=In||new pt}gt.Ia="serverreachability";function Hs(c){D.call(this,gt.Ia,c)}w(Hs,D);function qn(c){const m=us();It(m,new Hs(m))}gt.STAT_EVENT="statevent";function En(c,m){D.call(this,gt.STAT_EVENT,c),this.stat=m}w(En,D);function yt(c){const m=us();It(m,new En(m,c))}gt.Ja="timingevent";function ke(c,m){D.call(this,gt.Ja,c),this.size=m}w(ke,D);function ni(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Jo(c,m,v,b,L,B){c.info(function(){if(c.g)if(B){var ne="",Oe=B.split("&");for(let We=0;We<Oe.length;We++){var kt=Oe[We].split("=");if(kt.length>1){const bt=kt[0];kt=kt[1];const ai=bt.split("_");ne=ai.length>=2&&ai[1]=="type"?ne+(bt+"="+kt+"&"):ne+(bt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function za(c,m,v,b,L,B,ne){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ne})}function ii(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zo(c,v)+(b?" "+b:"")})}function cs(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Zo(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return Ei(B)}catch{return m}}var zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kr;function hs(){}w(hs,La),hs.prototype.g=function(){return new XMLHttpRequest},Kr=new hs;function bi(c){return encodeURIComponent(String(c))}function ja(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Cn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new Rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Ct={},Mt={};function Fn(c,m,v){c.M=1,c.A=$r(jt(m)),c.u=v,c.R=!0,fs(c,null)}function fs(c,m){c.F=Date.now(),le(c),c.B=jt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Ha(v.i,"t",b),c.C=0,v=c.j.L,c.h=new bn,c.g=ku(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nt(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Li[0]=L.toString()),L=Li);for(let B=0;B<L.length;B++){const ne=ht(v,L[B],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),qn(),Jo(c.i,c.v,c.B,c.l,c.S,c.u)}Cn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Si(c)==3?m.j():this.Y(c)},Cn.prototype.Y=function(c){try{if(c==this.g)e:{const Oe=Si(this.g),kt=this.g.ya(),We=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Oe!=4||kt==7||(kt==8||We<=0?qn(3):qn(2)),me(this);var m=this.g.ca();this.X=m;var v=Yr(this);if(this.o=m==200,za(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var B=b;break t}}B=null}if(c=B)ii(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ze(this,c);else{this.o=!1,this.m=3,yt(12),dt(this),Ce(this);break e}}if(this.R){c=!0;let bt;for(;!this.K&&this.C<v.length;)if(bt=ee(this,v),bt==Mt){Oe==4&&(this.m=4,yt(14),c=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Ct){this.m=4,yt(15),ii(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ii(this.i,this.l,bt,null),Ze(this,bt);if(G(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,yt(16),c=!1),this.o=this.o&&c,!c)ii(this.i,this.l,v,"[Invalid Chunked Response]"),dt(this),Ce(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ll(ne),ne.P=!0,yt(11))}}else ii(this.i,this.l,v,null),Ze(this,v);Oe==4&&dt(this),this.o&&!this.K&&(Oe==4?Du(this.j,this):(this.o=!1,le(this)))}else ms(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),dt(this),Ce(this)}}}catch{}finally{}};function Yr(c){if(!G(c))return c.g.la();const m=on(c.g);if(m==="")return"";let v="";const b=m.length,L=Si(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dt(c),Ce(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<b;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function G(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ee(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Mt:(v=Number(m.substring(v,b)),isNaN(v)?Ct:(b+=1,b+v>m.length?Mt:(m=m.slice(b,b+v),c.C=b+v,m)))}Cn.prototype.cancel=function(){this.K=!0,dt(this)};function le(c){c.T=Date.now()+c.H,ie(c,c.H)}function ie(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ni(y(c.aa,c),m)}function me(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Cn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cs(this.i,this.B),this.M!=2&&(qn(),yt(17)),dt(this),this.m=2,Ce(this)):ie(this,this.T-c)};function Ce(c){c.j.I==0||c.K||Du(c.j,c)}function dt(c){me(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Pi(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ze(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||zt(v.h,c))){if(!c.L&&zt(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ya(v),Zs(v);else break e;ia(v),yt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(y(v.Va,v),6e3));Wt(v.h)<=1&&v.ta&&(v.ta=void 0)}else Qi(v,11)}else if((c.L||v.g==c)&&Ya(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const bt=We[0];if(!(bt<=v.K))if(v.K=bt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const ai=We[3];ai!=null&&(v.ka=ai,v.j.info("VER="+v.ka));const Ki=We[4];Ki!=null&&(v.za=Ki,v.j.info("SVER="+v.za));const Ri=We[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(b=1.5*Ri,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ii=c.g;if(Ii){const sa=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var B=b.h;B.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ji(B,B.h),B.h=null))}if(b.G){const Xa=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(b.wa=Xa,it(b.J,b.G,Xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ne=c;if(b.na=Mu(b,b.L?b.ba:null,b.W),ne.L){Fs(b.h,ne);var Oe=ne,kt=b.O;kt&&(Oe.H=kt),Oe.D&&(me(Oe),le(Oe)),b.g=ne}else xu(b);v.i.length>0&&Gi(v)}else We[0]!="stop"&&We[0]!="close"||Qi(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Qi(v,7):al(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}qn(4)}catch{}}var je=class{constructor(c,m){this.g=c,this.map=m}};function Xt(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function an(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wt(c){return c.h?1:c.g?c.g.size:0}function zt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ji(c,m){c.g?c.g.add(m):c.h=m}function Fs(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Xt.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xr(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,B=null;b>=0?(L=c[v].substring(0,b),B=c[v].substring(b+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Gn?(this.l=c.l,en(this,c.j),this.o=c.o,this.g=c.g,Gs(this,c.u),this.h=c.h,Wo(this,Iu(c.i)),this.m=c.m):c&&(m=String(c).match(Au))?(this.l=!1,en(this,m[1]||"",!0),this.o=Bi(m[2]||""),this.g=Bi(m[3]||"",!0),Gs(this,m[4]),this.h=Bi(m[5]||"",!0),Wo(this,m[6]||"",!0),this.m=Bi(m[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}Gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Jr(m,qa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Jr(m,qa,!0),"@"),c.push(bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Jr(v,v.charAt(0)=="/"?el:wu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Jr(v,Su)),c.join("")},Gn.prototype.resolve=function(c){const m=jt(this);let v=!!c.j;v?en(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)Gs(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const Oe=L[ne++];Oe=="."?b&&ne==L.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ne==L.length&&B.push("")):(B.push(Oe),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?Wo(m,Iu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function jt(c){return new Gn(c)}function en(c,m,v){c.j=v?Bi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Gs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Wo(c,m,v){m instanceof Ks?(c.i=m,Fa(c.i,c.l)):(v||(m=Jr(m,Qs)),c.i=new Ks(m,c.l))}function it(c,m,v){c.i.set(m,v)}function $r(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Bi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Jr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,xn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qa=/[#\/\?@]/g,wu=/[#\?:]/g,el=/[#\?]/g,Qs=/[#\?@]/g,Su=/#/g;function Ks(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ba(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ks.prototype,s.add=function(c,m){Nn(this),this.i=null,c=Ys(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Ru(c,m){Nn(c),m=Ys(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function tl(c,m){return Nn(c),m=Ys(c,m),c.g.has(m)}s.forEach=function(c,m){Nn(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function nl(c,m){Nn(c);let v=[];if(typeof m=="string")tl(c,m)&&(v=v.concat(c.g.get(Ys(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return Nn(this),this.i=null,c=Ys(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=nl(this,c),c.length>0?String(c[0]):m):m};function Ha(c,m,v){Ru(c,m),v.length>0&&(c.i=null,c.g.set(Ys(c,m),F(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=bi(v);v=nl(this,v);for(let B=0;B<v.length;B++){let ne=L;v[B]!==""&&(ne+="="+bi(v[B])),c.push(ne)}}return this.i=c.join("&")};function Iu(c){const m=new Ks;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ys(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Fa(c,m){m&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Ru(this,b),Ha(this,L,v))},c)),c.j=m}function Ai(c,m){const v=new Hn;if(f.Image){const b=new Image;b.onload=E(si,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(si,v,"TestLoadImage: error",!1,m,b),b.onabort=E(si,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(si,v,"TestLoadImage: timeout",!1,m,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function il(c,m){const v=new Hn,b=new AbortController,L=setTimeout(()=>{b.abort(),si(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?si(v,"TestPingServer: ok",!0,m):si(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),si(v,"TestPingServer: error",!1,m)})}function si(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Xs(){this.g=new Gr}function qi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(qi,La),qi.prototype.g=function(){return new Zr(this.i,this.h)};function Zr(c,m){pt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Zr,pt),s=Zr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,wi(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?$s(this):wi(this),this.readyState==3&&Ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,$s(this))},s.Na=function(c){this.g&&(this.response=c,$s(this))},s.ga=function(){this.g&&$s(this)};function $s(c){c.readyState=4,c.l=null,c.j=null,c.B=null,wi(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function wi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ri(c){let m="";return Qe(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Wr(c,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=ri(v),typeof c=="string"?v!=null&&bi(v):it(c,m,v))}function ot(c){pt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ot,pt);var Hi=/^https?$/i,sl=["POST","PUT"];s=ot.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kr.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){ea(this,B);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(sl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){ea(this,B)}};function ea(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,rl(c),ds(c)}function rl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),ds(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},s.Xa=function(){ta(this)};function ta(c){if(c.h&&typeof u<"u"){if(c.v&&Si(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Si(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ne=String(c.D).match(Au)[1]||null;!ne&&f.self&&f.self.location&&(ne=f.self.location.protocol.slice(0,-1)),b=!Hi.test(ne?ne.toLowerCase():"")}v=b}if(v)It(c,"complete"),It(c,"success");else{c.o=6;try{var L=Si(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",rl(c)}}finally{ds(c)}}}}function ds(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||It(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Si(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),$o(m)}};function on(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ms(c){const m={};c=(c.g&&Si(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=ja(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Le(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Js(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,c),this.Za=Fi("retryDelaySeedMs",1e4,c),this.Ta=Fi("forwardChannelMaxRetries",2,c),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Xt(c&&c.concurrentRequestLimit),this.Ba=new Xs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Js.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){yt(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Mu(this,null,this.W),Gi(this)};function al(c){if(Qa(c),c.I==3){var m=c.V++,v=jt(c.J);if(it(v,"SID",c.M),it(v,"RID",m),it(v,"TYPE","terminate"),na(c,v),m=new Cn(c,c.j,m),m.M=2,m.A=$r(jt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),le(m)}Vu(c)}function Zs(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function Qa(c){Zs(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Gi(c){if(!an(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ue||S(),Ie||(Ue(),Ie=!0),x.add(m,c),c.D=0}}function Ka(c,m){return Wt(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ni(y(c.Ea,c,m),Ou(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Cn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=V(B),ae(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Cu(this,L,m),v=jt(this.J),it(v,"RID",c),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),na(this,v),B&&(this.R?m="headers="+bi(ri(B))+"&"+m:this.u&&Wr(v,this.u,B)),ji(this.h,L),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",m),it(v,"SID","null"),L.U=!0,Fn(L,v,null)):Fn(L,v,m),this.I=2}}else this.I==3&&(c?ol(this,c):this.i.length==0||an(this.h)||ol(this))};function ol(c,m){var v;m?v=m.l:v=c.V++;const b=jt(c.J);it(b,"SID",c.M),it(b,"RID",v),it(b,"AID",c.K),na(c,b),c.u&&c.o&&Wr(b,c.u,c.o),v=new Cn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Cu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ji(c.h,v),Fn(v,b,m)}function na(c,m){c.H&&Qe(c.H,function(v,b){it(m,b,v)}),c.l&&Qe({},function(v,b){it(m,b,v)})}function Cu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let Oe=-1;for(;;){const kt=["count="+v];Oe==-1?v>0?(Oe=L[0].g,kt.push("ofs="+Oe)):Oe=0:kt.push("ofs="+Oe);let We=!0;for(let bt=0;bt<v;bt++){var B=L[bt].g;const ai=L[bt].map;if(B-=Oe,B<0)Oe=Math.max(0,L[bt].g-100),We=!1;else try{B="req"+B+"_"||"";try{var ne=ai instanceof Map?ai:Object.entries(ai);for(const[Ki,Ri]of ne){let Ii=Ri;p(Ri)&&(Ii=Ei(Ri)),kt.push(B+Ki+"="+encodeURIComponent(Ii))}}catch(Ki){throw kt.push(B+"type="+encodeURIComponent("_badmap")),Ki}}catch{b&&b(ai)}}if(We){ne=kt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),m.G=c,ne}function xu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ue||S(),Ie||(Ue(),Ie=!0),x.add(m,c),c.A=0}}function ia(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ni(y(c.Da,c),Ou(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ni(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Zs(this),Nu(this))};function ll(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Cn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=jt(c.na);it(m,"RID","rpc"),it(m,"SID",c.M),it(m,"AID",c.K),it(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(m,"TO",c.ia),it(m,"TYPE","xmlhttp"),na(c,m),c.u&&c.o&&Wr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=$r(jt(m)),v.u=null,v.R=!0,fs(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Zs(this),ia(this),yt(19))};function Ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Du(c,m){var v=null;if(c.g==m){Ya(c),ll(c),c.g=null;var b=2}else if(zt(c.h,m))v=m.G,Fs(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=us(),It(b,new ke(b,v)),Gi(c)}else xu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ka(c,m)||b==2&&ia(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Qi(c,5);break;case 4:Qi(c,10);break;case 3:Qi(c,6);break;default:Qi(c,2)}}}function Ou(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Qi(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),b=c.Ua;const L=!b;b=new Gn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||en(b,"https"),$r(b),L?Ai(b.toString(),v):il(b.toString(),v)}else yt(2);c.I=0,c.l&&c.l.pa(m),Vu(c),Qa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Vu(c){if(c.I=0,c.ja=[],c.l){const m=Xr(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Mu(c,m,v){var b=v instanceof Gn?jt(v):new Gn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Gs(b,b.u);else{var L=f.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Gn(null);b&&en(B,b),m&&(B.g=m),L&&Gs(B,L),v&&(B.h=v),b=B}return v=c.G,m=c.wa,v&&m&&it(b,v,m),it(b,"VER",c.ka),na(c,b),b}function ku(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new ot(new qi({ab:v})):new ot(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}s=Uu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ws(){}Ws.prototype.g=function(c,m){return new An(c,m)};function An(c,m){pt.call(this),this.g=new Js(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ps(this)}w(An,pt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){al(this.g)},An.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ei(c),c=v);m.i.push(new je(m.Ya++,c)),m.I==3&&Gi(m)},An.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,An.Z.N.call(this)};function Lu(c){Vt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Lu,Vt);function Pu(){rn.call(this),this.status=1}w(Pu,rn);function ps(c){this.g=c}w(ps,Uu),ps.prototype.ra=function(){It(this.g,"a")},ps.prototype.qa=function(c){It(this.g,new Lu(c))},ps.prototype.pa=function(c){It(this.g,new Pu)},ps.prototype.oa=function(){It(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,zT=function(){return new Ws},PT=function(){return us()},LT=gt,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,$c=zi,Qr.COMPLETE="complete",UT=Qr,Pa.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Yl=Pa,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,kT=ot}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.9.0";function z1(s){Fo=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Oh("@firebase/firestore");function Ro(){return Ra.logLevel}function ue(s,...e){if(Ra.logLevel<=He.DEBUG){const n=e.map($m);Ra.debug(`Firestore (${Fo}): ${s}`,...n)}}function Us(s,...e){if(Ra.logLevel<=He.ERROR){const n=e.map($m);Ra.error(`Firestore (${Fo}): ${s}`,...n)}}function Ia(s,...e){if(Ra.logLevel<=He.WARN){const n=e.map($m);Ra.warn(`Firestore (${Fo}): ${s}`,...n)}}function $m(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,jT(s,r,n)}function jT(s,e,n){let r=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Us(r),new Error(r)}function tt(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||jT(e,o,r)}function De(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class B1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q1{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ms,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ms)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new BT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class H1{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class F1{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new H1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Q1(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Fe(s,e){return s<e?-1:s>e?1:0}function Rm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return lm(o)===lm(u)?Fe(o,u):lm(o)?1:-1}return Fe(s.length,e.length)}const K1=55296,Y1=57343;function lm(s){const e=s.charCodeAt(0);return e>=K1&&e<=Y1}function Lo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="__name__";class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Zi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Zi.isNumericId(e),o=Zi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class mt extends Zi{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const X1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Zi{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return X1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new mn([Bv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(mt.fromString(e))}static fromName(e){return new ye(mt.fromString(e).popFirst(5))}static empty(){return new ye(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(s,e,n){if(!n)throw new oe(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function $1(s,e,n,r){if(e===!0&&r===!0)throw new oe(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function qv(s){if(!ye.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Hv(s){if(ye.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function HT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Mh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function zn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(s);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(s,e){const n={typeString:s};return e&&(n.value=e),n}function mu(s,e){if(!HT(s))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new oe(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=-62135596800,Gv=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Gv);return new Tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Fv)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Kt("string",Tt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Tt(0,0))}static max(){return new xe(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function J1(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new kr(o,ye.empty(),e)}function Z1(s){return new kr(s.readTime,s.key,ru)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(xe.min(),ye.empty(),ru)}static max(){return new kr(xe.max(),ye.empty(),ru)}}function W1(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Fe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==eR)throw s;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++p,p===u&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new J(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function nR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=-1;function Uh(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function iR(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="";function sR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Qv(e)),e=rR(s.get(n),e);return Qv(e)}function rR(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case FT:n+="";break;default:n+=u}}return n}function Qv(s){return s+FT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function qr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function GT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??dn.RED,this.left=o??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new dn(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Jt(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QT("Invalid base64 string: "+u):u}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const n=aR.exec(s);if(tt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(s.seconds),nanos:Pt(s.nanos)}}function Pt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Lr(s){return typeof s=="string"?pn.fromBase64String(s):pn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="server_timestamp",YT="__type__",XT="__previous_value__",$T="__local_write_time__";function Wm(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[YT])==null?void 0:r.stringValue)===KT}function Lh(s){const e=s.mapValue.fields[XT];return Wm(e)?Lh(e):e}function au(s){const e=Ur(s.mapValue.fields[$T].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,o,u,f,p,g,y,E,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=w}}const uh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}function lR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__type__",uR="__max__",Fc={mapValue:{}},ZT="__vector__",ch="value";function Pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:hR(s)?9007199254740991:cR(s)?10:11:be(28295,{value:s})}function ss(s,e){if(s===e)return!0;const n=Pr(s);if(n!==Pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return au(s).isEqual(au(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ur(o.timestampValue),p=Ur(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Lr(o.bytesValue).isEqual(Lr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Pt(o.doubleValue),p=Pt(u.doubleValue);return f===p?lh(f)===lh(p):isNaN(f)&&isNaN(p)}return!1})(s,e);case 9:return Lo(s.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Kv(f)!==Kv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!ss(f[g],p[g])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function lu(s,e){return(s.values||[]).find((n=>ss(n,e)))!==void 0}function Po(s,e){if(s===e)return 0;const n=Pr(s),r=Pr(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=Pt(u.integerValue||u.doubleValue),g=Pt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Xv(s.timestampValue,e.timestampValue);case 4:return Xv(au(s),au(e));case 5:return Rm(s.stringValue,e.stringValue);case 6:return(function(u,f){const p=Lr(u),g=Lr(f);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Fe(p[y],g[y]);if(E!==0)return E}return Fe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Fe(Pt(u.latitude),Pt(f.latitude));return p!==0?p:Fe(Pt(u.longitude),Pt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $v(s.arrayValue,e.arrayValue);case 10:return(function(u,f){var R,F,Z,te;const p=u.fields||{},g=f.fields||{},y=(R=p[ch])==null?void 0:R.arrayValue,E=(F=g[ch])==null?void 0:F.arrayValue,w=Fe(((Z=y==null?void 0:y.values)==null?void 0:Z.length)||0,((te=E==null?void 0:E.values)==null?void 0:te.length)||0);return w!==0?w:$v(y,E)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const R=Rm(g[w],E[w]);if(R!==0)return R;const F=Po(p[g[w]],y[E[w]]);if(F!==0)return F}return Fe(g.length,E.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function Xv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const n=Ur(s),r=Ur(e),o=Fe(n.seconds,r.seconds);return o!==0?o:Fe(n.nanos,r.nanos)}function $v(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Po(n[o],r[o]);if(u)return u}return Fe(n.length,r.length)}function zo(s){return Im(s)}function Im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Ur(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Lr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Im(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Im(n.fields[f])}`;return o+"}"})(s.mapValue):be(61005,{value:s})}function Jc(s){switch(Pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(s);return e?16+Jc(e):16;case 5:return 2*s.stringValue.length;case 6:return Lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Jc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return qr(r.fields,((u,f)=>{o+=u.length+Jc(f)})),o})(s.mapValue);default:throw be(13486,{value:s})}}function Jv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Cm(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function Zv(s){return!!s&&"nullValue"in s}function Wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function cR(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[JT])==null?void 0:r.stringValue)===ZT}function Wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return qr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(s.arrayValue.values[n]);return e}return{...s}}function hR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=mn.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=Wl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){qr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Ln(Wl(this.value))}}function WT(s){const e=[];return qr(s.fields,((n,r)=>{const o=new mn([n]);if(Zc(r)){const u=WT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,r,o,u,f,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new vn(e,0,xe.min(),xe.min(),xe.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,o){return new vn(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new vn(e,2,n,xe.min(),xe.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,xe.min(),xe.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function e0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),n.key):r=Po(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function t0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ss(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function fR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{}class Qt extends eE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mR(e,n,r):n==="array-contains"?new yR(e,r):n==="in"?new _R(e,r):n==="not-in"?new vR(e,r):n==="array-contains-any"?new TR(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pR(e,r):new gR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends eE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return tE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tE(s){return s.op==="and"}function nE(s){return dR(s)&&tE(s)}function dR(s){for(const e of s.filters)if(e instanceof Ui)return!1;return!0}function xm(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+zo(s.value);if(nE(s))return s.filters.map((e=>xm(e))).join(",");{const e=s.filters.map((n=>xm(n))).join(",");return`${s.op}(${e})`}}function iE(s,e){return s instanceof Qt?(function(r,o){return o instanceof Qt&&r.op===o.op&&r.field.isEqual(o.field)&&ss(r.value,o.value)})(s,e):s instanceof Ui?(function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&iE(f,o.filters[p])),!0):!1})(s,e):void be(19439)}function sE(s){return s instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`})(s):s instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(sE).join(" ,")+"}"})(s):"Filter"}class mR extends Qt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class pR extends Qt{constructor(e,n){super(e,"in",n),this.keys=rE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gR extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=rE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rE(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class yR extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ep(n)&&lu(n.arrayValue,this.value)}}class _R extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class vR extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class TR extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>lu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n=null,r=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function n0(s,e=null,n=[],r=[],o=null,u=null,f=null){return new ER(s,e,n,r,o,u,f)}function tp(s){const e=De(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>xm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>zo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>zo(r))).join(",")),e.Te=n}return e.Te}function np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!fR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!iE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!t0(s.startAt,e.startAt)&&t0(s.endAt,e.endAt)}function Nm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n=null,r=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bR(s,e,n,r,o,u,f,p){return new Ko(s,e,n,r,o,u,f,p)}function Ph(s){return new Ko(s)}function i0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function AR(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function aE(s){return s.collectionGroup!==null}function eu(s){const e=De(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Jt(mn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new uu(u,r))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new uu(mn.keyField(),r))}return e.Ie}function Wi(s){const e=De(s);return e.Ee||(e.Ee=wR(e,eu(s))),e.Ee}function wR(s,e){if(s.limitType==="F")return n0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uu(o.field,u)}));const n=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return n0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Dm(s,e){const n=s.filters.concat([e]);return new Ko(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function SR(s,e){const n=s.explicitOrderBy.concat([e]);return new Ko(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function fh(s,e,n){return new Ko(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function zh(s,e){return np(Wi(s),Wi(e))&&s.limitType===e.limitType}function oE(s){return`${tp(Wi(s))}|lt:${s.limitType}`}function Io(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>sE(o))).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>zo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>zo(o))).join(",")),`Target(${r})`})(Wi(s))}; limitType=${s.limitType})`}function jh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ye.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of eu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,g){const y=e0(f,p,g);return f.inclusive?y<=0:y<0})(r.startAt,eu(r),o)||r.endAt&&!(function(f,p,g){const y=e0(f,p,g);return f.inclusive?y>=0:y>0})(r.endAt,eu(r),o))})(s,e)}function RR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function lE(s){return(e,n)=>{let r=!1;for(const o of eu(s)){const u=IR(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function IR(s,e,n){const r=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Po(g,y):be(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new St(ye.comparator);function Ls(){return CR}const uE=new St(ye.comparator);function Xl(...s){let e=uE;for(const n of s)e=e.insert(n.key,n);return e}function cE(s){let e=uE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ea(){return tu()}function hE(){return tu()}function tu(){return new ka((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xR=new St(ye.comparator),NR=new Jt(ye.comparator);function Ge(...s){let e=NR;for(const n of s)e=e.add(n);return e}const DR=new Jt(Fe);function OR(){return DR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function fE(s){return{integerValue:""+s}}function VR(s,e){return iR(e)?fE(e):ip(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function MR(s,e,n){return s instanceof dh?(function(o,u){const f={fields:{[YT]:{stringValue:KT},[$T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wm(u)&&(u=Lh(u)),u&&(f.fields[XT]=u),{mapValue:f}})(n,e):s instanceof cu?mE(s,e):s instanceof hu?pE(s,e):(function(o,u){const f=dE(o,u),p=s0(f)+s0(o.Ae);return Cm(f)&&Cm(o.Ae)?fE(p):ip(o.serializer,p)})(s,e)}function kR(s,e,n){return s instanceof cu?mE(s,e):s instanceof hu?pE(s,e):n}function dE(s,e){return s instanceof mh?(function(r){return Cm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class dh extends Bh{}class cu extends Bh{constructor(e){super(),this.elements=e}}function mE(s,e){const n=gE(e);for(const r of s.elements)n.some((o=>ss(o,r)))||n.push(r);return{arrayValue:{values:n}}}class hu extends Bh{constructor(e){super(),this.elements=e}}function pE(s,e){let n=gE(e);for(const r of s.elements)n=n.filter((o=>!ss(o,r)));return{arrayValue:{values:n}}}class mh extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function s0(s){return Pt(s.integerValue||s.doubleValue)}function gE(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function UR(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof cu&&o instanceof cu||r instanceof hu&&o instanceof hu?Lo(r.elements,o.elements,ss):r instanceof mh&&o instanceof mh?ss(r.Ae,o.Ae):r instanceof dh&&o instanceof dh})(s.transform,e.transform)}class LR{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function yE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new sp(s.key,yi.none()):new pu(s.key,s.data,yi.none());{const n=s.data,r=Ln.empty();let o=new Jt(mn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Hr(s.key,r,new Wn(o.toArray()),yi.none())}}function PR(s,e,n){s instanceof pu?(function(o,u,f){const p=o.value.clone(),g=a0(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Hr?(function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=a0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(_E(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function nu(s,e,n,r){return s instanceof pu?(function(u,f,p,g){if(!Wc(u.precondition,f))return p;const y=u.value.clone(),E=o0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Hr?(function(u,f,p,g){if(!Wc(u.precondition,f))return p;const y=o0(u.fieldTransforms,g,f),E=f.data;return E.setAll(_E(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,n,r):(function(u,f,p){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,e,n)}function zR(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=dE(r.transform,o||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,u))}return n||null}function r0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Lo(r,o,((u,f)=>UR(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class pu extends qh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends qh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _E(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function a0(s,e,n){const r=new Map;tt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=e.data.field(u.field);r.set(u.field,kR(f,p,n[o]))}return r}function o0(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,MR(u,f,e))}return r}class sp extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&PR(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hE();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=yE(f,p);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((n,r)=>r0(n,r)))&&Lo(this.baseMutations,e.baseMutations,((n,r)=>r0(n,r)))}}class rp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return xR})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new rp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ye;function FR(s){switch(s){case X.OK:return be(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function vE(s){if(s===void 0)return Us("GRPC error has no .code"),X.UNKNOWN;switch(s){case Gt.OK:return X.OK;case Gt.CANCELLED:return X.CANCELLED;case Gt.UNKNOWN:return X.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return X.INTERNAL;case Gt.UNAVAILABLE:return X.UNAVAILABLE;case Gt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Gt.NOT_FOUND:return X.NOT_FOUND;case Gt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Gt.ABORTED:return X.ABORTED;case Gt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Gt.DATA_LOSS:return X.DATA_LOSS;default:return be(39323,{code:s})}}(Ye=Gt||(Gt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Or([4294967295,4294967295],0);function l0(s){const e=GR().encode(s),n=new MT;return n.update(e),new Uint8Array(n.digest())}function u0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Or([n,r],0),new Or([o,u],0)]}class ap{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Or.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Or.fromNumber(r)));return o.compare(QR)===1&&(o=new Or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=l0(e),[r,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ap(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=l0(e),[r,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(xe.min(),o,new St(Fe),Ls(),Ge())}}class gu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gu(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class TE{constructor(e,n){this.targetId=e,this.Ce=n}}class EE{constructor(e,n,r=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class c0{constructor(){this.ve=0,this.Fe=h0(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:be(38017,{changeType:u})}})),new gu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=h0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class KR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ls(),this.He=Gc(),this.Je=Gc(),this.Ze=new St(Fe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Nm(u))if(r===0){const f=new ye(u.path);this.et(n,f,vn.newNoDocument(f,xe.min()))}else tt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Lr(r).toUint8Array()}catch(g){if(g instanceof QT)return Ia("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ap(f,o,u)}catch(g){return Ia(g instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Nm(p.target)){const g=new ye(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,vn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Ge();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Hh(e,n,this.Ze,this.je,r);return this.je=Ls(),this.He=Gc(),this.Je=Gc(),this.Ze=new St(Fe),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new c0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Jt(Fe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Jt(Fe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new St(ye.comparator)}function h0(){return new St(ye.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},XR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$R={and:"AND",or:"OR"};class JR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(s,e){return s.useProto3Json||Uh(e)?e:{value:e}}function ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(s,e){return ph(s,e.toTimestamp())}function es(s){return tt(!!s,49232),xe.fromTimestamp((function(n){const r=Ur(n);return new Tt(r.seconds,r.nanos)})(s))}function op(s,e){return Vm(s,e).canonicalString()}function Vm(s,e){const n=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function AE(s){const e=mt.fromString(s);return tt(CE(e),10190,{key:e.toString()}),e}function Mm(s,e){return op(s.databaseId,e.path)}function um(s,e){const n=AE(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(SE(n))}function wE(s,e){return op(s.databaseId,e)}function WR(s){const e=AE(s);return e.length===4?mt.emptyPath():SE(e)}function km(s){return new mt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function SE(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function f0(s,e,n){return{name:Mm(s,e),fields:n.value.mapValue.fields}}function eI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(tt(E===void 0||typeof E=="string",58123),pn.fromBase64String(E||"")):(tt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),pn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?X.UNKNOWN:vE(y.code);return new oe(E,y.message||"")})(f);n=new EE(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=um(s,r.document.name),u=es(r.document.updateTime),f=r.document.createTime?es(r.document.createTime):xe.min(),p=new Ln({mapValue:{fields:r.document.fields}}),g=vn.newFoundDocument(o,u,f,p),y=r.targetIds||[],E=r.removedTargetIds||[];n=new eh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=um(s,r.document),u=r.readTime?es(r.readTime):xe.min(),f=vn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new eh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=um(s,r.document),u=r.removedTargetIds||[];n=new eh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new HR(o,u),p=r.targetId;n=new TE(p,f)}}return n}function tI(s,e){let n;if(e instanceof pu)n={update:f0(s,e.key,e.value)};else if(e instanceof sp)n={delete:Mm(s,e.key)};else if(e instanceof Hr)n={update:f0(s,e.key,e.data),updateMask:cI(e.fieldMask)};else{if(!(e instanceof jR))return be(16599,{dt:e.type});n={verify:Mm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof cu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(s,e.precondition)),n}function nI(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?es(o.updateTime):es(u);return f.isEqual(xe.min())&&(f=es(u)),new LR(f,o.transformResults||[])})(n,e)))):[]}function iI(s,e){return{documents:[wE(s,e.path)]}}function sI(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wE(s,o);const u=(function(y){if(y.length!==0)return IE(Ui.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Co(R.field),direction:oI(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Om(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function rI(s){let e=WR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){tt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const R=RE(w);return R instanceof Ui&&nE(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((R=>(function(Z){return new uu(xo(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(R)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let R;return R=typeof w=="object"?w.value:w,Uh(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(w){const R=!!w.before,F=w.values||[];return new hh(F,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const R=!w.before,F=w.values||[];return new hh(F,R)})(n.endAt)),bR(e,o,f,u,p,"F",g,y)}function aI(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xo(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xo(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xo(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Qt.create(xo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((r=>RE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(s):be(30097,{filter:s})}function oI(s){return YR[s]}function lI(s){return XR[s]}function uI(s){return $R[s]}function Co(s){return{fieldPath:s.canonicalString()}}function xo(s){return mn.fromServerFormat(s.fieldPath)}function IE(s){return s instanceof Qt?(function(n){if(n.op==="=="){if(Wv(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wv(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(n.field),op:lI(n.op),value:n.value}}})(s):s instanceof Ui?(function(n){const r=n.getFilters().map((o=>IE(o)));return r.length===1?r[0]:{compositeFilter:{op:uI(n.op),filters:r}}})(s):be(54877,{filter:s})}function cI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function CE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function xE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,o,u=xe.min(),f=xe.min(),p=pn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.yt=e}}function fI(s){const e=rI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Sn=new mI}addToCollectionParentIndex(e,n){return this.Sn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(kr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class mI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Jt(mt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Jt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NE=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(NE,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jo(0)}static ar(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LruGarbageCollector",pI=1048576;function p0([s,e],[n,r]){const o=Fe(s,n);return o===0?Fe(e,r):o}class gI{constructor(e){this.Pr=e,this.buffer=new Jt(p0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?ue(m0,"Ignoring IndexedDB error during garbage collection: ",n):await Go(n)}await this.Ar(3e5)}))}}class _I{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(kh.ce);const r=new gI(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(d0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),Ro()<=He.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function vI(s,e){return new _I(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.changes=new ka((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&nu(r.mutation,o,Wn.empty(),Tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const o=Ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Xl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Ea();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,r,o){let u=Ls();const f=tu(),p=(function(){return tu()})();return n.forEach(((g,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Hr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),nu(E.mutation,y,E.mutation.getFieldMask(),Tt.now())):f.set(y.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>p.set(y,new EI(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=tu();let o=new St(((f,p)=>f-p)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=r.get(g)||Wn.empty();E=p.applyToLocalView(y,E),r.set(g,E);const w=(o.get(p.batchId)||Ge()).add(g);o=o.insert(p.batchId,w)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,w=hE();E.forEach((R=>{if(!u.has(R)){const F=yE(n.get(R),r.get(R));F!==null&&w.set(R,F),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return AR(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):J.resolve(Ea());let p=ru,g=u;return f.next((y=>J.forEach(y,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ge()))).next((E=>({batchId:p,changes:cE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let o=Xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Xl();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(g=>{const y=(function(w,R){return new Ko(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((w,R)=>{f=f.insert(w,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))}));let p=Xl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&nu(E.mutation,y,Wn.empty(),Tt.now()),jh(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:es(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:fI(o.bundledQuery),readTime:es(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.overlays=new St(ye.comparator),this.Lr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ea();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const o=Ea(),u=n.length+1,f=new ye(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new St(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=Ea(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Ea(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return J.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new qR(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ge(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this.kr=new Jt(nn.Kr),this.qr=new Jt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new nn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ye(new mt([])),r=new nn(n,e),o=new nn(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new mt([])),r=new nn(n,e),o=new nn(n,e+1);let u=Ge();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new nn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Fe(e.Hr,n.Hr)}static Ur(e,n){return Fe(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Jt(nn.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BR(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Jr=this.Jr.add(new nn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Zm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const p=this.Zr(f.Hr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Fe);return n.forEach((o=>{const u=new nn(o,0),f=new nn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ye.isDocumentKey(u)||(u=u.child(""));const f=new nn(new ye(u),0);let p=new Jt(Fe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),f),J.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(o=>{const u=new nn(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new nn(n,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.ti=e,this.docs=(function(){return new St(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=Ls();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Ls();const f=n.path,p=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||W1(Z1(E),r)<=0||(o.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,r,o){be(9500)}ni(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new CI(this)}getSize(e){return J.resolve(this.size)}}class CI extends TI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.persistence=e,this.ri=new ka((n=>tp(n)),np),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ii=0,this.si=new lp,this.targetCount=0,this.oi=jo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.lr(n),J.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this._i={},this.overlays={},this.ai=new kh(0),this.ui=!1,this.ui=!0,this.ci=new SI,this.referenceDelegate=e(this),this.li=new xI(this),this.indexManager=new dI,this.remoteDocumentCache=(function(o){return new II(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new hI(n),this.Pi=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new RI(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new NI(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class NI extends tR{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new lp,this.Ai=null}static Vi(e){return new up(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=ye.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,xe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.fi=new ka((r=>sR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=vI(this,n)}static Vi(e,n){return new gh(e,n)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((p=>{p||(r++,u.removeEntry(f,xe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}wr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Ge(),o=Ge();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cp(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yS()?8:nR(Tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DI;return this.ys(e,n,f).next((p=>{if(u.result=p,this.As)return this.ws(e,n,f,p.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Ro()<=He.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ro()<=He.DEBUG&&ue("QueryEngine","Query:",Io(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ro()<=He.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):J.resolve())}gs(e,n){if(i0(n))return J.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fh(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Ge(...u);return this.fs.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(e,fh(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return i0(n)||o.isEqual(xe.min())?J.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?J.resolve(null):(Ro()<=He.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.Ds(e,f,n,J1(o,ru)).next((p=>p)))}))}bs(e,n){let r=new Jt(lE(e));return n.forEach(((o,u)=>{jh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return Ro()<=He.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Io(n)),this.fs.getDocumentsMatchingQuery(e,n,kr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="LocalStore",VI=3e8;class MI{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new St(Fe),this.Fs=new ka((u=>tp(u)),np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function kI(s,e,n,r){return new MI(s,e,n,r)}async function OE(s,e){const n=De(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let g=Ge();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function UI(s,e){const n=De(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const w=y.batch,R=w.keys();let F=J.resolve();return R.forEach((Z=>{F=F.next((()=>E.getEntry(g,Z))).next((te=>{const W=y.docVersions.get(Z);tt(W!==null,48541),te.version.compareTo(W)<0&&(w.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),E.addEntry(te)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ge();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function VE(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function LI(s,e){const n=De(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((E,w)=>{const R=o.get(w);if(!R)return;p.push(n.li.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,w))));let F=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?F=F.withResumeToken(pn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,r)),o=o.insert(w,F),(function(te,W,pe){return te.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=VI?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(R,F,E)&&p.push(n.li.updateTargetData(u,F))}));let g=Ls(),y=Ge();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(PI(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!r.isEqual(xe.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return J.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function PI(s,e,n){let r=Ge(),o=Ge();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=Ls();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ue(hp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function zI(s,e){const n=De(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jI(s,e){const n=De(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,J.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new xr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Um(s,e,n){const r=De(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Qo(f))throw f;ue(hp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function g0(s,e,n){const r=De(s);let o=xe.min(),u=Ge();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const w=De(g),R=w.Fs.get(E);return R!==void 0?J.resolve(w.vs.get(R)):w.li.getTargetData(y,E)})(r,f,Wi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?u:Ge()))).next((p=>(BI(r,RR(e),p),{documents:p,ks:u})))))}function BI(s,e,n){let r=s.Ms.get(e)||xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class y0{constructor(){this.activeTargetIds=OR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qI{constructor(){this.vo=new y0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new y0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="ConnectivityMonitor";class v0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(_0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Lm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",FI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=Lm(),p=this.Qo(e,n.toUriEncodedString());ue(cm,`Sending RPC '${e}' ${f}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(p),E=Oa(y);return this.zo(e,p,g,r,E).then((w=>(ue(cm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Ia(cm,`RPC '${e}' ${f} failed with error: `,w,"url: ",p,"request:",r),w}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=FI[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection",Kl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Do extends GI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Do.c_){const e=PT();Kl(e,LT.STAT_EVENT,(n=>{n.stat===Sm.PROXY?ue(yn,"STAT_EVENT: detected buffering proxy"):n.stat===Sm.NOPROXY&&ue(yn,"STAT_EVENT: detected no buffering proxy")})),Do.c_=!0}}zo(e,n,r,o,u){const f=Lm();return new Promise(((p,g)=>{const y=new kT;y.setWithCredentials(!0),y.listenOnce(UT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case $c.NO_ERROR:const w=y.getResponseJson();ue(yn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),p(w);break;case $c.TIMEOUT:ue(yn,`RPC '${e}' ${f} timed out`),g(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const R=y.getStatus();if(ue(yn,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F==null?void 0:F.error;if(Z&&Z.status&&Z.message){const te=(function(pe){const Ee=pe.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ee)>=0?Ee:X.UNKNOWN})(Z.status);g(new oe(te,Z.message))}else g(new oe(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(X.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(yn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(yn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Lm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=u.join("");ue(yn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const E=f.createWebChannel(y,p);this.I_(E);let w=!1,R=!1;const F=new QI({Ho:Z=>{R?ue(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(w||(ue(yn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),w=!0),ue(yn,`RPC '${e}' stream ${o} sending:`,Z),E.send(Z))},Jo:()=>E.close()});return Kl(E,Yl.EventType.OPEN,(()=>{R||(ue(yn,`RPC '${e}' stream ${o} transport opened.`),F.i_())})),Kl(E,Yl.EventType.CLOSE,(()=>{R||(R=!0,ue(yn,`RPC '${e}' stream ${o} transport closed`),F.o_(),this.E_(E))})),Kl(E,Yl.EventType.ERROR,(Z=>{R||(R=!0,Ia(yn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),Kl(E,Yl.EventType.MESSAGE,(Z=>{var te;if(!R){const W=Z.data[0];tt(!!W,16349);const pe=W,Ee=(pe==null?void 0:pe.error)||((te=pe[0])==null?void 0:te.error);if(Ee){ue(yn,`RPC '${e}' stream ${o} received error:`,Ee);const _e=Ee.status;let Re=(function(x){const S=Gt[x];if(S!==void 0)return vE(S)})(_e),Ue=Ee.message;_e==="NOT_FOUND"&&Ue.includes("database")&&Ue.includes("does not exist")&&Ue.includes(this.databaseId.database)&&Ia(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Re===void 0&&(Re=X.INTERNAL,Ue="Unknown error status: "+_e+" with message "+Ee.message),R=!0,F.o_(new oe(Re,Ue)),E.close()}else ue(yn,`RPC '${e}' stream ${o} received:`,W),F.__(W)}})),Do.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return zT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(s){return new Do(s)}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(s){return new JR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do.c_=!1;class ME{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class kE{constructor(e,n,r,o,u,f,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ME(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YI extends kE{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?es(f.readTime):xe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=km(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Nm(g)?{documents:iI(u,g)}:{query:sI(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=bE(u,f.resumeToken);const y=Om(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(xe.min())>0){p.readTime=ph(u,f.snapshotVersion.toTimestamp());const y=Om(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=aI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.K_(n)}}class XI extends kE{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nI(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tI(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{}class JI extends $I{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Vm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(X.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(e,Vm(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ZI(s,e,n,r){return new JI(s,e,n,r)}class WI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class eC{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{Ua(this)&&(ue(Ca,"Restarting streams for network reachability change."),await(async function(g){const y=De(g);y.Ea.add(4),await yu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Va=new WI(r,o)}}async function Gh(s){if(Ua(s))for(const e of s.Ra)await e(!0)}async function yu(s){for(const e of s.Ra)await e(!1)}function UE(s,e){const n=De(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pp(n)?mp(n):Yo(n).O_()&&dp(n,e))}function fp(s,e){const n=De(s),r=Yo(n);n.Ia.delete(e),r.O_()&&LE(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ua(n)&&n.Va.set("Unknown"))}function dp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(s).Z_(e)}function LE(s,e){s.da.$e(e),Yo(s).X_(e)}function mp(s){s.da=new KR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Yo(s).start(),s.Va.ua()}function pp(s){return Ua(s)&&!Yo(s).x_()&&s.Ia.size>0}function Ua(s){return De(s).Ea.size===0}function PE(s){s.da=void 0}async function tC(s){s.Va.set("Online")}async function nC(s){s.Ia.forEach(((e,n)=>{dp(s,e)}))}async function iC(s,e){PE(s),pp(s)?(s.Va.ha(e),mp(s)):s.Va.set("Unknown")}async function sC(s,e,n){if(s.Va.set("Online"),e instanceof EE&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){ue(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(s,r)}else if(e instanceof eh?s.da.Xe(e):e instanceof TE?s.da.st(e):s.da.tt(e),!n.isEqual(xe.min()))try{const r=await VE(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(pn.EMPTY_BYTE_STRING,E.snapshotVersion)),LE(u,g);const w=new xr(E.target,g,y,E.sequenceNumber);dp(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ue(Ca,"Failed to raise snapshot:",r),await yh(s,r)}}async function yh(s,e,n){if(!Qo(e))throw e;s.Ea.add(1),await yu(s),s.Va.set("Offline"),n||(n=()=>VE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(Ca,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Gh(s)}))}function zE(s,e){return e().catch((n=>yh(s,n,e)))}async function Qh(s){const e=De(s),n=zr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;rC(e);)try{const o=await zI(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,aC(e,o)}catch(o){await yh(e,o)}jE(e)&&BE(e)}function rC(s){return Ua(s)&&s.Ta.length<10}function aC(s,e){s.Ta.push(e);const n=zr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function jE(s){return Ua(s)&&!zr(s).x_()&&s.Ta.length>0}function BE(s){zr(s).start()}async function oC(s){zr(s).ra()}async function lC(s){const e=zr(s);for(const n of s.Ta)e.ea(n.mutations)}async function uC(s,e,n){const r=s.Ta.shift(),o=rp.from(r,e,n);await zE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Qh(s)}async function cC(s,e){e&&zr(s).Y_&&await(async function(r,o){if((function(f){return FR(f)&&f!==X.ABORTED})(o.code)){const u=r.Ta.shift();zr(r).B_(),await zE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qh(r)}})(s,e),jE(s)&&BE(s)}async function E0(s,e){const n=De(s);n.asyncQueue.verifyOperationInProgress(),ue(Ca,"RemoteStore received new credentials");const r=Ua(n);n.Ea.add(3),await yu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function hC(s,e){const n=De(s);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await yu(n),n.Va.set("Unknown"))}function Yo(s){return s.ma||(s.ma=(function(n,r,o){const u=De(n);return u.sa(),new YI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:tC.bind(null,s),Yo:nC.bind(null,s),t_:iC.bind(null,s),J_:sC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Va.set("Unknown")):(await s.ma.stop(),PE(s))}))),s.ma}function zr(s){return s.fa||(s.fa=(function(n,r,o){const u=De(n);return u.sa(),new XI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:oC.bind(null,s),t_:cC.bind(null,s),ta:lC.bind(null,s),na:uC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Qh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(Ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,p=new gp(e,n,f,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(Us("AsyncQueue",`${e}: ${s}`),Qo(s))return new oe(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Xl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.ga=new St(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bo{constructor(e,n,r,o,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new Bo(e,n,Oo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class dC{constructor(){this.queries=A0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=De(n),u=o.queries;o.queries=A0(),u.forEach(((f,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function A0(){return new ka((s=>oE(s)),zh)}async function _p(s,e){const n=De(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new fC,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=yp(f,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Tp(n)}async function vp(s,e){const n=De(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mC(s,e){const n=De(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(o)&&(r=!0);f.wa=o}}r&&Tp(n)}function pC(s,e,n){const r=De(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function Tp(s){s.Ca.forEach((e=>{e.next()}))}var Pm,w0;(w0=Pm||(Pm={})).Ma="default",w0.Cache="cache";class Ep{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class gC{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=lE(e),this.tu=new Oo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new b0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const R=o.get(E),F=jh(this.query,w)?w:null,Z=!!R&&this.mutatedKeys.has(R.key),te=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;R&&F?R.data.isEqual(F.data)?Z!==te&&(r.track({type:3,doc:F}),W=!0):this.su(R,F)||(r.track({type:2,doc:F}),W=!0,(g&&this.eu(F,g)>0||y&&this.eu(F,y)<0)&&(p=!0)):!R&&F?(r.track({type:0,doc:F}),W=!0):R&&!F&&(r.track({type:1,doc:R}),W=!0,(g||y)&&(p=!0)),W&&(F?(f=f.add(F),u=te?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(F,Z){const te=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:W})}};return te(F)-te(Z)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new Bo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new HE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new qE(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const bp="SyncEngine";class yC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _C{constructor(e){this.key=e,this.hu=!1}}class vC{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ka((p=>oE(p)),zh),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(ye.comparator),this.Au=new Map,this.Vu=new lp,this.du={},this.mu=new Map,this.fu=jo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TC(s,e,n=!0){const r=XE(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await FE(r,e,n,!0),o}async function EC(s,e){const n=XE(s);await FE(n,e,!0,!1)}async function FE(s,e,n,r){const o=await jI(s.localStore,Wi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await bC(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&UE(s.remoteStore,o),p}async function bC(s,e,n,r,o){s.pu=(w,R,F)=>(async function(te,W,pe,Ee){let _e=W.view.ru(pe);_e.Ss&&(_e=await g0(te.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,_e))));const Re=Ee&&Ee.targetChanges.get(W.targetId),Ue=Ee&&Ee.targetMismatches.get(W.targetId)!=null,Ie=W.view.applyChanges(_e,te.isPrimaryClient,Re,Ue);return R0(te,W.targetId,Ie.au),Ie.snapshot})(s,w,R,F);const u=await g0(s.localStore,e,!0),f=new gC(e,u.ks),p=f.ru(u.documents),g=gu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(p,s.isPrimaryClient,g);R0(s,n,y.au);const E=new yC(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function AC(s,e,n){const r=De(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!zh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fp(r.remoteStore,o.targetId),zm(r,o.targetId)})).catch(Go)):(zm(r,o.targetId),await Um(r.localStore,o.targetId,!0))}async function wC(s,e){const n=De(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fp(n.remoteStore,r.targetId))}async function SC(s,e,n){const r=OC(s);try{const o=await(function(f,p){const g=De(f),y=Tt.now(),E=p.reduce(((F,Z)=>F.add(Z.key)),Ge());let w,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=Ls(),te=Ge();return g.xs.getEntries(F,E).next((W=>{Z=W,Z.forEach(((pe,Ee)=>{Ee.isValidDocument()||(te=te.add(pe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,Z))).next((W=>{w=W;const pe=[];for(const Ee of p){const _e=zR(Ee,w.get(Ee.key).overlayedDocument);_e!=null&&pe.push(new Hr(Ee.key,_e,WT(_e.value.mapValue),yi.exists(!0)))}return g.mutationQueue.addMutationBatch(F,y,pe,p)})).next((W=>{R=W;const pe=W.applyToLocalDocumentSet(w,te);return g.documentOverlayCache.saveOverlays(F,W.batchId,pe)}))})).then((()=>({batchId:R.batchId,changes:cE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new St(Fe)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await _u(r,o.changes),await Qh(r.remoteStore)}catch(o){const u=yp(o,"Failed to persist write");n.reject(u)}}async function GE(s,e){const n=De(s);try{const r=await LI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?tt(f.hu,14607):o.removedDocuments.size>0&&(tt(f.hu,42227),f.hu=!1))})),await _u(n,r,e)}catch(r){await Go(r)}}function S0(s,e,n){const r=De(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=De(f);g.onlineState=p;let y=!1;g.queries.forEach(((E,w)=>{for(const R of w.ba)R.va(p)&&(y=!0)})),y&&Tp(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RC(s,e,n){const r=De(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new St(ye.comparator);f=f.insert(u,vn.newNoDocument(u,xe.min()));const p=Ge().add(u),g=new Hh(xe.min(),new Map,new St(Fe),f,p);await GE(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),Ap(r)}else await Um(r.localStore,e,!1).then((()=>zm(r,e,n))).catch(Go)}async function IC(s,e){const n=De(s),r=e.batch.batchId;try{const o=await UI(n.localStore,e);KE(n,r,null),QE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,o)}catch(o){await Go(o)}}async function CC(s,e,n){const r=De(s);try{const o=await(function(f,p){const g=De(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(tt(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);KE(r,e,n),QE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,o)}catch(o){await Go(o)}}function QE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function KE(s,e,n){const r=De(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function zm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||YE(s,r)}))}function YE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(fp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Ap(s))}function R0(s,e,n){for(const r of n)r instanceof qE?(s.Vu.addReference(r.key,e),xC(s,r)):r instanceof HE?(ue(bp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||YE(s,r.key)):be(19791,{wu:r})}function xC(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ue(bp,"New document in limbo: "+n),s.Eu.add(r),Ap(s))}function Ap(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ye(mt.fromString(e)),r=s.fu.next();s.Au.set(r,new _C(n)),s.Ru=s.Ru.insert(n,r),UE(s.remoteStore,new xr(Wi(Ph(n.path)),r,"TargetPurposeLimboResolution",kh.ce))}}async function _u(s,e,n){const r=De(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{f.push(r.pu(g,e,n).then((y=>{var E;if((y||n)&&r.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:E.current;r.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=cp.Es(g.targetId,y);u.push(w)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,y){const E=De(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(y,(R=>J.forEach(R.Ts,(F=>E.persistence.referenceDelegate.addReference(w,R.targetId,F))).next((()=>J.forEach(R.Is,(F=>E.persistence.referenceDelegate.removeReference(w,R.targetId,F)))))))))}catch(w){if(!Qo(w))throw w;ue(hp,"Failed to update sequence numbers: "+w)}for(const w of y){const R=w.targetId;if(!w.fromCache){const F=E.vs.get(R),Z=F.snapshotVersion,te=F.withLastLimboFreeSnapshotVersion(Z);E.vs=E.vs.insert(R,te)}}})(r.localStore,u))}async function NC(s,e){const n=De(s);if(!n.currentUser.isEqual(e)){ue(bp,"User change. New user:",e.toKey());const r=await OE(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new oe(X.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.Ns)}}function DC(s,e){const n=De(s),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function XE(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RC.bind(null,e),e.Pu.J_=mC.bind(null,e.eventManager),e.Pu.yu=pC.bind(null,e.eventManager),e}function OC(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kI(this.persistence,new OI,e.initialUser,this.serializer)}Cu(e){return new DE(up.Vi,this.serializer)}Du(e){return new qI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class VC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new DE((r=>gh.Vi(r,n)),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dC})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),r=KI(e.databaseInfo);return ZI(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,p){return new eC(r,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>S0(this.syncEngine,n,0)),(function(){return v0.v()?new v0:new HI})())}createSyncEngine(e,n){return(function(o,u,f,p,g,y,E){const w=new vC(o,u,f,p,g,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=De(o);ue(Ca,"RemoteStore shutting down."),u.Ea.add(5),await yu(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class MC{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ue(jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ue(jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(jr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await OE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function I0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await kC(s);ue(jr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>E0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>E0(e.remoteStore,o))),s._onlineComponents=e}async function kC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(jr,"Using user provided OfflineComponentProvider");try{await fm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await fm(s,new _h)}}else ue(jr,"Using default OfflineComponentProvider"),await fm(s,new VC(void 0));return s._offlineComponents}async function $E(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(jr,"Using user provided OnlineComponentProvider"),await I0(s,s._uninitializedComponentsProvider._online)):(ue(jr,"Using default OnlineComponentProvider"),await I0(s,new jm))),s._onlineComponents}function UC(s){return $E(s).then((e=>e.syncEngine))}async function vh(s){const e=await $E(s),n=e.eventManager;return n.onListen=TC.bind(null,e.syncEngine),n.onUnlisten=AC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wC.bind(null,e.syncEngine),n}function LC(s,e,n,r){const o=new wp(r),u=new Ep(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>_p(await vh(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>vp(await vh(s),u)))}}function PC(s,e,n={}){const r=new Ms;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new wp({next:R=>{E.Nu(),f.enqueueAndForget((()=>vp(u,w)));const F=R.docs.has(p);!F&&R.fromCache?y.reject(new oe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&R.fromCache&&g&&g.source==="server"?y.reject(new oe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),w=new Ep(Ph(p.path),E,{includeMetadataChanges:!0,Ka:!0});return _p(u,w)})(await vh(s),s.asyncQueue,e,n,r))),r.promise}function zC(s,e,n={}){const r=new Ms;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new wp({next:R=>{E.Nu(),f.enqueueAndForget((()=>vp(u,w))),R.fromCache&&g.source==="server"?y.reject(new oe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),w=new Ep(p,E,{includeMetadataChanges:!0,Ka:!0});return _p(u,w)})(await vh(s),s.asyncQueue,e,n,r))),r.promise}function jC(s,e){const n=new Ms;return s.asyncQueue.enqueueAndForget((async()=>SC(await UC(s),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="ComponentProvider",C0=new Map;function qC(s,e,n,r,o){return new oR(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,JE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firestore.googleapis.com",x0=!0;class N0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pI)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new j1;switch(r.type){case"firstParty":return new F1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=C0.get(n);r&&(ue(BC,"Removing Datastore"),C0.delete(n),r.terminate())})(this),Promise.resolve()}}function HC(s,e,n,r={}){var y;s=zn(s,Kh);const o=Oa(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(Km(`https://${p}`),Ym("Firestore",!0)),u.host!==ZE&&u.host!==p&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!Mr(g,f)&&(s._setSettings(g),r.mockUserToken)){let E,w;if(typeof r.mockUserToken=="string")E=r.mockUserToken,w=_n.MOCK_USER;else{E=wT(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new _n(R)}s._authCredentials=new B1(new BT(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mu(n,Dt._jsonSchema))return new Dt(e,r||null,new ye(mt.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Kt("string",Dt._jsonSchemaVersion),referencePath:Kt("string")};class Vr extends Bs{constructor(e,n,r){super(e,n,Ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ye(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function br(s,e,...n){if(s=Yt(s),qT("collection","path",e),s instanceof Kh){const r=mt.fromString(e,...n);return Hv(r),new Vr(s,null,r)}{if(!(s instanceof Dt||s instanceof Vr))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(mt.fromString(e,...n));return Hv(r),new Vr(s.firestore,null,r)}}function pi(s,e,...n){if(s=Yt(s),arguments.length===1&&(e=Jm.newId()),qT("doc","path",e),s instanceof Kh){const r=mt.fromString(e,...n);return qv(r),new Dt(s,null,new ye(r))}{if(!(s instanceof Dt||s instanceof Vr))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(mt.fromString(e,...n));return qv(r),new Dt(s.firestore,s instanceof Vr?s.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="AsyncQueue";class O0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ME(this,"async_queue_retry"),this._c=()=>{const r=hm();r&&ue(D0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Qo(e))throw e;ue(D0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",V0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:V0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function V0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ps extends Kh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new O0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O0(e),this._firestoreClient=void 0,await e}}}function FC(s,e){const n=typeof s=="object"?s:Vh(),r=typeof s=="string"?s:uh,o=Br(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=ET("firestore");u&&HC(o,...u)}return o}function Yh(s){if(s._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GC(s),s._firestoreClient}function GC(s){var r,o,u,f;const e=s._freezeSettings(),n=qC(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new MC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(pn.fromBase64String(e))}catch(n){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Kt("string",gi._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(mu(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Kt("string",ts._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Kt("string",Mi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=/^__.*__$/;class KC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class WE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:s})}}class Ip{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eb(this.dataSource)&&QC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class YC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fh(e)}createContext(e,n,r,o=!1){return new Ip({dataSource:e,methodName:n,targetDoc:r,path:mn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(s){const e=s._freezeSettings(),n=Fh(s._databaseId);return new YC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function tb(s,e,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);Cp("Data must be an object, but it was:",f,r);const p=nb(r,f);let g,y;if(u.merge)g=new Wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const R=qo(e,w,n);if(!f.contains(R))throw new oe(X.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);rb(E,R)||E.push(R)}g=new Wn(E),y=f.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=f.fieldTransforms;return new KC(new Ln(p),g,y)}class $h extends Rp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function XC(s,e,n,r){const o=s.createContext(1,e,n);Cp("Data must be an object, but it was:",o,r);const u=[],f=Ln.empty();qr(r,((g,y)=>{const E=sb(e,g,n);y=Yt(y);const w=o.childContextForFieldPath(E);if(y instanceof $h)u.push(E);else{const R=vu(y,w);R!=null&&(u.push(E),f.set(E,R))}}));const p=new Wn(u);return new WE(f,p,o.fieldTransforms)}function $C(s,e,n,r,o,u){const f=s.createContext(1,e,n),p=[qo(e,r,n)],g=[o];if(u.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(qo(e,u[R])),g.push(u[R+1]);const y=[],E=Ln.empty();for(let R=p.length-1;R>=0;--R)if(!rb(y,p[R])){const F=p[R];let Z=g[R];Z=Yt(Z);const te=f.childContextForFieldPath(F);if(Z instanceof $h)y.push(F);else{const W=vu(Z,te);W!=null&&(y.push(F),E.set(F,W))}}const w=new Wn(y);return new WE(E,w,f.fieldTransforms)}function JC(s,e,n,r=!1){return vu(n,s.createContext(r?4:3,e))}function vu(s,e){if(ib(s=Yt(s)))return Cp("Unsupported field value:",e,s),nb(s,e);if(s instanceof Rp)return(function(r,o){if(!eb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let g=vu(p,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Tt.fromDate(r);return{timestampValue:ph(o.serializer,u)}}if(r instanceof Tt){const u=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:bE(o.serializer,r._byteString)};if(r instanceof Dt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:op(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Mi)return(function(f,p){const g=f instanceof Mi?f.toArray():f;return{mapValue:{fields:{[JT]:{stringValue:ZT},[ch]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw p.createError("VectorValues must only contain numeric values.");return ip(p.serializer,E)}))}}}}}})(r,o);if(xE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Mh(r)}`)})(s,e)}function nb(s,e){const n={};return GT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(s,((r,o)=>{const u=vu(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function ib(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Tt||s instanceof ts||s instanceof gi||s instanceof Dt||s instanceof Rp||s instanceof Mi||xE(s))}function Cp(s,e,n){if(!ib(n)||!HT(n)){const r=Mh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function qo(s,e,n){if((e=Yt(e))instanceof Sp)return e._internalPath;if(typeof e=="string")return sb(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,n)}const ZC=new RegExp("[~\\*/\\[\\]]");function sb(s,e,n){if(e.search(ZC)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Sp(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Th(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new oe(X.INVALID_ARGUMENT,p+s+g)}function rb(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{convertValue(e,n="none"){switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){var r,o,u;const n=(u=(o=(r=e.fields)==null?void 0:r[ch].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Pt(f.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new ts(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);tt(CE(r),9688,{name:e});const o=new ou(r.get(1),r.get(3)),u=new ye(r.popFirst(5));return o.isEqual(n)||Us(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends WC{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}const M0="@firebase/firestore",k0="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(qo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ex extends ab{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class Dp extends Np{}function tx(s,e,...n){let r=[];e instanceof Np&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof Vp)).length,p=u.filter((g=>g instanceof Op)).length;if(f>1||f>0&&p>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Op extends Dp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Op(e,n,r)}_apply(e){const n=this._parse(e);return lb(e._query,n),new Bs(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=Xh(e.firestore);return(function(u,f,p,g,y,E,w){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){P0(w,E);const Z=[];for(const te of w)Z.push(L0(g,u,te));R={arrayValue:{values:Z}}}else R=L0(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||P0(w,E),R=JC(p,f,w,E==="in"||E==="not-in");return Qt.create(y,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Vp extends Np{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)lb(f,g),f=Dm(f,g)})(e._query,n),new Bs(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mp extends Dp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(u,f)})(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,SR(e._query,n))}}function nx(s,e="asc"){const n=e,r=qo("orderBy",s);return Mp._create(r,n)}class kp extends Dp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new kp(e,n,r)}_apply(e){return new Bs(e.firestore,e.converter,fh(e._query,this._limit,this._limitType))}}function ix(s){return kp._create("limit",s,"F")}function L0(s,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aE(e)&&n.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mt.fromString(n));if(!ye.isDocumentKey(r))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jv(s,new ye(r))}if(n instanceof Dt)return Jv(s,n._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function P0(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lb(s,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ub(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends ab{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Kt("string",Aa._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class th extends Aa{data(e={}){return super.data(e)}}class wa{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new th(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new th(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:sx(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Kt("string",wa._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(s){s=zn(s,Dt);const e=zn(s.firestore,Ps),n=Yh(e);return PC(n,s._key).then((r=>cb(e,s,r)))}function z0(s){s=zn(s,Bs);const e=zn(s.firestore,Ps),n=Yh(e),r=new xp(e);return ob(s._query),zC(n,s._query).then((o=>new wa(e,r,s,o)))}function dm(s,e,n){s=zn(s,Dt);const r=zn(s.firestore,Ps),o=ub(s.converter,e,n),u=Xh(r);return Jh(r,[tb(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,yi.none())])}function Ar(s,e,n,...r){s=zn(s,Dt);const o=zn(s.firestore,Ps),u=Xh(o);let f;return f=typeof(e=Yt(e))=="string"||e instanceof Sp?$C(u,"updateDoc",s._key,e,n,r):XC(u,"updateDoc",s._key,e),Jh(o,[f.toMutation(s._key,yi.exists(!0))])}function ax(s){return Jh(zn(s.firestore,Ps),[new sp(s._key,yi.none())])}function Kc(s,e){const n=zn(s.firestore,Ps),r=pi(s),o=ub(s.converter,e),u=Xh(s.firestore);return Jh(n,[tb(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then((()=>r))}function wr(s,...e){var y,E,w;s=Yt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||U0(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(U0(e[r])){const R=e[r];e[r]=(y=R.next)==null?void 0:y.bind(R),e[r+1]=(E=R.error)==null?void 0:E.bind(R),e[r+2]=(w=R.complete)==null?void 0:w.bind(R)}let u,f,p;if(s instanceof Dt)f=zn(s.firestore,Ps),p=Ph(s._key.path),u={next:R=>{e[r]&&e[r](cb(f,s,R))},error:e[r+1],complete:e[r+2]};else{const R=zn(s,Bs);f=zn(R.firestore,Ps),p=R._query;const F=new xp(f);u={next:Z=>{e[r]&&e[r](new wa(f,F,R,Z))},error:e[r+1],complete:e[r+2]},ob(s._query)}const g=Yh(f);return LC(g,p,o,u)}function Jh(s,e){const n=Yh(s);return jC(n,e)}function cb(s,e,n){const r=n.docs.get(e._key),o=new xp(s);return new Aa(s,o,e._key,r,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){z1(Ma),ki(new _i("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new Ps(new q1(r.getProvider("auth-internal")),new G1(f,r.getProvider("app-check-internal")),lR(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Pn(M0,k0,e),Pn(M0,k0,"esm2020")})();const hb="@firebase/installations",Up="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=1e4,db=`w:${Up}`,mb="FIS_v2",ox="https://firebaseinstallations.googleapis.com/v1",lx=3600*1e3,ux="installations",cx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xa=new Va(ux,cx,hx);function pb(s){return s instanceof vi&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb({projectId:s}){return`${ox}/projects/${s}/installations`}function yb(s){return{token:s.token,requestStatus:2,expiresIn:dx(s.expiresIn),creationTime:Date.now()}}async function _b(s,e){const r=(await e.json()).error;return xa.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vb({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function fx(s,{refreshToken:e}){const n=vb(s);return n.append("Authorization",mx(e)),n}async function Tb(s){const e=await s();return e.status>=500&&e.status<600?s():e}function dx(s){return Number(s.replace("s","000"))}function mx(s){return`${mb} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=gb(s),o=vb(s),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:mb,appId:s.appId,sdkVersion:db},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await Tb(()=>fetch(r,p));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:yb(y.authToken)}}else throw await _b("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=/^[cdef][\w-]{21}$/,Bm="";function _x(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=vx(s);return yx.test(n)?n:Bm}catch{return Bm}}function vx(s){return gx(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function Ab(s,e){const n=Zh(s);wb(n,e),Tx(n,e)}function wb(s,e){const n=bb.get(s);if(n)for(const r of n)r(e)}function Tx(s,e){const n=Ex();n&&n.postMessage({key:s,fid:e}),bx()}let ba=null;function Ex(){return!ba&&"BroadcastChannel"in self&&(ba=new BroadcastChannel("[Firebase] FID Change"),ba.onmessage=s=>{wb(s.data.key,s.data.fid)}),ba}function bx(){bb.size===0&&ba&&(ba.close(),ba=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firebase-installations-database",wx=1,Na="firebase-installations-store";let mm=null;function Lp(){return mm||(mm=NT(Ax,wx,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(Na)}}})),mm}async function Eh(s,e){const n=Zh(s),o=(await Lp()).transaction(Na,"readwrite"),u=o.objectStore(Na),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&Ab(s,e.fid),e}async function Sb(s){const e=Zh(s),r=(await Lp()).transaction(Na,"readwrite");await r.objectStore(Na).delete(e),await r.done}async function Wh(s,e){const n=Zh(s),o=(await Lp()).transaction(Na,"readwrite"),u=o.objectStore(Na),f=await u.get(n),p=e(f);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!f||f.fid!==p.fid)&&Ab(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(s){let e;const n=await Wh(s.appConfig,r=>{const o=Sx(r),u=Rx(s,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Bm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Sx(s){const e=s||{fid:_x(),registrationStatus:0};return Rb(e)}function Rx(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(xa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ix(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Cx(s)}:{installationEntry:e}}async function Ix(s,e){try{const n=await px(s,e);return Eh(s.appConfig,n)}catch(n){throw pb(n)&&n.customData.serverCode===409?await Sb(s.appConfig):await Eh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Cx(s){let e=await j0(s.appConfig);for(;e.registrationStatus===1;)await Eb(100),e=await j0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Pp(s);return r||n}return e}function j0(s){return Wh(s,e=>{if(!e)throw xa.create("installation-not-found");return Rb(e)})}function Rb(s){return xx(s)?{fid:s.fid,registrationStatus:0}:s}function xx(s){return s.registrationStatus===1&&s.registrationTime+fb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx({appConfig:s,heartbeatServiceProvider:e},n){const r=Dx(s,n),o=fx(s,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:db,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await Tb(()=>fetch(r,p));if(g.ok){const y=await g.json();return yb(y)}else throw await _b("Generate Auth Token",g)}function Dx(s,{fid:e}){return`${gb(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(s,e=!1){let n;const r=await Wh(s.appConfig,u=>{if(!Ib(u))throw xa.create("not-registered");const f=u.authToken;if(!e&&Mx(f))return u;if(f.requestStatus===1)return n=Ox(s,e),u;{if(!navigator.onLine)throw xa.create("app-offline");const p=Ux(u);return n=Vx(s,p),p}});return n?await n:r.authToken}async function Ox(s,e){let n=await B0(s.appConfig);for(;n.authToken.requestStatus===1;)await Eb(100),n=await B0(s.appConfig);const r=n.authToken;return r.requestStatus===0?zp(s,e):r}function B0(s){return Wh(s,e=>{if(!Ib(e))throw xa.create("not-registered");const n=e.authToken;return Lx(n)?{...e,authToken:{requestStatus:0}}:e})}async function Vx(s,e){try{const n=await Nx(s,e),r={...e,authToken:n};return await Eh(s.appConfig,r),n}catch(n){if(pb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Sb(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Eh(s.appConfig,r)}throw n}}function Ib(s){return s!==void 0&&s.registrationStatus===2}function Mx(s){return s.requestStatus===2&&!kx(s)}function kx(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+lx}function Ux(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function Lx(s){return s.requestStatus===1&&s.requestTime+fb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(s){const e=s,{installationEntry:n,registrationPromise:r}=await Pp(e);return r?r.catch(console.error):zp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(s,e=!1){const n=s;return await jx(n),(await zp(n,e)).token}async function jx(s){const{registrationPromise:e}=await Pp(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(s){if(!s||!s.options)throw pm("App Configuration");if(!s.name)throw pm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw pm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function pm(s){return xa.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="installations",qx="installations-internal",Hx=s=>{const e=s.getProvider("app").getImmediate(),n=Bx(e),r=Br(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Fx=s=>{const e=s.getProvider("app").getImmediate(),n=Br(e,Cb).getImmediate();return{getId:()=>Px(n),getToken:o=>zx(n,o)}};function Gx(){ki(new _i(Cb,Hx,"PUBLIC")),ki(new _i(qx,Fx,"PRIVATE"))}Gx();Pn(hb,Up);Pn(hb,Up,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="analytics",Qx="firebase_id",Kx="origin",Yx=60*1e3,Xx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Oh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ei=new Va("analytics","Analytics",$x);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(s){if(!s.startsWith(jp)){const e=ei.create("invalid-gtag-resource",{gtagURL:s});return Sn.warn(e.message),""}return s}function xb(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function Zx(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function Wx(s,e){const n=Zx("firebase-js-sdk-policy",{createScriptURL:Jx}),r=document.createElement("script"),o=`${jp}?l=${s}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function e2(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function t2(s,e,n,r,o,u){const f=r[o];try{if(f)await e[f];else{const g=(await xb(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(p){Sn.error(p)}s("config",o,u)}async function n2(s,e,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const p=await xb(n);for(const g of f){const y=p.find(w=>w.measurementId===g),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,o||{})}catch(u){Sn.error(u)}}function i2(s,e,n,r){async function o(u,...f){try{if(u==="event"){const[p,g]=f;await n2(s,e,n,p,g)}else if(u==="config"){const[p,g]=f;await t2(s,e,n,r,p,g)}else if(u==="consent"){const[p,g]=f;s("consent",p,g)}else if(u==="get"){const[p,g,y]=f;s("get",p,g,y)}else if(u==="set"){const[p]=f;s("set",p)}else s(u,...f)}catch(p){Sn.error(p)}}return o}function s2(s,e,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=i2(u,s,e,n),{gtagCore:u,wrappedGtag:window[o]}}function r2(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jp)&&n.src.includes(s))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=30,o2=1e3;class l2{constructor(e={},n=o2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Nb=new l2;function u2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function c2(s){var f;const{appId:e,apiKey:n}=s,r={method:"GET",headers:u2(n)},o=Xx.replace("{app-id}",e),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let p="";try{const g=await u.json();(f=g.error)!=null&&f.message&&(p=g.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()}async function h2(s,e=Nb,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw ei.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ei.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new m2;return setTimeout(async()=>{p.abort()},Yx),Db({appId:r,apiKey:o,measurementId:u},f,p,e)}async function Db(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=Nb){var p;const{appId:u,measurementId:f}=s;try{await f2(r,e)}catch(g){if(f)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:u,measurementId:f};throw g}try{const g=await c2(s);return o.deleteThrottleMetadata(u),g}catch(g){const y=g;if(!d2(y)){if(o.deleteThrottleMetadata(u),f)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw g}const E=Number((p=y==null?void 0:y.customData)==null?void 0:p.httpStatus)===503?Nv(n,o.intervalMillis,a2):Nv(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(u,w),Sn.debug(`Calling attemptFetch again in ${E} millis`),Db(s,w,r,o)}}function f2(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d2(s){if(!(s instanceof vi)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class m2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function p2(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await e,f={...r,send_to:u};s("event",n,f)}}async function g2(s,e,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(){if(RT())try{await IT()}catch(s){return Sn.warn(ei.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return Sn.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _2(s,e,n,r,o,u,f){const p=h2(s);p.then(R=>{n[R.measurementId]=R.appId,s.options.measurementId&&R.measurementId!==s.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Sn.error(R)),e.push(p);const g=y2().then(R=>{if(R)return r.getId()}),[y,E]=await Promise.all([p,g]);r2(u)||Wx(u,y.measurementId),o("js",new Date);const w=(f==null?void 0:f.config)??{};return w[Kx]="firebase",w.update=!0,E!=null&&(w[Qx]=E),o("config",y.measurementId,w),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.app=e}_delete(){return delete Vo[this.app.options.appId],Promise.resolve()}}let Vo={},q0=[];const H0={};let gm="dataLayer",T2="gtag",F0,Bp,G0=!1;function E2(){const s=[];if(ST()&&s.push("This is a browser extension environment."),_S()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=ei.create("invalid-analytics-context",{errorInfo:e});Sn.warn(n.message)}}function b2(s,e,n){E2();const r=s.options.appId;if(!r)throw ei.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ei.create("no-api-key");if(Vo[r]!=null)throw ei.create("already-exists",{id:r});if(!G0){e2(gm);const{wrappedGtag:u,gtagCore:f}=s2(Vo,q0,H0,gm,T2);Bp=u,F0=f,G0=!0}return Vo[r]=_2(s,q0,H0,e,F0,gm,n),new v2(s)}function A2(s=Vh()){s=Yt(s);const e=Br(s,bh);return e.isInitialized()?e.getImmediate():w2(s)}function w2(s,e={}){const n=Br(s,bh);if(n.isInitialized()){const o=n.getImmediate();if(Mr(e,n.getOptions()))return o;throw ei.create("already-initialized")}return n.initialize({options:e})}function S2(s,e,n){s=Yt(s),g2(Bp,Vo[s.app.options.appId],e,n).catch(r=>Sn.error(r))}function R2(s,e,n,r){s=Yt(s),p2(Bp,Vo[s.app.options.appId],e,n,r).catch(o=>Sn.error(o))}const Q0="@firebase/analytics",K0="0.10.19";function I2(){ki(new _i(bh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return b2(r,o,n)},"PUBLIC")),ki(new _i("analytics-internal",s,"PRIVATE")),Pn(Q0,K0),Pn(Q0,K0,"esm2020");function s(e){try{const n=e.getProvider(bh).getImmediate();return{logEvent:(r,o,u)=>R2(n,r,o,u),setUserProperties:(r,o)=>S2(n,r,o)}}catch(n){throw ei.create("interop-component-reg-failed",{reason:n})}}}I2();function Ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C2=Ob,Vb=new Va("auth","Firebase",Ob());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Oh("@firebase/auth");function x2(s,...e){Ah.logLevel<=He.WARN&&Ah.warn(`Auth (${Ma}): ${s}`,...e)}function nh(s,...e){Ah.logLevel<=He.ERROR&&Ah.error(`Auth (${Ma}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(s,...e){throw qp(s,...e)}function ns(s,...e){return qp(s,...e)}function Mb(s,e,n){const r={...C2(),[e]:n};return new Va("auth","Firebase",r).create(e,{appName:s.name})}function Sa(s){return Mb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Vb.create(s,...e)}function we(s,e,...n){if(!s)throw qp(e,...n)}function Os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw nh(e),new Error(e)}function js(s,e){s||Os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function N2(){return Y0()==="http:"||Y0()==="https:"}function Y0(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N2()||ST()||"connection"in navigator)?navigator.onLine:!0}function O2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=fS()||pS()}get(){return D2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(s,e){js(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k2=new Tu(3e4,6e4);function Fp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Xo(s,e,n,r,o={}){return Ub(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=du({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return mS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Oa(s.emulatorConfig.host)&&(y.credentials="include"),kb.fetch()(await Lb(s,s.config.apiHost,n,p),y)})}async function Ub(s,e,n){s._canInitEmulator=!1;const r={...V2,...e};try{const o=new L2(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(s,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Mb(s,E,y);zs(s,E)}}catch(o){if(o instanceof vi)throw o;zs(s,"network-request-failed",{message:String(o)})}}async function U2(s,e,n,r,o={}){const u=await Xo(s,e,n,r,o);return"mfaPendingCredential"in u&&zs(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Lb(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Hp(s.config,o):`${s.config.apiScheme}://${o}`;return M2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class L2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),k2.get())})}}function Yc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ns(s,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(s,e){return Xo(s,"POST","/v1/accounts:delete",e)}async function wh(s,e){return Xo(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z2(s,e=!1){const n=Yt(s),r=await n.getIdToken(e),o=Gp(r);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:iu(ym(o.auth_time)),issuedAtTime:iu(ym(o.iat)),expirationTime:iu(ym(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(s){return Number(s)*1e3}function Gp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=vT(n);return o?JSON.parse(o):(nh("Failed to decode base64 JWT payload"),null)}catch(o){return nh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function X0(s){const e=Gp(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vi&&j2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function j2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(s){var w;const e=s.auth,n=await s.getIdToken(),r=await fu(s,wh(e,{idToken:n}));we(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=(w=o.providerUserInfo)!=null&&w.length?Pb(o.providerUserInfo):[],f=H2(s.providerData,u),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!(f!=null&&f.length),y=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function q2(s){const e=Yt(s);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H2(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Pb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(s,e){const n=await Ub(s,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await Lb(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Oa(s.emulatorConfig.host)&&(g.credentials="include"),kb.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G2(s,e){return Xo(s,"POST","/v2/accounts:revokeToken",Fp(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=X0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await F2(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new Mo;return r&&(we(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new B2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z2(this,e)}reload(){return q2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(Sa(this.auth));const e=await this.getIdToken();return await fu(this,P2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:R,isAnonymous:F,providerData:Z,stsTokenManager:te}=n;we(w&&te,e,"internal-error");const W=Mo.fromJSON(this.name,te);we(typeof w=="string",e,"internal-error"),Sr(r,e.name),Sr(o,e.name),we(typeof R=="boolean",e,"internal-error"),we(typeof F=="boolean",e,"internal-error"),Sr(u,e.name),Sr(f,e.name),Sr(p,e.name),Sr(g,e.name),Sr(y,e.name),Sr(E,e.name);const pe=new Oi({uid:w,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:F,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(pe.providerData=Z.map(Ee=>({...Ee}))),g&&(pe._redirectEventId=g),pe}static async _fromIdTokenResponse(e,n,r=!1){const o=new Mo;o.updateFromServerResponse(n);const u=new Oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Pb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Mo;p.updateFromIdToken(r);const g=new Oi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function Vs(s){js(s instanceof Function,"Expected a class definition");let e=$0.get(s);return e?(js(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,$0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zb.type="NONE";const J0=zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(s,e,n){return`firebase:${s}:${e}:${n}`}class ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ko(Vs(J0),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Vs(J0);const f=ih(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const R=await wh(e,{idToken:E}).catch(()=>{});if(!R)break;w=await Oi._fromGetAccountInfoResponse(e,R,E)}else w=Oi._fromJSON(e,E);y!==u&&(p=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ko(u,e,r):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ko(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gb(e))return"Blackberry";if(Qb(e))return"Webos";if(Bb(e))return"Safari";if((e.includes("chrome/")||qb(e))&&!e.includes("edge/"))return"Chrome";if(Fb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jb(s=Tn()){return/firefox\//i.test(s)}function Bb(s=Tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qb(s=Tn()){return/crios\//i.test(s)}function Hb(s=Tn()){return/iemobile/i.test(s)}function Fb(s=Tn()){return/android/i.test(s)}function Gb(s=Tn()){return/blackberry/i.test(s)}function Qb(s=Tn()){return/webos/i.test(s)}function Qp(s=Tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Q2(s=Tn()){var e;return Qp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function K2(){return gS()&&document.documentMode===10}function Kb(s=Tn()){return Qp(s)||Fb(s)||Qb(s)||Gb(s)||/windows phone/i.test(s)||Hb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(s,e=[]){let n;switch(s){case"Browser":n=Z0(Tn());break;case"Worker":n=`${Z0(Tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(s,e={}){return Xo(s,"GET","/v2/passwordPolicy",Fp(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=6;class J2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W0(this),this.idTokenSubscription=new W0(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Di(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Di(this.app))return Promise.reject(Sa(this));const n=e?Yt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(Sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Di(this.app)?Promise.reject(Sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X2(this),n=new J2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Va("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vs(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&x2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Kp(s){return Yt(s)}class W0{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W2(s){Yp=s}function eN(s){return Yp.loadJS(s)}function tN(){return Yp.gapiScript}function nN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(s,e){const n=Br(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Mr(u,e??{}))return o;zs(o,"already-initialized")}return n.initialize({options:e})}function sN(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vs);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rN(s,e,n){const r=Kp(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=Xb(e),{host:f,port:p}=aN(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Mr(y,r.config.emulator)&&Mr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Oa(f)?(Km(`${u}//${f}${g}`),Ym("Auth",!0)):oN()}function Xb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function aN(s){const e=Xb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:eT(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:eT(f)}}}function eT(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function oN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,n){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(s,e){return U2(s,"POST","/v1/accounts:signInWithIdp",Fp(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="http://localhost";class Da extends $b{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Da(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:lN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Jb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Eu{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Eu{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Eu{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Oi._fromIdTokenResponse(e,r,o),f=tT(r);return new Ho({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=tT(r);return new Ho({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function tT(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends vi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Rh(e,n,r,o)}}function Zb(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(s,u,e,r):u})}async function uN(s,e,n=!1){const r=await fu(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ho._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(s,e,n=!1){const{auth:r}=s;if(Di(r.app))return Promise.reject(Sa(r));const o="reauthenticate";try{const u=await fu(s,Zb(r,o,e,s),n);we(u.idToken,r,"internal-error");const f=Gp(u.idToken);we(f,r,"internal-error");const{sub:p}=f;return we(s.uid===p,r,"user-mismatch"),Ho._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zs(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(s,e,n=!1){if(Di(s.app))return Promise.reject(Sa(s));const r="signIn",o=await Zb(s,r,e),u=await Ho._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function fN(s,e,n,r){return Yt(s).onIdTokenChanged(e,n,r)}function dN(s,e,n){return Yt(s).beforeAuthStateChanged(e,n)}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1e3,pN=10;class eA extends Wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);K2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eA.type="LOCAL";const gN=eA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tA.type="SESSION";const nA=tA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await yN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Xp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function vN(s){is().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function TN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EN(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function bN(){return iA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebaseLocalStorageDb",AN=1,Ch="firebaseLocalStorage",rA="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(s,e){return s.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function wN(){const s=indexedDB.deleteDatabase(sA);return new bu(s).toPromise()}function Fm(){const s=indexedDB.open(sA,AN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Ch,{keyPath:rA})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),await wN(),e(await Fm()))})})}async function nT(s,e,n){const r=tf(s,!0).put({[rA]:e,value:n});return new bu(r).toPromise()}async function SN(s,e){const n=tf(s,!1).get(e),r=await new bu(n).toPromise();return r===void 0?null:r.value}function iT(s,e){const n=tf(s,!0).delete(e);return new bu(n).toPromise()}const RN=800,IN=3;class aA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(bN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await TN(),!this.activeServiceWorker)return;this.sender=new _N(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await nT(e,Ih,"1"),await iT(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aA.type="LOCAL";const CN=aA;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(s,e){return e?Vs(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends $b{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NN(s){return hN(s.auth,new $p(s),s.bypassAuthState)}function DN(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),cN(n,new $p(s),s.bypassAuthState)}async function ON(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),uN(n,new $p(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NN;case"linkViaPopup":case"linkViaRedirect":return ON;case"reauthViaPopup":case"reauthViaRedirect":return DN;default:zs(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Tu(2e3,1e4);class No extends oA{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VN.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="pendingRedirect",sh=new Map;class kN extends oA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await UN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(s,e){const n=zN(e),r=PN(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function LN(s,e){sh.set(s._key(),e)}function PN(s){return Vs(s._redirectPersistence)}function zN(s){return ih(MN,s.config.apiKey,s.name)}async function jN(s,e,n=!1){if(Di(s.app))return Promise.reject(Sa(s));const r=Kp(s),o=xN(r,e),f=await new kN(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=600*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lA(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ns(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BN&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}saveEventToCache(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}}function sT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function lA({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(s,e={}){return Xo(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QN=/^https?/;async function KN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await FN(s);for(const n of e)try{if(YN(n))return}catch{}zs(s,"unauthorized-domain")}function YN(s){const e=qm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!QN.test(n))return!1;if(GN.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Tu(3e4,6e4);function rT(){const s=is().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function $N(s){return new Promise((e,n)=>{var o,u,f;function r(){rT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rT(),n(ns(s,"network-request-failed"))},timeout:XN.get()})}if((u=(o=is().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=is().gapi)!=null&&f.load)r();else{const p=nN("iframefcb");return is()[p]=()=>{gapi.load?r():n(ns(s,"network-request-failed"))},eN(`${tN()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw rh=null,e})}let rh=null;function JN(s){return rh=rh||$N(s),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Tu(5e3,15e3),WN="__/auth/iframe",eD="emulator/auth/iframe",tD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iD(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Hp(e,eD):`https://${s.config.authDomain}/${WN}`,r={apiKey:e.apiKey,appName:s.name,v:Ma},o=nD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${du(r).slice(1)}`}async function sD(s){const e=await JN(s),n=is().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:iD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ns(s,"network-request-failed"),p=is().setTimeout(()=>{u(f)},ZN.get());function g(){is().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aD=500,oD=600,lD="_blank",uD="http://localhost";class aT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cD(s,e,n,r=aD,o=oD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...rD,width:r.toString(),height:o.toString(),top:u,left:f},y=Tn().toLowerCase();n&&(p=qb(y)?lD:n),jb(y)&&(e=e||uD,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[F,Z])=>`${R}${F}=${Z},`,"");if(Q2(y)&&p!=="_self")return hD(e||"",p),new aT(null);const w=window.open(e||"",p,E);we(w,s,"popup-blocked");try{w.focus()}catch{}return new aT(w)}function hD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="__/auth/handler",dD="emulator/auth/handler",mD=encodeURIComponent("fac");async function oT(s,e,n,r,o,u){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ma,eventId:o};if(e instanceof Jb){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",bS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Eu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await s._getAppCheckToken(),y=g?`#${mD}=${encodeURIComponent(g)}`:"";return`${pD(s)}?${du(p).slice(1)}${y}`}function pD({config:s}){return s.emulator?Hp(s,dD):`https://${s.authDomain}/${fD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class gD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nA,this._completeRedirectFn=jN,this._overrideRedirectResult=LN}async _openPopup(e,n,r,o){var f;js((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await oT(e,n,r,qm(),o);return cD(e,u,Xp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await oT(e,n,r,qm(),o);return vN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(js(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sD(e),r=new qN(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[_m];u!==void 0&&n(!!u),zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kb()||Bb()||Qp()}}const yD=gD;var lT="@firebase/auth",uT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TD(s){ki(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yb(s)},y=new Z2(r,o,u,g);return sN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ki(new _i("auth-internal",e=>{const n=Kp(e.getProvider("auth").getImmediate());return(r=>new _D(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(lT,uT,vD(s)),Pn(lT,uT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=300,bD=AT("authIdTokenMaxAge")||ED;let cT=null;const AD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bD)return;const o=n==null?void 0:n.token;cT!==o&&(cT=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wD(s=Vh()){const e=Br(s,"auth");if(e.isInitialized())return e.getImmediate();const n=iN(s,{popupRedirectResolver:yD,persistence:[CN,gN,nA]}),r=AT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=AD(u.toString());dN(n,f,()=>f(n.currentUser)),fN(n,p=>f(p))}}const o=TT("auth");return o&&rN(n,`http://${o}`),n}function SD(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}W2({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=ns("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",SD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebasestorage.googleapis.com",RD="storageBucket",ID=120*1e3,CD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends vi{constructor(e,n,r=0){super(vm(e),`Firebase Storage: ${n} (${vm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rs;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rs||(rs={}));function vm(s){return"storage/"+s}function xD(){const s="An unknown error occurred, please check the error payload for server response.";return new as(rs.UNKNOWN,s)}function ND(){return new as(rs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DD(){return new as(rs.CANCELED,"User canceled the upload/download.")}function OD(s){return new as(rs.INVALID_URL,"Invalid URL '"+s+"'.")}function VD(s){return new as(rs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function hT(s){return new as(rs.INVALID_ARGUMENT,s)}function cA(){return new as(rs.APP_DELETED,"The Firebase app was deleted.")}function MD(s){return new as(rs.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vi.makeFromUrl(e,n)}catch{return new Vi(e,"")}if(r.path==="")return r;throw VD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(Re){Re.path.charAt(Re.path.length-1)==="/"&&(Re.path_=Re.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(Re){Re.path_=decodeURIComponent(Re.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",F=new RegExp(`^https?://${w}/${E}/b/${o}/o${R}`,"i"),Z={bucket:1,path:3},te=n===uA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,W="([^?#]*)",pe=new RegExp(`^https?://${te}/${o}/${W}`,"i"),_e=[{regex:p,indices:g,postModify:u},{regex:F,indices:Z,postModify:y},{regex:pe,indices:{bucket:1,path:2},postModify:y}];for(let Re=0;Re<_e.length;Re++){const Ue=_e[Re],Ie=Ue.regex.exec(e);if(Ie){const x=Ie[Ue.indices.bucket];let S=Ie[Ue.indices.path];S||(S=""),r=new Vi(x,S),Ue.postModify(r);break}}if(r==null)throw OD(e);return r}}class kD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(s,e,n){let r=1,o=null,u=null,f=!1,p=0;function g(){return p===2}let y=!1;function E(...W){y||(y=!0,e.apply(null,W))}function w(W){o=setTimeout(()=>{o=null,s(F,g())},W)}function R(){u&&clearTimeout(u)}function F(W,...pe){if(y){R();return}if(W){R(),E.call(null,W,...pe);return}if(g()||f){R(),E.call(null,W,...pe);return}r<64&&(r*=2);let _e;p===1?(p=2,_e=0):_e=(r+Math.random())*1e3,w(_e)}let Z=!1;function te(W){Z||(Z=!0,R(),!y&&(o!==null?(W||(p=2),clearTimeout(o),w(0)):W||(p=1)))}return w(0),u=setTimeout(()=>{f=!0,te(!0)},n),te}function LD(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(s){return s!==void 0}function fT(s,e,n,r){if(r<e)throw hT(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw hT(`Invalid value for '${s}'. Expected ${n} or less.`)}function zD(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var xh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(xh||(xh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,o,u,f,p,g,y,E,w,R=!0,F=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=w,this.retry=R,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Z,te)=>{this.resolve_=Z,this.reject_=te,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Xc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===xh.NO_ERROR,g=u.getStatus();if(!p||jD(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===xh.ABORT;r(!1,new Xc(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new Xc(y,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());PD(g)?u(g):u()}catch(g){f(g)}else if(p!==null){const g=xD();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?cA():DD();f(g)}else{const g=ND();f(g)}};this.canceled_?n(!1,new Xc(!1,null,!0)):this.backoffId_=UD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qD(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function HD(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FD(s,e){e&&(s["X-Firebase-GMPID"]=e)}function GD(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function QD(s,e,n,r,o,u,f=!0,p=!1){const g=zD(s.urlParams),y=s.url+g,E=Object.assign({},s.headers);return FD(E,e),qD(E,n),HD(E,u),GD(E,r),new BD(y,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function YD(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this._service=e,n instanceof Vi?this._location=n:this._location=Vi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nh(e,n)}get root(){const e=new Vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YD(this._location.path)}get storage(){return this._service}get parent(){const e=KD(this._location.path);if(e===null)return null;const n=new Vi(this._location.bucket,e);return new Nh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MD(e)}}function dT(s,e){const n=e==null?void 0:e[RD];return n==null?null:Vi.makeFromBucketSpec(n,s)}function XD(s,e,n,r={}){s.host=`${e}:${n}`;const o=Oa(e);o&&(Km(`https://${s.host}/b`),Ym("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:wT(u,s.app.options.projectId))}class $D{constructor(e,n,r,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=uA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ID,this._maxUploadRetryTime=CD,this._requests=new Set,o!=null?this._bucket=Vi.makeFromBucketSpec(o,this._host):this._bucket=dT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vi.makeFromBucketSpec(this._url,e):this._bucket=dT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nh(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new kD(cA());{const f=QD(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const mT="@firebase/storage",pT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="storage";function JD(s=Vh(),e){s=Yt(s);const r=Br(s,hA).getImmediate({identifier:e}),o=ET("storage");return o&&ZD(r,...o),r}function ZD(s,e,n,r={}){XD(s,e,n,r)}function WD(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new $D(n,r,o,e,Ma)}function eO(){ki(new _i(hA,WD,"PUBLIC").setMultipleInstances(!0)),Pn(mT,pT,""),Pn(mT,pT,"esm2020")}eO();const tO={apiKey:"AIzaSyDbZAPtQioiXZzkiiIRrkrBkEPF440NMaE",authDomain:"qaxi-93d6d.firebaseapp.com",projectId:"qaxi-93d6d",storageBucket:"qaxi-93d6d.firebasestorage.app",messagingSenderId:"137240859996",appId:"1:137240859996:web:73e14d28c77233be965d99",measurementId:"G-C74Z1DWV54"},nf=DT(tO),fn=FC(nf);A2(nf);wD(nf);new Ds;JD(nf);const nO={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},iO=({muted:s,videoEnabled:e,isScreenSharing:n,chatOpen:r,participantsOpen:o,pollOpen:u,settingsOpen:f=!1,isRecording:p,waitingCount:g=0,isHost:y=!1,onToggleMute:E,onToggleVideo:w,onToggleScreenShare:R,onToggleChat:F,onToggleParticipants:Z,onTogglePoll:te,onToggleSettings:W,onToggleRecording:pe,onSendReaction:Ee,onHangup:_e})=>{const[Re,Ue]=Qm.useState(!1);return A.jsxs("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 flex items-center gap-4 bg-zinc-900/80 backdrop-blur-md px-6 py-4 rounded-2xl border border-zinc-700 shadow-2xl z-50 max-w-[95vw] overflow-visible",children:[A.jsx("button",{onClick:E,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${s?"bg-red-500/20 text-red-500 border border-red-500":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:s?"Unmute":"Mute",children:A.jsx("i",{className:`fa-solid ${s?"fa-microphone-slash":"fa-microphone"}`})}),A.jsx("button",{onClick:w,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${e?"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white":"bg-red-500/20 text-red-500 border border-red-500"}`,title:e?"Stop Video":"Start Video",children:A.jsx("i",{className:`fa-solid ${e?"fa-video":"fa-video-slash"}`})}),A.jsx("button",{onClick:R,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${n?"bg-blue-500 text-white shadow-lg shadow-blue-500/20":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:n?"Stop Sharing":"Share Screen",children:A.jsx("i",{className:"fa-solid fa-desktop"})}),A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>Ue(!Re),className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${Re?"bg-pink-500 text-white shadow-lg shadow-pink-500/20":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:"Reactions",children:A.jsx("i",{className:"fa-solid fa-face-smile"})}),Re&&A.jsx("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 bg-zinc-800 border border-zinc-700 rounded-xl p-2 flex gap-2 shadow-2xl",children:["","","","",""].map(Ie=>A.jsx("button",{onClick:()=>{Ee(Ie),Ue(!1)},className:"hover:scale-125 transition-transform text-2xl",children:Ie},Ie))})]}),A.jsx("div",{className:"w-px h-8 bg-zinc-700 mx-2 hidden sm:block"}),A.jsx("button",{onClick:F,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${r?"bg-gold text-black shadow-lg shadow-gold/20":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:r?"Close Chat":"Open Chat",children:A.jsx("i",{className:`fa-solid ${r?"fa-comment-slash":"fa-comment"}`})}),A.jsxs("button",{onClick:Z,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 relative ${o?"bg-gold text-black shadow-lg shadow-gold/20":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:o?"Close Participants":"Open Participants",children:[A.jsx("i",{className:"fa-solid fa-users"}),g>0&&A.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-zinc-900 animate-bounce",children:g})]}),y&&W&&A.jsx("button",{onClick:W,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${f?"bg-gold text-black shadow-lg shadow-gold/20 animate-[spin_3s_linear_infinite]":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white hover:rotate-90"}`,title:"Host Settings",children:A.jsx("i",{className:"fa-solid fa-gear"})}),A.jsx("div",{className:"w-px h-8 bg-zinc-700 mx-2 hidden sm:block"}),A.jsx("button",{onClick:_e,className:"w-16 h-12 rounded-xl flex-shrink-0 bg-red-600 text-white flex items-center justify-center hover:bg-red-700 transition-all duration-300 shadow-lg shadow-red-900/20",title:"Hang Up",children:A.jsx("i",{className:"fa-solid fa-phone-slash"})})]})},sO=({roomState:s,onLeave:e})=>{const[n,r]=he.useState(null),[o,u]=he.useState(null),[f,p]=he.useState(!1),[g,y]=he.useState(!0),[E,w]=he.useState(!1),[R,F]=he.useState("speaker"),[Z,te]=he.useState(s.isCreator?"admitted":"waiting"),[W,pe]=he.useState(0),[Ee,_e]=he.useState(!1),[Re,Ue]=he.useState(!1),[Ie,x]=he.useState({}),[S,N]=he.useState(()=>({x:typeof window<"u"?window.innerWidth-260:20,y:typeof window<"u"?window.innerHeight-200:20,width:240,height:135})),[M,D]=he.useState(!1),[U,I]=he.useState({x:0,y:0}),[at,Rt]=he.useState(!1),[Q,re]=he.useState({x:0,w:0}),[de,Qe]=he.useState(!1),[Le,V]=he.useState(!1),[H,ae]=he.useState({muted:!1,videoEnabled:!0,isScreenSharing:!1,status:"waiting"}),[se,Ae]=he.useState(null),[ve,Se]=he.useState("Initializing..."),[wt,ht]=he.useState(!1),[os,Ti]=he.useState(0),[Et,jn]=he.useState("none"),[ti,Fr]=he.useState([]),[Bn,qs]=he.useState(""),Ot=he.useRef(Math.random().toString(36).substring(7)).current,pt=he.useRef(`https://api.dicebear.com/9.x/avataaars/svg?seed=${Ot}`).current,It=he.useRef(null),sn=he.useRef(null),ls=he.useRef(null),Xe=he.useRef(null),nt=he.useRef(null),Rn=he.useRef(null),Li=he.useRef(null),[Pi,Ei]=he.useState(null),[$o,Gr]=he.useState([]),[La,Pa]=he.useState("unknown"),[Zt,Vt]=he.useState(!1),rn=he.useRef(null),gt=he.useRef([]);he.useRef(null);const[In,us]=he.useState(null),[Hs,qn]=he.useState(""),[En,yt]=he.useState(["",""]),ke=s.roomId,ni=G=>{const ee=Math.floor(G/3600),le=Math.floor(G%3600/60),ie=G%60,me=Ce=>Ce.toString().padStart(2,"0");return ee>0?`${me(ee)}:${me(le)}:${me(ie)}`:`${me(le)}:${me(ie)}`};he.useEffect(()=>{let G;return ve==="Connected"&&(G=setInterval(()=>{Ti(ee=>ee+1)},1e3)),()=>{G&&clearInterval(G)}},[ve]),he.useEffect(()=>{let G;return ve==="Connected"&&(G=setInterval(async()=>{if(Xe.current)try{const ee=await Xe.current.getStats();let le=!1;ee.forEach(ie=>{ie.type==="inbound-rtp"&&ie.kind==="video"&&(ie.packetsLost&&ie.packetsLost>50&&(le=!0),ie.jitter&&ie.jitter>.05&&(le=!0))}),Pa(le?"poor":"good")}catch{}},5e3)),()=>clearInterval(G)},[ve]),he.useEffect(()=>{(async()=>{try{const ee=pi(fn,"calls",ke,"participants",Ot),le=s.isCreator?"admitted":"waiting";await dm(ee,{muted:f,videoEnabled:g,isScreenSharing:E,avatarUrl:pt,lastUpdated:Date.now(),status:le},{merge:!0})}catch(ee){console.error("Error syncing state:",ee)}})()},[ke,Ot,f,g,E,pt,s.isCreator]),he.useEffect(()=>{const G=br(fn,"calls",ke,"participants"),ee=wr(G,le=>{let ie=0;le.forEach(me=>{const Ce=me.data();me.id!==Ot&&(Ce.status==="waiting"&&ie++,Ae(me.id),ae({muted:Ce.muted||!1,videoEnabled:Ce.videoEnabled??!0,isScreenSharing:Ce.isScreenSharing||!1,avatarUrl:Ce.avatarUrl,status:Ce.status||"waiting"}))}),pe(ie)});return()=>ee()},[ke,Ot,s.isCreator]),he.useEffect(()=>{s.isCreator&&(async()=>{try{const ee=pi(fn,"calls",ke);await Ar(ee,{hostReviewing:Et==="participants"})}catch{}})()},[Et,s.isCreator,ke]),he.useEffect(()=>{if(Z==="waiting"){const G=pi(fn,"calls",ke),ee=wr(G,le=>{var ie;le.exists()&&_e(((ie=le.data())==null?void 0:ie.hostReviewing)||!1)});return()=>ee()}},[Z,ke]),he.useEffect(()=>{const G=pi(fn,"calls",ke,"participants",Ot),ee=wr(G,async le=>{const ie=le.data();if(ie){if(ie.status&&ie.status!==Z&&(te(ie.status),ie.status==="denied")){alert("The host has denied your entry."),e();return}if(ie.hostAction){ie.hostAction==="MUTE_AUDIO"?(nt.current&&nt.current.getAudioTracks().forEach(me=>me.enabled=!1),p(!0)):ie.hostAction==="UNMUTE_AUDIO"?(nt.current&&nt.current.getAudioTracks().forEach(me=>me.enabled=!0),p(!1)):ie.hostAction==="STOP_VIDEO"&&(nt.current&&nt.current.getVideoTracks().forEach(me=>me.enabled=!1),y(!1));try{await Ar(G,{hostAction:null})}catch(me){console.error("Error clearing host action",me)}}}});return()=>ee()},[ke,Ot,Z,e]),he.useEffect(()=>{const G=le=>{if(M&&N(ie=>({...ie,x:le.clientX-U.x,y:le.clientY-U.y})),at){const ie=le.clientX-Q.x,me=Math.max(160,Math.min(600,Q.w+ie));N(Ce=>({...Ce,width:me,height:me*.5625}))}},ee=()=>{D(!1),Rt(!1)};return(M||at)&&(window.addEventListener("mousemove",G),window.addEventListener("mouseup",ee)),()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",ee)}},[M,at,U,Q]);const Hn=G=>{G.target.closest(".resize-handle")||(D(!0),I({x:G.clientX-S.x,y:G.clientY-S.y}))},Jo=G=>{G.stopPropagation(),Rt(!0),re({x:G.clientX,w:S.width})};he.useEffect(()=>{if(Z==="waiting"||Z==="denied")return;let G=null,ee=null;return(async()=>{try{Se("Accessing media...");const ie=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});r(ie),nt.current=ie,ie.getAudioTracks().forEach(Ze=>Ze.enabled=!f),ie.getVideoTracks().forEach(Ze=>Ze.enabled=g),sn.current&&(sn.current.srcObject=ie),Se("Connecting to server..."),Xe.current=new RTCPeerConnection(nO),ie.getTracks().forEach(Ze=>{var je;(je=Xe.current)==null||je.addTrack(Ze,ie)}),Xe.current.ontrack=Ze=>{Ze.streams[0].getTracks().forEach(je=>{u(Ze.streams[0]),ls.current&&(ls.current.srcObject=Ze.streams[0])})};const me=pi(fn,"calls",ke),Ce=br(me,"offerCandidates"),dt=br(me,"answerCandidates");if(s.isCreator){Se("Creating room..."),Xe.current.onicecandidate=Xt=>{Xt.candidate&&Kc(Ce,Xt.candidate.toJSON())};const Ze=await Xe.current.createOffer();await Xe.current.setLocalDescription(Ze);const je={sdp:Ze.sdp,type:Ze.type};await dm(me,{offer:je},{merge:!0}),G=wr(me,Xt=>{var Wt,zt;const an=Xt.data();if(!((Wt=Xe.current)!=null&&Wt.currentRemoteDescription)&&(an!=null&&an.answer)){const ji=new RTCSessionDescription(an.answer);(zt=Xe.current)==null||zt.setRemoteDescription(ji),Se("Connected")}}),ee=wr(dt,Xt=>{Xt.docChanges().forEach(an=>{var Wt;if(an.type==="added"){const zt=new RTCIceCandidate(an.doc.data());(Wt=Xe.current)==null||Wt.addIceCandidate(zt)}})})}else{Se("Joining room..."),Xe.current.onicecandidate=zt=>{zt.candidate&&Kc(dt,zt.candidate.toJSON())};const je=(await rx(me)).data();if(!je){Se("Room not found"),alert("Room does not exist"),e();return}const Xt=je.offer;await Xe.current.setRemoteDescription(new RTCSessionDescription(Xt));const an=await Xe.current.createAnswer();await Xe.current.setLocalDescription(an);const Wt={type:an.type,sdp:an.sdp};await Ar(me,{answer:Wt}),ee=wr(Ce,zt=>{zt.docChanges().forEach(ji=>{var Fs;if(ji.type==="added"){const Xr=new RTCIceCandidate(ji.doc.data());(Fs=Xe.current)==null||Fs.addIceCandidate(Xr)}})}),Se("Connected")}Xe.current.onconnectionstatechange=()=>{var Ze,je,Xt;((Ze=Xe.current)==null?void 0:Ze.connectionState)==="connected"?Se("Connected"):((je=Xe.current)==null?void 0:je.connectionState)==="disconnected"?(Se("Remote disconnected"),Ti(0)):((Xt=Xe.current)==null?void 0:Xt.connectionState)==="failed"&&(Se("Connection failed"),Ti(0))}}catch(ie){console.error("Error starting call:",ie),Se("Error: "+ie)}})(),()=>{G&&G(),ee&&ee(),Rn.current&&Rn.current.stop(),nt.current&&nt.current.getTracks().forEach(ie=>ie.stop()),Xe.current&&Xe.current.close(),r(null),u(null),Ti(0)}},[ke,s.isCreator,Z]),he.useEffect(()=>{sn.current&&nt.current&&sn.current.srcObject!==nt.current&&(sn.current.srcObject=nt.current),Li.current&&Pi&&Li.current.srcObject!==Pi&&(Li.current.srcObject=Pi)}),he.useEffect(()=>{const G=pi(fn,"calls",ke,"poll","current"),ee=wr(G,le=>{le.exists()?us(le.data()):us(null)});return()=>ee()},[ke]),he.useEffect(()=>{const G=br(fn,"calls",ke,"messages"),ee=tx(G,nx("timestamp","asc"),ix(100)),le=wr(ee,ie=>{const me=[];ie.docChanges().forEach(Ce=>{const dt=Ce.doc.data();if(dt.type==="reaction"&&Ce.type==="added"){const Ze=Math.random().toString();Gr(je=>[...je,{id:Ze,emoji:dt.text,x:Math.random()*80+10}]),setTimeout(()=>{Gr(je=>je.filter(Xt=>Xt.id!==Ze))},3e3)}}),ie.forEach(Ce=>{const dt=Ce.data();dt.type!=="reaction"&&me.push({id:Ce.id,...dt})}),Fr(me),setTimeout(()=>{var Ce;(Ce=It.current)==null||Ce.scrollIntoView({behavior:"smooth"})},100)});return()=>le()},[ke]),he.useEffect(()=>{ls.current&&(ls.current.muted=de)},[de,o]);const za=async G=>{try{const ee=br(fn,"calls",ke,"messages");await Kc(ee,{text:G,type:"reaction",senderId:Ot,timestamp:Date.now()})}catch(ee){console.error("Error sending reaction:",ee)}},ii=async()=>{if(!(!s.isCreator||!Hs.trim()||En.some(G=>!G.trim())))try{const G=pi(fn,"calls",ke,"poll","current");await dm(G,{question:Hs,options:En,votes:{}}),qn(""),yt(["",""])}catch(G){console.error("Error creating poll",G)}},cs=async G=>{if(In)try{const ee=pi(fn,"calls",ke,"poll","current"),le={...In.votes,[Ot]:G};await Ar(ee,{votes:le})}catch(ee){console.error("Error voting",ee)}},Zo=async()=>{if(s.isCreator)try{const G=pi(fn,"calls",ke,"poll","current");await ax(G)}catch(G){console.error("Error ending poll",G)}},zi=async()=>{if(Zt)rn.current&&rn.current.state!=="inactive"&&rn.current.stop();else try{const G=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});let ee={mimeType:"video/webm;codecs=vp9,opus"};MediaRecorder.isTypeSupported(ee.mimeType)||(ee={mimeType:"video/webm;codecs=vp8,opus"},MediaRecorder.isTypeSupported(ee.mimeType)||(ee={mimeType:"video/webm"}));const le=new MediaRecorder(G,ee);gt.current=[],le.ondataavailable=ie=>{ie.data&&ie.data.size>0&&gt.current.push(ie.data)},le.onstop=()=>{const ie=new Blob(gt.current,{type:"video/webm"});if(ie.size===0){console.error("Recording failed: Blob is empty");return}const me=URL.createObjectURL(ie),Ce=document.createElement("a");Ce.style.display="none",Ce.href=me,Ce.download=`QAXI_Meeting_${new Date().toISOString().replace(/[:.]/g,"-")}.webm`,document.body.appendChild(Ce),Ce.click(),setTimeout(()=>{document.body.removeChild(Ce),window.URL.revokeObjectURL(me)},100),G.getTracks().forEach(dt=>dt.stop()),Vt(!1)},rn.current=le,le.start(1e3),Vt(!0)}catch(G){console.error("Error starting recording",G),Vt(!1)}},Qr=async G=>{if(G==null||G.preventDefault(),!!Bn.trim())try{const ee=br(fn,"calls",ke,"messages");await Kc(ee,{text:Bn,type:"chat",senderId:Ot,timestamp:Date.now()}),qs("")}catch(ee){console.error("Error sending message:",ee)}},Kr=()=>{n&&(n.getAudioTracks().forEach(G=>{G.enabled=!G.enabled}),p(!f))},hs=async()=>{if(n)if(g)n.getVideoTracks().forEach(G=>G.stop()),y(!1);else try{const ee=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];if(n.getVideoTracks().forEach(le=>n.removeTrack(le)),n.addTrack(ee),Xe.current&&!E){const le=Xe.current.getSenders().find(ie=>{var me;return((me=ie.track)==null?void 0:me.kind)==="video"});le&&await le.replaceTrack(ee)}sn.current&&!E&&(sn.current.srcObject=n),nt.current=n,y(!0)}catch(G){console.error(G)}},bi=async()=>{E?Cn():ja()},ja=async()=>{try{const G=await navigator.mediaDevices.getDisplayMedia({video:!0}),ee=G.getVideoTracks()[0];if(Rn.current=ee,Xe.current){const le=Xe.current.getSenders().find(ie=>{var me;return((me=ie.track)==null?void 0:me.kind)==="video"});le&&await le.replaceTrack(ee)}ee.onended=()=>{Cn()},Ei(G),w(!0)}catch(G){console.error("Error sharing screen:",G)}},Cn=()=>{if(Rn.current&&(Rn.current.stop(),Rn.current=null),Xe.current&&n){const G=n.getVideoTracks()[0],ee=Xe.current.getSenders().find(le=>{var ie;return((ie=le.track)==null?void 0:ie.kind)==="video"});ee&&G&&(ee.replaceTrack(G),G.enabled=g)}Ei(null),w(!1)},bn=async(G,ee)=>{x(le=>({...le,[G]:ee}));try{const le=pi(fn,"calls",ke,"participants",G);await Ar(le,{hostAction:ee}),setTimeout(()=>{x(ie=>{const me={...ie};return delete me[G],me})},2e3)}catch(le){console.error("Failed to send host action",le),x(ie=>{const me={...ie};return delete me[G],me})}},Ct=async G=>{try{const ee=pi(fn,"calls",ke,"participants",G);await Ar(ee,{status:"admitted"})}catch(ee){console.error("Failed to admit participant",ee)}},Mt=async()=>{if(s.isCreator)try{const G=br(fn,"calls",ke,"participants"),le=(await z0(G)).docs.map(async ie=>{ie.id!==Ot&&await Ar(ie.ref,{hostAction:"MUTE_AUDIO"})});await Promise.all(le)}catch(G){console.error("Error muting all participants:",G)}},Fn=()=>{navigator.clipboard.writeText(ke),ht(!0),setTimeout(()=>ht(!1),2e3)},fs=G=>A.jsxs("div",{className:`relative bg-zinc-900 overflow-hidden shadow-2xl group/local
        ${G?"rounded-xl border-2 border-zinc-700 cursor-move":"w-full h-full rounded-2xl border border-zinc-800 flex items-center justify-center"}
      `,style:G?{width:"100%",height:"100%"}:{},children:[A.jsx("video",{ref:sn,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-full object-cover scale-x-[-1] ${!g&&!E?"hidden":""}`}),!g&&!E&&A.jsx("div",{className:"w-full h-full flex items-center justify-center bg-zinc-800 text-zinc-500",children:A.jsx("i",{className:"fa-solid fa-video-slash text-2xl"})}),E&&A.jsxs("div",{className:"absolute top-2 right-2 bg-blue-600/90 text-white text-[10px] font-bold px-2 py-1 rounded shadow-lg flex items-center gap-2 z-20 border border-blue-400/30",children:[A.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),A.jsx("span",{children:"Sharing Screen"})]}),A.jsxs("div",{className:"absolute bottom-2 left-2 text-[10px] font-bold text-white bg-black/50 px-2 py-1 rounded flex items-center gap-1 pointer-events-none z-10",children:["YOU ",E&&A.jsxs("span",{className:"text-blue-400 ml-1 font-normal",children:[A.jsx("i",{className:"fa-solid fa-desktop"})," Screen"]}),f&&A.jsx("i",{className:"fa-solid fa-microphone-slash text-red-400 ml-1"}),La==="poor"&&A.jsx("i",{className:"fa-solid fa-signal text-red-500 ml-1 animate-pulse",title:"Poor Connection"})]}),G&&A.jsx("div",{onMouseDown:Jo,className:"resize-handle absolute bottom-0 right-0 w-6 h-6 bg-transparent cursor-se-resize z-20 flex items-end justify-end p-1 opacity-0 group-hover/local:opacity-100 transition-opacity",children:A.jsx("div",{className:"w-2 h-2 bg-zinc-400 rounded-br-sm border-r-2 border-b-2 border-zinc-300"})})]}),Yr=()=>A.jsxs("div",{className:"relative w-full h-full bg-zinc-900 rounded-2xl overflow-hidden border border-zinc-800 shadow-2xl flex items-center justify-center group",children:[o&&!Le&&H.status==="admitted"?A.jsx(A.Fragment,{children:A.jsx("video",{ref:ls,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain"})}):A.jsxs("div",{className:"flex flex-col items-center justify-center text-zinc-600",children:[A.jsx("i",{className:`fa-solid ${H.status==="waiting"?"fa-hourglass-half":Le?"fa-eye-slash":"fa-user-astronaut"} text-6xl mb-4 animate-pulse`}),A.jsx("p",{className:"text-xl",children:H.status==="waiting"?"Participant in Waiting Room":Le?"Remote Video Hidden":"Waiting for participant..."})]}),o&&H.isScreenSharing&&H.status==="admitted"&&A.jsxs("div",{className:"absolute top-6 left-6 bg-blue-600/80 backdrop-blur-md text-white font-bold px-4 py-2 rounded-xl shadow-2xl flex items-center gap-3 z-30 border border-blue-500/50",children:[A.jsx("i",{className:"fa-solid fa-clapperboard text-white animate-pulse"}),A.jsx("span",{className:"uppercase tracking-widest text-xs",children:"Screen Sharing in progress"})]}),o&&H.muted&&H.status==="admitted"&&A.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 flex flex-col items-center justify-center bg-black/60 p-4 rounded-xl backdrop-blur-sm pointer-events-none",children:[A.jsx("i",{className:"fa-solid fa-microphone-slash text-red-500 text-3xl mb-2"}),A.jsx("span",{className:"text-white font-medium text-sm",children:"Participant Muted"})]}),o&&H.status==="admitted"&&A.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20",children:[s.isCreator&&se&&A.jsx("button",{onClick:()=>bn(se,"STOP_VIDEO"),className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-md border transition-all bg-black/50 border-white/20 text-white hover:bg-red-500/70 hover:border-red-500",title:"Stop Remote Video (Host Action)",children:A.jsx("i",{className:"fa-solid fa-video-slash"})}),A.jsx("button",{onClick:()=>Qe(!de),className:`w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-md border transition-all ${de?"bg-red-500/50 border-red-500 text-white":"bg-black/50 border-white/20 text-white hover:bg-black/70"}`,title:de?"Unmute Remote (For You)":"Mute Remote (For You)",children:A.jsx("i",{className:`fa-solid ${de?"fa-volume-xmark":"fa-volume-high"}`})}),A.jsx("button",{onClick:()=>V(!Le),className:`w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-md border transition-all ${Le?"bg-red-500/50 border-red-500 text-white":"bg-black/50 border-white/20 text-white hover:bg-black/70"}`,title:Le?"Show Remote Video":"Hide Remote Video",children:A.jsx("i",{className:`fa-solid ${Le?"fa-eye-slash":"fa-eye"}`})})]})]});return Z==="waiting"?A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black p-4 relative overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-800 via-black to-black opacity-50"}),A.jsxs("div",{className:"relative z-10 w-full max-w-md bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl text-center",children:[A.jsx("div",{className:"mb-6 flex justify-center",children:A.jsxs("div",{className:"w-20 h-20 rounded-full bg-zinc-800 border-2 border-gold flex items-center justify-center animate-pulse relative",children:[A.jsx("img",{src:pt,alt:"Me",className:"w-full h-full object-cover rounded-full opacity-80"}),Ee&&A.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 text-black w-8 h-8 rounded-full flex items-center justify-center border-2 border-black animate-bounce",title:"Host is reviewing",children:A.jsx("i",{className:"fa-solid fa-eye text-sm"})})]})}),A.jsx("h2",{className:"text-2xl font-brand text-white mb-2 tracking-wider",children:"Waiting for Host"}),A.jsx("p",{className:"text-zinc-500 text-sm mb-4",children:"The meeting host will let you in soon."}),A.jsxs("div",{className:"flex flex-col gap-3 mb-8",children:[W>1?A.jsxs("div",{className:"bg-zinc-800/50 py-2 px-4 rounded-lg border border-zinc-700/50 inline-flex items-center justify-center gap-2 mx-auto",children:[A.jsx("i",{className:"fa-solid fa-users text-zinc-400 text-xs"}),A.jsxs("span",{className:"text-zinc-300 text-xs",children:[W," participants waiting"]})]}):A.jsx("div",{className:"bg-zinc-800/50 py-2 px-4 rounded-lg border border-zinc-700/50 inline-flex items-center justify-center gap-2 mx-auto",children:A.jsx("span",{className:"text-zinc-300 text-xs",children:"You are next in line"})}),Ee&&A.jsxs("div",{className:"text-green-400 text-xs font-bold animate-pulse flex items-center justify-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-check-circle"})," Host is reviewing join requests..."]})]}),A.jsx("div",{className:"flex justify-center mb-8",children:A.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 px-4 py-2 rounded-lg border border-zinc-800",children:[A.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-bounce"}),A.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-bounce delay-100"}),A.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-bounce delay-200"})]})}),A.jsx("button",{onClick:e,className:"text-zinc-500 hover:text-white text-sm transition-colors border-b border-transparent hover:border-zinc-500 pb-1",children:"Cancel and Leave"})]})]}):A.jsxs("div",{className:"relative w-full h-screen bg-black overflow-hidden flex flex-col",children:[A.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 z-20 flex justify-between items-start bg-gradient-to-b from-black/80 to-transparent pointer-events-none",children:[A.jsxs("div",{className:"pointer-events-auto flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-3 bg-zinc-900/50 backdrop-blur-md border border-zinc-700 rounded-full px-4 py-2",children:[A.jsx("span",{className:`w-2 h-2 rounded-full ${ve==="Connected"?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),A.jsx("span",{className:"text-zinc-200 text-sm font-medium",children:ve})]}),ve==="Connected"&&A.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/50 backdrop-blur-md border border-zinc-700 rounded-full px-4 py-2",children:[A.jsx("i",{className:"fa-regular fa-clock text-gold text-xs"}),A.jsx("span",{className:"text-zinc-200 text-sm font-mono tracking-wider",children:ni(os)})]})]}),A.jsxs("div",{className:"pointer-events-auto flex flex-col items-end gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"flex items-center gap-2 bg-zinc-900/80 backdrop-blur-md border border-zinc-700 rounded-xl px-2 py-1 mr-2",children:A.jsxs("button",{onClick:()=>F(G=>G==="speaker"?"grid":"speaker"),className:"flex items-center gap-2 px-2 py-1 hover:text-white text-zinc-400 transition-colors",title:"Toggle Layout",children:[A.jsx("i",{className:`fa-solid ${R==="speaker"?"fa-table-cells-large":"fa-film"} text-gold`}),A.jsx("span",{className:"text-xs font-bold uppercase hidden sm:inline",children:R==="speaker"?"Grid View":"Speaker View"})]})}),A.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/80 backdrop-blur-md border border-zinc-700 rounded-xl px-4 py-2 cursor-pointer hover:bg-zinc-800 transition-colors",onClick:Fn,children:[A.jsxs("div",{className:"flex flex-col items-end",children:[A.jsx("span",{className:"text-[10px] text-zinc-400 uppercase tracking-widest",children:"Room ID"}),A.jsx("span",{className:"text-gold font-mono font-bold text-lg",children:ke})]}),A.jsx("i",{className:`fa-solid ${wt?"fa-check text-green-500":"fa-copy text-zinc-500"} ml-2`})]})]}),wt&&A.jsx("span",{className:"text-green-500 text-xs bg-black/50 px-2 py-1 rounded",children:"Copied!"})]})]}),Re&&A.jsx("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:A.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl animate-[fadeIn_0.2s_ease-out]",children:[A.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-red-500/20",children:A.jsx("i",{className:"fa-solid fa-phone-slash text-red-500 text-2xl"})}),A.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-brand",children:"End Meeting?"}),A.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Are you sure you want to leave? You can rejoin later using the room ID."}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:()=>Ue(!1),className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-xl font-medium transition-colors border border-zinc-700",children:"Cancel"}),A.jsx("button",{onClick:e,className:"flex-1 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-colors shadow-lg shadow-red-900/30",children:"Leave"})]})]})}),A.jsxs("div",{className:"flex-1 flex overflow-hidden w-full relative",children:[A.jsx("div",{className:`flex-1 relative flex items-center justify-center p-4 gap-4 transition-all duration-300 ease-in-out ${Et!=="none"?"mr-0":""}`,children:E&&Pi?A.jsxs("div",{className:"w-full h-full max-w-6xl max-h-full relative",children:[A.jsxs("div",{className:"relative w-full h-full bg-zinc-900 rounded-2xl overflow-hidden border border-zinc-800 shadow-2xl flex items-center justify-center group",children:[A.jsx("video",{ref:Li,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-contain"}),A.jsxs("div",{className:"absolute top-4 left-4 text-xs font-bold text-white bg-blue-600/90 px-3 py-1.5 rounded-full flex items-center gap-2 pointer-events-none shadow-lg",children:[A.jsx("i",{className:"fa-solid fa-desktop animate-pulse"})," Ests compartiendo tu pantalla"]})]}),A.jsx("div",{className:"absolute top-4 right-4 w-48 h-32 md:w-64 md:h-44 z-40 rounded-xl overflow-hidden shadow-2xl border-2 border-zinc-700 bg-zinc-900",children:Yr()})]}):R==="speaker"?A.jsx("div",{className:"w-full h-full max-w-6xl max-h-full",children:Yr()}):A.jsxs("div",{className:"w-full h-full max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-4 auto-rows-fr",children:[A.jsx("div",{className:"w-full h-full min-h-[200px] flex flex-col",children:fs(!1)}),A.jsx("div",{className:"w-full h-full min-h-[200px] flex flex-col",children:Yr()})]})}),A.jsxs("div",{className:`bg-zinc-900 border-l border-zinc-800 flex flex-col transition-all duration-300 ease-in-out absolute right-0 h-full z-30 md:static ${Et!=="none"?"translate-x-0 w-80 shadow-[-10px_0_30px_rgba(0,0,0,0.5)]":"translate-x-full w-0 border-none"}`,children:[A.jsxs("div",{className:"p-4 border-b border-zinc-800 flex items-center justify-between bg-zinc-900/95 backdrop-blur",children:[A.jsxs("h2",{className:"text-white font-brand font-bold tracking-wider flex items-center gap-2",children:[Et==="chat"&&A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-comments text-gold"})," CHAT"]}),Et==="participants"&&A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-users text-gold"})," PARTICIPANTS"]}),Et==="poll"&&A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-chart-bar text-gold"})," LIVE POLL"]}),Et==="settings"&&A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-gear text-gold"})," HOST SETTINGS"]})]}),A.jsx("button",{onClick:()=>jn("none"),className:"md:hidden text-zinc-400 hover:text-white",children:A.jsx("i",{className:"fa-solid fa-times"})})]}),Et==="chat"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 scrollbar-thin scrollbar-thumb-zinc-700",children:[ti.map(G=>{const ee=G.senderId===Ot;return A.jsxs("div",{className:`flex flex-col ${ee?"items-end":"items-start"}`,children:[A.jsx("div",{className:`max-w-[85%] px-3 py-2 rounded-lg text-sm break-words ${ee?"bg-gold text-black rounded-tr-none font-medium":"bg-zinc-800 text-zinc-200 rounded-tl-none border border-zinc-700"}`,children:G.text}),A.jsx("span",{className:"text-[10px] text-zinc-500 mt-1",children:new Date(G.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},G.id)}),A.jsx("div",{ref:It})]}),A.jsx("form",{onSubmit:Qr,className:"p-3 border-t border-zinc-800 bg-zinc-900",children:A.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-full px-2 py-1 focus-within:border-gold/50 focus-within:ring-1 focus-within:ring-gold/20 transition-all",children:[A.jsx("input",{type:"text",value:Bn,onChange:G=>qs(G.target.value),placeholder:"Type a message...",className:"flex-1 bg-transparent border-none text-white text-sm px-3 py-2 focus:outline-none"}),A.jsx("button",{type:"submit",disabled:!Bn.trim(),className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${Bn.trim()?"bg-gold text-black hover:bg-white":"bg-zinc-800 text-zinc-600"}`,children:A.jsx("i",{className:"fa-solid fa-paper-plane text-xs"})})]})})]}),Et==="participants"&&A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s.isCreator&&A.jsxs("button",{onClick:Mt,className:"w-full mb-2 py-2.5 bg-red-500/10 border border-red-500/30 text-red-400 rounded-xl text-xs font-bold uppercase tracking-wider hover:bg-red-500/20 transition-all flex items-center justify-center gap-2 group",children:[A.jsx("i",{className:"fa-solid fa-microphone-slash group-hover:scale-110 transition-transform"}),"Mute All Participants"]}),A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-zinc-800/50 rounded-xl border border-zinc-700/50",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center border border-zinc-700 overflow-hidden",children:A.jsx("img",{src:pt,alt:"Me",className:"w-full h-full object-cover"})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("p",{className:"text-sm font-medium text-white",children:["You ",s.isCreator?"(Host)":""]}),A.jsxs("p",{className:"text-xs text-green-500 flex items-center gap-1",children:[A.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})," Active"]})]}),A.jsxs("div",{className:"flex gap-2",children:[f&&A.jsx("i",{className:"fa-solid fa-microphone-slash text-zinc-500 text-xs",title:"Muted"}),E&&A.jsx("i",{className:"fa-solid fa-desktop text-blue-400 text-xs",title:"Sharing Screen"})]})]}),A.jsxs("div",{className:`flex flex-col gap-2 p-3 bg-zinc-800/50 rounded-xl border border-zinc-700/50 ${H.status==="waiting"?"border-yellow-500/30 bg-yellow-500/5":""}`,children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center border border-zinc-700 overflow-hidden",children:H.avatarUrl?A.jsx("img",{src:H.avatarUrl,alt:"Remote",className:"w-full h-full object-cover"}):A.jsx("i",{className:"fa-solid fa-user-astronaut text-zinc-400"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-sm font-medium text-zinc-300",children:"Remote Participant"}),A.jsx("div",{className:"flex flex-col gap-0.5",children:H.status==="waiting"?A.jsxs(A.Fragment,{children:[A.jsxs("p",{className:"text-xs flex items-center gap-1 text-yellow-500 font-bold animate-pulse",children:[A.jsx("i",{className:"fa-solid fa-hourglass-half text-[10px]"})," Waiting for admission"]}),o&&A.jsx("div",{className:"mt-2 w-full aspect-video bg-black rounded-lg overflow-hidden border border-zinc-700",children:A.jsx("video",{autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",ref:G=>{G&&o&&G.srcObject!==o&&(G.srcObject=o)}})})]}):A.jsxs("p",{className:`text-xs flex items-center gap-1 ${ve==="Connected"?"text-green-500":"text-yellow-500"}`,children:[A.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ve==="Connected"?"bg-green-500":"bg-yellow-500"}`}),ve==="Connected"?"Online":"Connecting..."]})})]}),H.status==="admitted"&&A.jsxs("div",{className:"flex gap-2",children:[H.muted&&A.jsx("i",{className:"fa-solid fa-microphone-slash text-red-500 text-xs",title:"User is Muted"}),H.isScreenSharing&&A.jsx("i",{className:"fa-solid fa-desktop text-blue-500 text-xs",title:"User is Sharing Screen"})]})]}),s.isCreator&&se&&A.jsx("div",{className:"mt-2 pt-2 border-t border-zinc-700 flex justify-end gap-2",children:H.status==="waiting"?A.jsxs("button",{onClick:()=>Ct(se),className:"w-full py-2 bg-green-600 hover:bg-green-500 text-white text-xs rounded-lg font-bold shadow-lg shadow-green-900/20 transition-all flex items-center justify-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-check"})," Admit to Meeting"]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>bn(se,H.muted?"UNMUTE_AUDIO":"MUTE_AUDIO"),disabled:!!Ie[se],className:`px-2 py-1 text-[10px] rounded border uppercase tracking-wide font-bold transition-colors ${H.muted?"bg-green-900/30 text-green-400 border-green-900/50 hover:bg-green-900/50":"bg-red-900/30 text-red-400 border-red-900/50 hover:bg-red-900/50"}`,children:Ie[se]==="MUTE_AUDIO"||Ie[se]==="UNMUTE_AUDIO"?A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-circle-notch fa-spin mr-1"})," Processing..."]}):H.muted?"Unmute":"Mute"}),A.jsx("button",{onClick:()=>bn(se,"STOP_VIDEO"),disabled:!H.videoEnabled||Ie[se]==="STOP_VIDEO",className:`px-2 py-1 text-[10px] rounded border uppercase tracking-wide font-bold transition-colors ${H.videoEnabled?"bg-zinc-800 text-zinc-400 border-zinc-700 hover:bg-zinc-700 hover:text-white":"bg-zinc-800 text-zinc-500 border-zinc-800 cursor-not-allowed"}`,children:Ie[se]==="STOP_VIDEO"?A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-circle-notch fa-spin mr-1"})," Stopping..."]}):H.videoEnabled?"Stop Video":"Video Stopped"})]})})]}),A.jsxs("div",{className:"mt-8 p-4 bg-zinc-950/50 rounded-xl border border-dashed border-zinc-800 text-center",children:[A.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:"Invite more people by sharing the room ID"}),A.jsx("div",{className:"inline-block bg-zinc-900 px-3 py-1 rounded text-gold font-mono font-bold border border-zinc-700",children:ke})]})]}),Et==="poll"&&A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:In?A.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-gold/30",children:[A.jsx("h3",{className:"text-white font-bold mb-3",children:In.question}),A.jsx("div",{className:"space-y-2",children:In.options.map((G,ee)=>{const le=Object.values(In.votes).filter(dt=>dt===ee).length,ie=Object.keys(In.votes).length||1,me=Math.round(le/ie*100),Ce=In.votes[Ot]!==void 0;return A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>!Ce&&cs(ee),disabled:Ce||s.isCreator,className:`w-full text-left px-3 py-2 rounded-lg border text-sm transition-all ${In.votes[Ot]===ee?"border-gold bg-gold/20 text-white":"border-zinc-700 bg-zinc-900/50 text-zinc-300 hover:border-zinc-500"} relative z-10 disabled:opacity-80`,children:A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{children:G}),A.jsxs("span",{children:[le," (",me,"%)"]})]})}),A.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gold/10 rounded-lg transition-all",style:{width:`${me}%`}})]},ee)})}),s.isCreator&&A.jsx("button",{onClick:Zo,className:"w-full mt-4 py-2 border border-red-500/50 text-red-400 rounded-lg text-sm hover:bg-red-500/10 transition-colors bg-red-500/5",children:"End Poll"})]}):s.isCreator?A.jsxs("div",{className:"space-y-3",children:[A.jsx("p",{className:"text-zinc-400 text-sm",children:"Create a new live poll"}),A.jsx("input",{type:"text",value:Hs,onChange:G=>qn(G.target.value),placeholder:"Poll Question",className:"w-full bg-zinc-900 border border-zinc-700 rounded-lg px-3 py-2 text-white text-sm focus:border-gold outline-none"}),En.map((G,ee)=>A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",value:G,onChange:le=>{const ie=[...En];ie[ee]=le.target.value,yt(ie)},placeholder:`Option ${ee+1}`,className:"flex-1 bg-zinc-900 border border-zinc-700 rounded-lg px-3 py-2 text-white text-sm focus:border-gold outline-none"}),En.length>2&&A.jsx("button",{onClick:()=>yt(En.filter((le,ie)=>ie!==ee)),className:"text-red-500 px-2",children:A.jsx("i",{className:"fa-solid fa-times"})})]},ee)),A.jsxs("button",{onClick:()=>yt([...En,""]),className:"text-gold text-sm hover:underline",children:[A.jsx("i",{className:"fa-solid fa-plus mr-1"})," Add Option"]}),A.jsx("button",{onClick:ii,className:"w-full bg-gold text-black py-2 rounded-lg font-bold shadow-lg shadow-gold/20 hover:scale-[1.02] active:scale-[0.98] transition-transform",children:"Launch Poll"})]}):A.jsxs("div",{className:"text-center text-zinc-500 text-sm py-10 flex flex-col items-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-chart-bar text-4xl opacity-50"}),A.jsx("p",{children:"No active poll right now"})]})}),Et==="settings"&&s.isCreator&&A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[A.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700",children:[A.jsxs("h3",{className:"text-sm font-bold text-white mb-4 uppercase tracking-wider flex items-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-shield-halved text-gold"})," Room Controls"]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-white text-sm font-medium",children:"Record Meeting"}),A.jsx("p",{className:"text-zinc-500 text-xs",children:Zt?"Recording in progress":"Record screen & audio"})]}),A.jsx("button",{onClick:zi,title:Zt?"Stop Recording":"Start Recording",className:`w-10 h-10 flex items-center justify-center rounded-lg transition-colors border ${Zt?"bg-red-600 text-white border-red-500 animate-pulse":"bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white border-red-500/30"}`,children:A.jsx("i",{className:`fa-solid ${Zt?"fa-stop":"fa-record-vinyl"}`})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-white text-sm font-medium",children:"Live Poll"}),A.jsx("p",{className:"text-zinc-500 text-xs",children:"Create or view live polls"})]}),A.jsx("button",{onClick:()=>jn(G=>G==="poll"?"settings":"poll"),title:"Toggle Polls",className:`w-10 h-10 flex items-center justify-center rounded-lg transition-colors border ${Et==="poll"?"bg-gold text-black border-gold shadow-lg shadow-gold/20":"bg-zinc-700/50 text-zinc-300 hover:bg-gold hover:text-black border-zinc-600"}`,children:A.jsx("i",{className:"fa-solid fa-chart-bar"})})]}),A.jsx("div",{className:"h-px bg-zinc-700 my-1"}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-white text-sm font-medium",children:"Mute All Participants"}),A.jsx("p",{className:"text-zinc-500 text-xs",children:"Force mute everyone's microphone"})]}),A.jsx("button",{onClick:Mt,title:"Mute all",className:"bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white border border-red-500/30 w-10 h-10 flex items-center justify-center rounded-lg transition-colors",children:A.jsx("i",{className:"fa-solid fa-microphone-slash"})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-white text-sm font-medium",children:"Stop All Video"}),A.jsx("p",{className:"text-zinc-500 text-xs",children:"Turn off everyone's camera"})]}),A.jsx("button",{onClick:async()=>{if(!s.isCreator)return;const G=br(fn,"calls",ke,"participants");(await z0(G)).docs.forEach(le=>{le.id!==Ot&&Ar(le.ref,{hostAction:"STOP_VIDEO"})})},title:"Stop all video",className:"bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white border border-red-500/30 w-10 h-10 flex items-center justify-center rounded-lg transition-colors",children:A.jsx("i",{className:"fa-solid fa-video-slash"})})]})]})]}),A.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700",children:[A.jsxs("h3",{className:"text-sm font-bold text-white mb-2 uppercase tracking-wider flex items-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-info-circle text-blue-400"})," Meeting Details"]}),A.jsxs("div",{className:"text-sm text-zinc-300 mb-2",children:[A.jsx("strong",{children:"Room ID:"})," ",A.jsx("span",{className:"font-mono text-gold",children:ke})]}),A.jsxs("button",{onClick:Fn,className:"w-full py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg text-sm text-white transition-colors flex items-center justify-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-copy"}),wt?"Copied":"Copy ID"]})]})]})]})]}),$o.map(G=>A.jsx("div",{className:"absolute z-50 pointer-events-none",style:{left:`${G.x}%`,bottom:"15%",fontSize:"3rem",animation:"reactionFloat 2.5s ease-out forwards"},children:G.emoji},G.id)),A.jsx("style",{children:`
        @keyframes reactionFloat {
          0%   { opacity: 1; transform: translateY(0) scale(1); }
          50%  { opacity: 1; transform: translateY(-80px) scale(1.2); }
          100% { opacity: 0; transform: translateY(-180px) scale(0.8); }
        }
      `}),R==="speaker"&&A.jsx("div",{style:{position:"fixed",left:S.x,top:S.y,width:S.width,height:S.height},onMouseDown:Hn,className:"z-50",children:fs(!0)}),A.jsx(iO,{muted:f,videoEnabled:g,isScreenSharing:E,chatOpen:Et==="chat",participantsOpen:Et==="participants",pollOpen:Et==="poll",settingsOpen:Et==="settings",isRecording:Zt,waitingCount:W,isHost:s.isCreator,onToggleMute:Kr,onToggleVideo:hs,onToggleScreenShare:bi,onToggleChat:()=>jn(G=>G==="chat"?"none":"chat"),onToggleParticipants:()=>jn(G=>G==="participants"?"none":"participants"),onTogglePoll:()=>jn(G=>G==="poll"?"none":"poll"),onToggleSettings:()=>jn(G=>G==="settings"?"none":"settings"),onToggleRecording:zi,onSendReaction:za,onHangup:()=>Ue(!0)})]})},rO=()=>{const[s,e]=he.useState({joined:!1,roomId:"",isCreator:!1}),n=()=>Math.random().toString(36).substring(2,8).toUpperCase(),r=()=>{const f=n();e({joined:!0,roomId:f,isCreator:!0})},o=f=>{e({joined:!0,roomId:f.toUpperCase(),isCreator:!1})},u=()=>{e({joined:!1,roomId:"",isCreator:!1})};return A.jsx("div",{className:"min-h-screen text-white font-sans",children:s.joined?A.jsx(sO,{roomState:s,onLeave:u}):A.jsx(eS,{onCreateRoom:r,onJoinRoom:o})})},fA=document.getElementById("root");if(!fA)throw new Error("Could not find root element to mount to");const aO=Ww.createRoot(fA);aO.render(A.jsx(Qm.StrictMode,{children:A.jsx(rO,{})}));</script>
</head>

<body>
  <div id="root"></div>
</body>

</html>