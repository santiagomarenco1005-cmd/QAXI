<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QAXI Live</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: {
                            DEFAULT: '#D4AF37',
                            dark: '#AA8C2C',
                            light: '#F3E5AB'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #000;
            color: #fff;
        }

        .font-brand {
            font-family: 'Inter', sans-serif;
            letter-spacing: 0.02em;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
  <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function gT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jd={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Hw(){if(yv)return Ql;yv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var _v;function Fw(){return _v||(_v=1,Jd.exports=Hw()),Jd.exports}var A=Fw(),Zd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function Gw(){if(vv)return Ce;vv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,W={};function pe(M,K,oe){this.props=M,this.context=K,this.refs=W,this.updater=oe||Z}pe.prototype.isReactComponent={},pe.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},pe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ee(){}Ee.prototype=pe.prototype;function _e(M,K,oe){this.props=M,this.context=K,this.refs=W,this.updater=oe||Z}var Re=_e.prototype=new Ee;Re.constructor=_e,ie(Re,pe.prototype),Re.isPureReactComponent=!0;var Ve=Array.isArray;function Oe(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(M,K,oe){var te=oe.ref;return{$$typeof:s,type:M,key:K,ref:te!==void 0?te:null,props:oe}}function V(M,K){return x(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return K[oe]})}var I=/\/+/g;function ot(M,K){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):K.toString(36)}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Oe,Oe):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,K,oe,te,we){var ve=typeof M;(ve==="undefined"||ve==="boolean")&&(M=null);var Pe=!1;if(M===null)Pe=!0;else switch(ve){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(M.$$typeof){case s:case e:Pe=!0;break;case E:return Pe=M._init,G(Pe(M._payload),K,oe,te,we)}}if(Pe)return we=we(M),Pe=te===""?"."+ot(M,0):te,Ve(we)?(oe="",Pe!=null&&(oe=Pe.replace(I,"$&/")+"/"),G(we,K,oe,"",function(Ti){return Ti})):we!=null&&(D(we)&&(we=V(we,oe+(we.key==null||M&&M.key===we.key?"":(""+we.key).replace(I,"$&/")+"/")+Pe)),K.push(we)),1;Pe=0;var tt=te===""?".":te+":";if(Ve(M))for(var ze=0;ze<M.length;ze++)te=M[ze],ve=tt+ot(te,ze),Pe+=G(te,K,oe,ve,we);else if(ze=F(M),typeof ze=="function")for(M=ze.call(M),ze=0;!(te=M.next()).done;)te=te.value,ve=tt+ot(te,ze++),Pe+=G(te,K,oe,ve,we);else if(ve==="object"){if(typeof M.then=="function")return G(Dt(M),K,oe,te,we);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function re(M,K,oe){if(M==null)return M;var te=[],we=0;return G(M,te,"","",function(ve){return K.call(oe,ve,we++)}),te}function me(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Qe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Le={map:re,forEach:function(M,K,oe){re(M,function(){K.apply(this,arguments)},oe)},count:function(M){var K=0;return re(M,function(){K++}),K},toArray:function(M){return re(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=w,Ce.Children=Le,Ce.Component=pe,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=_e,Ce.StrictMode=r,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,K,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=ie({},M.props),we=M.key;if(K!=null)for(ve in K.key!==void 0&&(we=""+K.key),K)!R.call(K,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&K.ref===void 0||(te[ve]=K[ve]);var ve=arguments.length-2;if(ve===1)te.children=oe;else if(1<ve){for(var Pe=Array(ve),tt=0;tt<ve;tt++)Pe[tt]=arguments[tt+2];te.children=Pe}return x(M.type,we,te)},Ce.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,K,oe){var te,we={},ve=null;if(K!=null)for(te in K.key!==void 0&&(ve=""+K.key),K)R.call(K,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(we[te]=K[te]);var Pe=arguments.length-2;if(Pe===1)we.children=oe;else if(1<Pe){for(var tt=Array(Pe),ze=0;ze<Pe;ze++)tt[ze]=arguments[ze+2];we.children=tt}if(M&&M.defaultProps)for(te in Pe=M.defaultProps,Pe)we[te]===void 0&&(we[te]=Pe[te]);return x(M,ve,we)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:p,render:M}},Ce.isValidElement=D,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Ce.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},Ce.startTransition=function(M){var K=N.T,oe={};N.T=oe;try{var te=M(),we=N.S;we!==null&&we(oe,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Oe,Qe)}catch(ve){Qe(ve)}finally{K!==null&&oe.types!==null&&(K.types=oe.types),N.T=K}},Ce.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ce.use=function(M){return N.H.use(M)},Ce.useActionState=function(M,K,oe){return N.H.useActionState(M,K,oe)},Ce.useCallback=function(M,K){return N.H.useCallback(M,K)},Ce.useContext=function(M){return N.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},Ce.useEffect=function(M,K){return N.H.useEffect(M,K)},Ce.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ce.useId=function(){return N.H.useId()},Ce.useImperativeHandle=function(M,K,oe){return N.H.useImperativeHandle(M,K,oe)},Ce.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},Ce.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},Ce.useMemo=function(M,K){return N.H.useMemo(M,K)},Ce.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},Ce.useReducer=function(M,K,oe){return N.H.useReducer(M,K,oe)},Ce.useRef=function(M){return N.H.useRef(M)},Ce.useState=function(M){return N.H.useState(M)},Ce.useSyncExternalStore=function(M,K,oe){return N.H.useSyncExternalStore(M,K,oe)},Ce.useTransition=function(){return N.H.useTransition()},Ce.version="19.2.4",Ce}var Tv;function Gm(){return Tv||(Tv=1,Zd.exports=Gw()),Zd.exports}var he=Gm();const Qm=gT(he);var Wd={exports:{}},Kl={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Qw(){return Ev||(Ev=1,(function(s){function e(G,re){var me=G.length;G.push(re);e:for(;0<me;){var Qe=me-1>>>1,Le=G[Qe];if(0<o(Le,re))G[Qe]=re,G[me]=Le,me=Qe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],me=G.pop();if(me!==re){G[0]=me;e:for(var Qe=0,Le=G.length,M=Le>>>1;Qe<M;){var K=2*(Qe+1)-1,oe=G[K],te=K+1,we=G[te];if(0>o(oe,me))te<Le&&0>o(we,oe)?(G[Qe]=we,G[te]=me,Qe=te):(G[Qe]=oe,G[K]=me,Qe=K);else if(te<Le&&0>o(we,me))G[Qe]=we,G[te]=me,Qe=te;else break e}}return re}function o(G,re){var me=G.sortIndex-re.sortIndex;return me!==0?me:G.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,w=null,S=3,F=!1,Z=!1,ie=!1,W=!1,pe=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Re(G){for(var re=n(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=G)r(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(y)}}function Ve(G){if(ie=!1,Re(G),!Z)if(n(g)!==null)Z=!0,Oe||(Oe=!0,U());else{var re=n(y);re!==null&&Dt(Ve,re.startTime-G)}}var Oe=!1,N=-1,R=5,x=-1;function V(){return W?!0:!(s.unstable_now()-x<R)}function D(){if(W=!1,Oe){var G=s.unstable_now();x=G;var re=!0;try{e:{Z=!1,ie&&(ie=!1,Ee(N),N=-1),F=!0;var me=S;try{t:{for(Re(G),w=n(g);w!==null&&!(w.expirationTime>G&&V());){var Qe=w.callback;if(typeof Qe=="function"){w.callback=null,S=w.priorityLevel;var Le=Qe(w.expirationTime<=G);if(G=s.unstable_now(),typeof Le=="function"){w.callback=Le,Re(G),re=!0;break t}w===n(g)&&r(g),Re(G)}else r(g);w=n(g)}if(w!==null)re=!0;else{var M=n(y);M!==null&&Dt(Ve,M.startTime-G),re=!1}}break e}finally{w=null,S=me,F=!1}re=void 0}}finally{re?U():Oe=!1}}}var U;if(typeof _e=="function")U=function(){_e(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ot=I.port2;I.port1.onmessage=D,U=function(){ot.postMessage(null)}}else U=function(){pe(D,0)};function Dt(G,re){N=pe(function(){G(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(G){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var me=S;S=re;try{return G()}finally{S=me}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=S;S=G;try{return re()}finally{S=me}},s.unstable_scheduleCallback=function(G,re,me){var Qe=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Qe+me:Qe):me=Qe,G){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=me+Le,G={id:E++,callback:re,priorityLevel:G,startTime:me,expirationTime:Le,sortIndex:-1},me>Qe?(G.sortIndex=me,e(y,G),n(g)===null&&G===n(y)&&(ie?(Ee(N),N=-1):ie=!0,Dt(Ve,me-Qe))):(G.sortIndex=Le,e(g,G),Z||F||(Z=!0,Oe||(Oe=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var re=S;return function(){var me=S;S=re;try{return G.apply(this,arguments)}finally{S=me}}}})(tm)),tm}var bv;function Kw(){return bv||(bv=1,em.exports=Qw()),em.exports}var nm={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function Yw(){if(Av)return mn;Av=1;var s=Gm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},mn.flushSync=function(g){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=E,r.d.f()}},mn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},mn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},mn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:F}):E==="script"&&r.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},mn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);r.d.L(g,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},mn.requestFormReset=function(g){r.d.r(g)},mn.unstable_batchedUpdates=function(g,y){return g(y)},mn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var wv;function $w(){if(wv)return nm.exports;wv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=Yw(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function Xw(){if(Sv)return Kl;Sv=1;var s=Kw(),e=Gm(),n=$w();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case pe:return"Profiler";case W:return"StrictMode";case Ve:return"Suspense";case Oe:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case _e:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ot(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ot(t(i))}catch{}}return null}var Dt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Qe=[],Le=-1;function M(t){return{current:t}}function K(t){0>Le||(t.current=Qe[Le],Qe[Le]=null,Le--)}function oe(t,i){Le++,Qe[Le]=t.current,t.current=i}var te=M(null),we=M(null),ve=M(null),Pe=M(null);function tt(t,i){switch(oe(ve,i),oe(we,t),oe(te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?j_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=j_(i),t=B_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(te),oe(te,t)}function ze(){K(te),K(we),K(ve)}function Ti(t){t.memoizedState!==null&&oe(Pe,t);var i=te.current,a=B_(i,t.type);i!==a&&(oe(we,t),oe(te,a))}function os(t){we.current===t&&(K(te),K(we)),Pe.current===t&&(K(Pe),ql._currentValue=me)}var Hs,Ei;function lt(t){if(Hs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Hs=i&&i[1]||"",Ei=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+t+Ei}var ti=!1;function ls(t,i){if(!t||ti)return"";ti=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){j=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ti=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?lt(a):""}function Kr(t,i){switch(t.tag){case 26:case 27:case 5:return lt(t.type);case 16:return lt("Lazy");case 13:return t.child!==i&&i!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return ls(t.type,!1);case 11:return ls(t.type.render,!1);case 1:return ls(t.type,!0);case 31:return lt("Activity");default:return""}}function bi(t){try{var i="",a=null;do i+=Kr(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,Ke=s.unstable_scheduleCallback,zn=s.unstable_cancelCallback,ja=s.unstable_shouldYield,jn=s.unstable_requestPaint,vt=s.unstable_now,je=s.unstable_getCurrentPriorityLevel,Kt=s.unstable_ImmediatePriority,ni=s.unstable_UserBlockingPriority,Bn=s.unstable_NormalPriority,Fs=s.unstable_LowPriority,us=s.unstable_IdlePriority,Yr=s.log,Ba=s.unstable_setDisableYieldValue,wn=null,Yt=null;function Sn(t){if(typeof Yr=="function"&&Ba(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(wn,t)}catch{}}var ut=Math.clz32?Math.clz32:Qs,Gs=Math.log,Ai=Math.LN2;function Qs(t){return t>>>=0,t===0?32:31-(Gs(t)/Ai|0)|0}var Lt=256,zi=262144,Tt=4194304;function qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jt(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=qn(l):(_&=T,_!==0?h=qn(_):a||(a=T&~t,a!==0&&(h=qn(a))))):(T=l&~d,T!==0?h=qn(T):_!==0?h=qn(_):a||(a=l&~t,a!==0&&(h=qn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function dn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Xe(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qa(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function ii(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function cs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wo(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-ut(a),X=1<<Q;T[Q]=0,C[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&hs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function hs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ut(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function $r(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ut(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Xr(t,i){var a=i&-i;return a=(a&42)!==0?1:ji(a),(a&(t.suspendedLanes|i))!==0?0:a}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ha(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:cv(t.type))}function Hn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Fn=Math.random().toString(36).slice(2),It="__reactFiber$"+Fn,Ot="__reactProps$"+Fn,Rn="__reactContainer$"+Fn,Ks="__reactEvents$"+Fn,Fa="__reactListeners$"+Fn,Jr="__reactHandles$"+Fn,Zr="__reactResources$"+Fn,In="__reactMarker$"+Fn;function B(t){delete t[It],delete t[Ot],delete t[Ks],delete t[Fa],delete t[Jr]}function ee(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Rn]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Y_(t);t!==null;){if(a=t[It])return a;t=Y_(t)}return i}t=a,a=t.parentNode}return null}function ae(t){if(t=t[It]||t[Rn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function ne(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function de(t){var i=t[Zr];return i||(i=t[Zr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(t){t[In]=!0}var Zt=new Set,Et={};function it(t,i){bt(t,i),bt(t+"Capture",i)}function bt(t,i){for(Et[t]=i,t=0;t<i.length;t++)Zt.add(i[t])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gn={},vn={};function fs(t){return St.call(vn,t)?!0:St.call(Gn,t)?!1:nn.test(t)?vn[t]=!0:(Gn[t]=!0,!1)}function ds(t,i,a){if(fs(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Tn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ys(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function el(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function st(t){if(!t._valueTracker){var i=Ys(t)?"checked":"value";t._valueTracker=el(t,i,""+t[i])}}function Wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ys(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ea=/[\n"\\]/g;function Cn(t){return t.replace(ea,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ga(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Wt(i)):t.value!==""+Wt(i)&&(t.value=""+Wt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?tl(t,_,Wt(i)):a!=null?tl(t,_,Wt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function wu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){st(t);return}a=a!=null?""+Wt(a):"",i=i!=null?""+Wt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),st(t)}function tl(t,i,a){i==="number"&&Bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $s(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,a){if(i!=null&&(i=""+Wt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Wt(a):""}function Xs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Dt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Wt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function xn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ru.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function il(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&nl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&nl(t,d,i[d])}function Qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(t){return Js.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Si(){}var sl=null;function si(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zs=null,qi=null;function ta(t){var i=ae(t);if(i&&(t=i.stateNode)){var a=t[Ot]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ot]||null;if(!h)throw Error(r(90));Ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Wr(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&$s(t,!!a.multiple,i,!1)}}}var Ya=!1;function Ws(t,i,a){if(Ya)return t(i,a);Ya=!0;try{var l=t(i);return l}finally{if(Ya=!1,(Zs!==null||qi!==null)&&(Tc(),Zs&&(i=Zs,t=qi,qi=Zs=null,ta(i),t)))for(i=0;i<t.length;i++)ta(t[i])}}function Ri(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ot]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(ri)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){na=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{na=!1}var Hi=null,rl=null,ia=null;function al(){if(ia)return ia;var t,i=rl,a=i.length,l,h="value"in Hi?Hi.value:Hi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ia=h.slice(t,1<l?1-l:void 0)}function sa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function Ii(){return!1}function sn(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ms:Ii,this.isPropagationStopped=Ii,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),i}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=sn(ps),er=w({},ps,{view:0,detail:0}),ol=sn(er),tr,$a,Gi,Xa=w({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(tr=t.screenX-Gi.screenX,$a=t.screenY-Gi.screenY):$a=tr=0,Gi=t),tr)},movementY:function(t){return"movementY"in t?t.movementY:$a}}),ll=sn(Xa),ra=w({},Xa,{dataTransfer:0}),Cu=sn(ra),xu=w({},er,{relatedTarget:0}),aa=sn(xu),ul=w({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=sn(ul),Ja=w({},ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=sn(Ja),Ou=w({},ps,{data:0}),Qi=sn(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ku[t])?!!i[t]:!1}function nr(){return Uu}var En=w({},er,{key:function(t){if(t.key){var i=Mu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(t){return t.type==="keypress"?sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=sn(En),Pu=w({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gs=sn(Pu),c=w({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),m=sn(c),v=w({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=sn(v),L=w({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=sn(L),se=w({},ps,{newState:0,oldState:0}),Ne=sn(se),Mt=[9,13,27,32],We=ri&&"CompositionEvent"in window,At=null;ri&&"documentMode"in document&&(At=document.documentMode);var ai=ri&&"TextEvent"in window&&!At,Ki=ri&&(!We||At&&8<At&&11>=At),Ci=" ",xi=!1;function oa(t,i){switch(t){case"keyup":return Mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function dA(t,i){switch(t){case"compositionend":return Za(i);case"keypress":return i.which!==32?null:(xi=!0,Ci);case"textInput":return t=i.data,t===Ci&&xi?null:t;default:return null}}function mA(t,i){if(Wa)return t==="compositionend"||!We&&oa(t,i)?(t=al(),ia=rl=Hi=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ki&&i.locale!=="ko"?null:i.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!pA[t.type]:i==="textarea"}function Zp(t,i,a,l){Zs?qi?qi.push(l):qi=[l]:Zs=l,i=Ic(i,"onChange"),0<i.length&&(a=new Fi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var cl=null,hl=null;function gA(t){V_(t,0)}function zu(t){var i=ne(t);if(Wr(i))return t}function Wp(t,i){if(t==="change")return i}var eg=!1;if(ri){var sf;if(ri){var rf="oninput"in document;if(!rf){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),rf=typeof tg.oninput=="function"}sf=rf}else sf=!1;eg=sf&&(!document.documentMode||9<document.documentMode)}function ng(){cl&&(cl.detachEvent("onpropertychange",ig),hl=cl=null)}function ig(t){if(t.propertyName==="value"&&zu(hl)){var i=[];Zp(i,hl,t,si(t)),Ws(gA,i)}}function yA(t,i,a){t==="focusin"?(ng(),cl=i,hl=a,cl.attachEvent("onpropertychange",ig)):t==="focusout"&&ng()}function _A(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(hl)}function vA(t,i){if(t==="click")return zu(i)}function TA(t,i){if(t==="input"||t==="change")return zu(i)}function EA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Qn=typeof Object.is=="function"?Object.is:EA;function fl(t,i){if(Qn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!St.call(i,h)||!Qn(t[h],i[h]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,i){var a=sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sg(a)}}function ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Bi(t.document)}return i}function af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bA=ri&&"documentMode"in document&&11>=document.documentMode,eo=null,of=null,dl=null,lf=!1;function lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||eo==null||eo!==Bi(l)||(l=eo,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Ic(of,"onSelect"),0<l.length&&(i=new Fi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=eo)))}function la(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var to={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},uf={},ug={};ri&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function ua(t){if(uf[t])return uf[t];if(!to[t])return t;var i=to[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return uf[t]=i[a];return t}var cg=ua("animationend"),hg=ua("animationiteration"),fg=ua("animationstart"),AA=ua("transitionrun"),wA=ua("transitionstart"),SA=ua("transitioncancel"),dg=ua("transitionend"),mg=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Ni(t,i){mg.set(t,i),it(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},oi=[],no=0,hf=0;function Bu(){for(var t=no,i=hf=no=0;i<t;){var a=oi[i];oi[i++]=null;var l=oi[i];oi[i++]=null;var h=oi[i];oi[i++]=null;var d=oi[i];if(oi[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&pg(a,h,d)}}function qu(t,i,a,l){oi[no++]=t,oi[no++]=i,oi[no++]=a,oi[no++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,i,a,l){return qu(t,i,a,l),Hu(t)}function ca(t,i){return qu(t,null,null,i),Hu(t)}function pg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ut(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hu(t){if(50<kl)throw kl=0,Ed=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var io={};function RA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,a,l){return new RA(t,i,a,l)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ys(t,i){var a=t.alternate;return a===null?(a=Kn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")df(t)&&(_=1);else if(typeof t=="string")_=Dw(t,a,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Kn(31,a,i,h),t.elementType=x,t.lanes=d,t;case ie:return ha(a.children,h,d,i);case W:_=8,h|=24;break;case pe:return t=Kn(12,a,i,h|2),t.elementType=pe,t.lanes=d,t;case Ve:return t=Kn(13,a,i,h),t.elementType=Ve,t.lanes=d,t;case Oe:return t=Kn(19,a,i,h),t.elementType=Oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:_=10;break e;case Ee:_=9;break e;case Re:_=11;break e;case N:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Kn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ha(t,i,a,l){return t=Kn(7,t,l,i),t.lanes=a,t}function mf(t,i,a){return t=Kn(6,t,null,i),t.lanes=a,t}function yg(t){var i=Kn(18,null,null,0);return i.stateNode=t,i}function pf(t,i,a){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var _g=new WeakMap;function li(t,i){if(typeof t=="object"&&t!==null){var a=_g.get(t);return a!==void 0?a:(i={value:t,source:i,stack:bi(i)},_g.set(t,i),i)}return{value:t,source:i,stack:bi(i)}}var so=[],ro=0,Gu=null,ml=0,ui=[],ci=0,ir=null,Yi=1,$i="";function _s(t,i){so[ro++]=ml,so[ro++]=Gu,Gu=t,ml=i}function vg(t,i,a){ui[ci++]=Yi,ui[ci++]=$i,ui[ci++]=ir,ir=t;var l=Yi;t=$i;var h=32-ut(l)-1;l&=~(1<<h),a+=1;var d=32-ut(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Yi=1<<32-ut(i)+h|a<<h|l,$i=d+t}else Yi=1<<d|a<<h|l,$i=t}function gf(t){t.return!==null&&(_s(t,1),vg(t,1,0))}function yf(t){for(;t===Gu;)Gu=so[--ro],so[ro]=null,ml=so[--ro],so[ro]=null;for(;t===ir;)ir=ui[--ci],ui[ci]=null,$i=ui[--ci],ui[ci]=null,Yi=ui[--ci],ui[ci]=null}function Tg(t,i){ui[ci++]=Yi,ui[ci++]=$i,ui[ci++]=ir,Yi=i.id,$i=i.overflow,ir=t}var rn=null,gt=null,Ye=!1,sr=null,hi=!1,_f=Error(r(519));function rr(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(li(i,t)),_f}function Eg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Ot]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Ue(Ll[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),wu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Xs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||P_(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=Si),i=!0):i=!1,i||rr(t,!0)}function bg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:rn=rn.return}}function ao(t){if(t!==rn)return!1;if(!Ye)return bg(t),Ye=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ud(t.type,t.memoizedProps)),a=!a),a&&gt&&rr(t),bg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=K_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=K_(t)}else i===27?(i=gt,vr(t.type)?(t=Bd,Bd=null,gt=t):gt=i):gt=rn?di(t.stateNode.nextSibling):null;return!0}function fa(){gt=rn=null,Ye=!1}function vf(){var t=sr;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),sr=null),t}function pl(t){sr===null?sr=[t]:sr.push(t)}var Tf=M(null),da=null,vs=null;function ar(t,i,a){oe(Tf,i._currentValue),i._currentValue=a}function Ts(t){t._currentValue=Tf.current,K(Tf)}function Ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function bf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Ef(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ef(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function oo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;Qn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&bf(i,t,a,l),i.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){da=t,vs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Ag(da,t)}function Ku(t,i){return da===null&&ma(t),Ag(t,i)}function Ag(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},vs===null){if(t===null)throw Error(r(308));vs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else vs=vs.next=i;return a}var IA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},CA=s.unstable_scheduleCallback,xA=s.unstable_NormalPriority,zt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new IA,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&CA(xA,function(){t.controller.abort()})}var yl=null,wf=0,lo=0,uo=null;function NA(t,i){if(yl===null){var a=yl=[];wf=0,lo=Id(),uo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(wg,wg),i}function wg(){if(--wf===0&&yl!==null){uo!==null&&(uo.status="fulfilled");var t=yl;yl=null,lo=0,uo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Sg=G.S;G.S=function(t,i){l_=vt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&NA(t,i),Sg!==null&&Sg(t,i)};var pa=M(null);function Sf(){var t=pa.current;return t!==null?t:mt.pooledCache}function Yu(t,i){i===null?oe(pa,pa.current):oe(pa,i.pool)}function Rg(){var t=Sf();return t===null?null:{parent:zt._currentValue,pool:t}}var co=Error(r(460)),Rf=Error(r(474)),$u=Error(r(542)),Xu={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Si,Si),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t;default:if(typeof i.status=="string")i.then(Si,Si);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t}throw ya=i,co}}function ga(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ya=a,co):a}}var ya=null;function xg(){if(ya===null)throw Error(r(459));var t=ya;return ya=null,t}function Ng(t){if(t===co||t===$u)throw Error(r(483))}var ho=null,_l=0;function Ju(t){var i=_l;return _l+=1,ho===null&&(ho=[]),Cg(ho,t,i)}function vl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Dg(t){function i(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ys(k,O),k.index=0,k.sibling=null,k}function d(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,P,Y){return O===null||O.tag!==6?(O=mf(P,k.mode,Y),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Y){var ge=P.type;return ge===ie?Q(k,O,P.props.children,Y,P.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&ga(ge)===O.type)?(O=h(O,P.props),vl(O,P),O.return=k,O):(O=Fu(P.type,P.key,P.props,null,k.mode,Y),vl(O,P),O.return=k,O)}function z(k,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=pf(P,k.mode,Y),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,Y,ge){return O===null||O.tag!==7?(O=ha(P,k.mode,Y,ge),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=mf(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Fu(O.type,O.key,O.props,null,k.mode,P),vl(P,O),P.return=k,P;case Z:return O=pf(O,k.mode,P),O.return=k,O;case R:return O=ga(O),X(k,O,P)}if(Dt(O)||U(O))return O=ha(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,Ju(O),P);if(O.$$typeof===_e)return X(k,Ku(k,O),P);Zu(k,O)}return null}function j(k,O,P,Y){var ge=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:T(k,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ge?C(k,O,P,Y):null;case Z:return P.key===ge?z(k,O,P,Y):null;case R:return P=ga(P),j(k,O,P,Y)}if(Dt(P)||U(P))return ge!==null?null:Q(k,O,P,Y,null);if(typeof P.then=="function")return j(k,O,Ju(P),Y);if(P.$$typeof===_e)return j(k,O,Ku(k,P),Y);Zu(k,P)}return null}function H(k,O,P,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(O,k,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return k=k.get(Y.key===null?P:Y.key)||null,C(O,k,Y,ge);case Z:return k=k.get(Y.key===null?P:Y.key)||null,z(O,k,Y,ge);case R:return Y=ga(Y),H(k,O,P,Y,ge)}if(Dt(Y)||U(Y))return k=k.get(P)||null,Q(O,k,Y,ge,null);if(typeof Y.then=="function")return H(k,O,P,Ju(Y),ge);if(Y.$$typeof===_e)return H(k,O,P,Ku(O,Y),ge);Zu(O,Y)}return null}function ce(k,O,P,Y){for(var ge=null,Je=null,fe=O,Me=O=0,qe=null;fe!==null&&Me<P.length;Me++){fe.index>Me?(qe=fe,fe=null):qe=fe.sibling;var Ze=j(k,fe,P[Me],Y);if(Ze===null){fe===null&&(fe=qe);break}t&&fe&&Ze.alternate===null&&i(k,fe),O=d(Ze,O,Me),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze,fe=qe}if(Me===P.length)return a(k,fe),Ye&&_s(k,Me),ge;if(fe===null){for(;Me<P.length;Me++)fe=X(k,P[Me],Y),fe!==null&&(O=d(fe,O,Me),Je===null?ge=fe:Je.sibling=fe,Je=fe);return Ye&&_s(k,Me),ge}for(fe=l(fe);Me<P.length;Me++)qe=H(fe,k,Me,P[Me],Y),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Me:qe.key),O=d(qe,O,Me),Je===null?ge=qe:Je.sibling=qe,Je=qe);return t&&fe.forEach(function(wr){return i(k,wr)}),Ye&&_s(k,Me),ge}function be(k,O,P,Y){if(P==null)throw Error(r(151));for(var ge=null,Je=null,fe=O,Me=O=0,qe=null,Ze=P.next();fe!==null&&!Ze.done;Me++,Ze=P.next()){fe.index>Me?(qe=fe,fe=null):qe=fe.sibling;var wr=j(k,fe,Ze.value,Y);if(wr===null){fe===null&&(fe=qe);break}t&&fe&&wr.alternate===null&&i(k,fe),O=d(wr,O,Me),Je===null?ge=wr:Je.sibling=wr,Je=wr,fe=qe}if(Ze.done)return a(k,fe),Ye&&_s(k,Me),ge;if(fe===null){for(;!Ze.done;Me++,Ze=P.next())Ze=X(k,Ze.value,Y),Ze!==null&&(O=d(Ze,O,Me),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze);return Ye&&_s(k,Me),ge}for(fe=l(fe);!Ze.done;Me++,Ze=P.next())Ze=H(fe,k,Me,Ze.value,Y),Ze!==null&&(t&&Ze.alternate!==null&&fe.delete(Ze.key===null?Me:Ze.key),O=d(Ze,O,Me),Je===null?ge=Ze:Je.sibling=Ze,Je=Ze);return t&&fe.forEach(function(qw){return i(k,qw)}),Ye&&_s(k,Me),ge}function dt(k,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===ie&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var ge=P.key;O!==null;){if(O.key===ge){if(ge=P.type,ge===ie){if(O.tag===7){a(k,O.sibling),Y=h(O,P.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&ga(ge)===O.type){a(k,O.sibling),Y=h(O,P.props),vl(Y,P),Y.return=k,k=Y;break e}a(k,O);break}else i(k,O);O=O.sibling}P.type===ie?(Y=ha(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Fu(P.type,P.key,P.props,null,k.mode,Y),vl(Y,P),Y.return=k,k=Y)}return _(k);case Z:e:{for(ge=P.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),Y=h(O,P.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else i(k,O);O=O.sibling}Y=pf(P,k.mode,Y),Y.return=k,k=Y}return _(k);case R:return P=ga(P),dt(k,O,P,Y)}if(Dt(P))return ce(k,O,P,Y);if(U(P)){if(ge=U(P),typeof ge!="function")throw Error(r(150));return P=ge.call(P),be(k,O,P,Y)}if(typeof P.then=="function")return dt(k,O,Ju(P),Y);if(P.$$typeof===_e)return dt(k,O,Ku(k,P),Y);Zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,P),Y.return=k,k=Y):(a(k,O),Y=mf(P,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,O)}return function(k,O,P,Y){try{_l=0;var ge=dt(k,O,P,Y);return ho=null,ge}catch(fe){if(fe===co||fe===$u)throw fe;var Je=Kn(29,fe,null,k.mode);return Je.lanes=Y,Je.return=k,Je}finally{}}}var _a=Dg(!0),Og=Dg(!1),or=!1;function If(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(t),pg(t,null,a),i}return qu(t,l,i,a),Hu(t)}function Tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,$r(t,a)}}function xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Nf=!1;function El(){if(Nf){var t=uo;if(t!==null)throw t}}function bl(t,i,a,l){Nf=!1;var h=t.updateQueue;or=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=C))}if(d!==null){var X=h.baseState;_=0,Q=z=C=null,T=d;do{var j=T.lane&-536870913,H=j!==T.lane;if(H?(Be&j)===j:(l&j)===j){j!==0&&j===lo&&(Nf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,be=T;j=i;var dt=a;switch(be.tag){case 1:if(ce=be.payload,typeof ce=="function"){X=ce.call(dt,X,j);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=be.payload,j=typeof ce=="function"?ce.call(dt,X,j):ce,j==null)break e;X=w({},X,j);break e;case 2:or=!0}}j=T.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=H,C=X):Q=Q.next=H,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),mr|=_,t.lanes=_,t.memoizedState=X}}function Mg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Vg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mg(a[t],i)}var fo=M(null),Wu=M(0);function kg(t,i){t=xs,oe(Wu,t),oe(fo,i),xs=t|i.baseLanes}function Df(){oe(Wu,xs),oe(fo,fo.current)}function Of(){xs=Wu.current,K(fo),K(Wu)}var Yn=M(null),fi=null;function cr(t){var i=t.alternate;oe(Vt,Vt.current&1),oe(Yn,t),fi===null&&(i===null||fo.current!==null||i.memoizedState!==null)&&(fi=t)}function Mf(t){oe(Vt,Vt.current),oe(Yn,t),fi===null&&(fi=t)}function Ug(t){t.tag===22?(oe(Vt,Vt.current),oe(Yn,t),fi===null&&(fi=t)):hr()}function hr(){oe(Vt,Vt.current),oe(Yn,Yn.current)}function $n(t){K(Yn),fi===t&&(fi=null),K(Vt)}var Vt=M(0);function ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Es=0,De=null,ht=null,jt=null,tc=!1,mo=!1,va=!1,nc=0,Al=0,po=null,OA=0;function Ct(){throw Error(r(321))}function Vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Qn(t[a],i[a]))return!1;return!0}function kf(t,i,a,l,h,d){return Es=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?vy:Xf,va=!1,d=a(l,h),va=!1,mo&&(d=Pg(i,a,l,h)),Lg(t),d}function Lg(t){G.H=Rl;var i=ht!==null&&ht.next!==null;if(Es=0,jt=ht=De=null,tc=!1,Al=0,po=null,i)throw Error(r(300));t===null||Bt||(t=t.dependencies,t!==null&&Qu(t)&&(Bt=!0))}function Pg(t,i,a,l){De=t;var h=0;do{if(mo&&(po=null),Al=0,mo=!1,25<=h)throw Error(r(301));if(h+=1,jt=ht=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Ty,d=i(a,l)}while(mo);return d}function MA(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?wl(i):i,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(De.flags|=1024),i}function Uf(){var t=nc!==0;return nc=0,t}function Lf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pf(t){if(tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}tc=!1}Es=0,jt=ht=De=null,mo=!1,Al=nc=0,po=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?De.memoizedState=jt=t:jt=jt.next=t,jt}function kt(){if(ht===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var i=jt===null?De.memoizedState:jt.next;if(i!==null)jt=i,ht=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},jt===null?De.memoizedState=jt=t:jt=jt.next=t}return jt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var i=Al;return Al+=1,po===null&&(po=[]),t=Cg(po,t,i),i=De,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?vy:Xf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===_e)return an(t)}throw Error(r(438,String(t)))}function zf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function bs(t,i){return typeof i=="function"?i(t):i}function rc(t){var i=kt();return jf(i,ht,t)}function jf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,z=i,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Be&X)===X:(Es&X)===X){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===lo&&(Q=!0);else if((Es&j)===j){z=z.next,j===lo&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=X,_=d):C=C.next=X,De.lanes|=j,mr|=j;X=z.action,va&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=j,_=d):C=C.next=j,De.lanes|=X,mr|=X;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=T,!Qn(d,t.memoizedState)&&(Bt=!0,Q&&(a=uo,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bf(t){var i=kt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Qn(d,i.memoizedState)||(Bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function zg(t,i,a){var l=De,h=kt(),d=Ye;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Qn((ht||h).memoizedState,a);if(_&&(h.memoizedState=a,Bt=!0),h=h.queue,Ff(qg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,go(9,{destroy:void 0},Bg.bind(null,l,h,a,i),null),mt===null)throw Error(r(349));d||(Es&127)!==0||jg(l,i,a)}return a}function jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=ic(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Bg(t,i,a,l){i.value=a,i.getSnapshot=l,Hg(i)&&Fg(t)}function qg(t,i,a){return a(function(){Hg(i)&&Fg(t)})}function Hg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Qn(t,a)}catch{return!0}}function Fg(t){var i=ca(t,2);i!==null&&Vn(i,t,2)}function qf(t){var i=bn();if(typeof t=="function"){var a=t;if(t=a(),va){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:t},i}function Gg(t,i,a,l){return t.baseState=a,jf(t,ht,typeof l=="function"?l:bs)}function VA(t,i,a,l,h){if(lc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Qg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var T=a(h,l),C=G.S;C!==null&&C(_,T),Kg(t,i,T)}catch(z){Hf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),Kg(t,i,d)}catch(z){Hf(t,i,z)}}function Kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yg(t,i,l)},function(l){return Hf(t,i,l)}):Yg(t,i,a)}function Yg(t,i,a){i.status="fulfilled",i.value=a,$g(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Qg(t,a)))}function Hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,$g(i),i=i.next;while(i!==l)}t.action=null}function $g(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xg(t,i){return i}function Jg(t,i){if(Ye){var a=mt.formState;if(a!==null){e:{var l=De;if(Ye){if(gt){t:{for(var h=gt,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=di(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){gt=di(h.nextSibling),l=h.data==="F!";break e}}rr(l)}l=!1}l&&(i=a[0])}}return a=bn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:i},a.queue=l,a=gy.bind(null,De,l),l.dispatch=a,l=qf(!1),d=$f.bind(null,De,!1,l.queue),l=bn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=VA.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Zg(t){var i=kt();return Wg(i,ht,t)}function Wg(t,i,a){if(i=jf(t,i,Xg)[0],t=rc(bs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=wl(i)}catch(_){throw _===co?$u:_}else l=i;i=kt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,go(9,{destroy:void 0},kA.bind(null,h,a),null)),[l,d,t]}function kA(t,i){t.action=i}function ey(t){var i=kt(),a=ht;if(a!==null)return Wg(i,a,t);kt(),i=i.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function go(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=ic(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ty(){return kt().memoizedState}function ac(t,i,a,l){var h=bn();De.flags|=t,h.memoizedState=go(1|i,{destroy:void 0},a,l===void 0?null:l)}function oc(t,i,a,l){var h=kt();l=l===void 0?null:l;var d=h.memoizedState.inst;ht!==null&&l!==null&&Vf(l,ht.memoizedState.deps)?h.memoizedState=go(i,d,a,l):(De.flags|=t,h.memoizedState=go(1|i,d,a,l))}function ny(t,i){ac(8390656,8,t,i)}function Ff(t,i){oc(2048,8,t,i)}function UA(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=ic(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function iy(t){var i=kt().memoizedState;return UA({ref:i,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function sy(t,i){return oc(4,2,t,i)}function ry(t,i){return oc(4,4,t,i)}function ay(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function oy(t,i,a){a=a!=null?a.concat([t]):null,oc(4,4,ay.bind(null,i,t),a)}function Gf(){}function ly(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function uy(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vf(i,l[1]))return l[0];if(l=t(),va){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function Qf(t,i,a){return a===void 0||(Es&1073741824)!==0&&(Be&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=c_(),De.lanes|=t,mr|=t,a)}function cy(t,i,a,l){return Qn(a,i)?a:fo.current!==null?(t=Qf(t,a,l),Qn(t,i)||(Bt=!0),t):(Es&42)===0||(Es&1073741824)!==0&&(Be&261930)===0?(Bt=!0,t.memoizedState=a):(t=c_(),De.lanes|=t,mr|=t,i)}function hy(t,i,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,$f(t,!1,i,a);try{var C=h(),z=G.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=DA(C,l);Sl(t,i,Q,Zn(t))}else Sl(t,i,l,Zn(t))}catch(X){Sl(t,i,{then:function(){},status:"rejected",reason:X},Zn())}finally{re.p=d,_!==null&&T.types!==null&&(_.types=T.types),G.T=_}}function LA(){}function Kf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=fy(t).queue;hy(t,h,i,me,a===null?LA:function(){return dy(t),a(l)})}function fy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function dy(t){var i=fy(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},Zn())}function Yf(){return an(ql)}function my(){return kt().memoizedState}function py(){return kt().memoizedState}function PA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Zn();t=lr(a);var l=ur(i,t,a);l!==null&&(Vn(l,i,a),Tl(l,i,a)),i={cache:Af()},t.payload=i;return}i=i.return}}function zA(t,i,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?yy(i,a):(a=ff(t,i,a,l),a!==null&&(Vn(a,t,l),_y(a,i,l)))}function gy(t,i,a){var l=Zn();Sl(t,i,a,l)}function Sl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))yy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Qn(T,_))return qu(t,i,h,0),mt===null&&Bu(),!1}catch{}finally{}if(a=ff(t,i,h,l),a!==null)return Vn(a,t,l),_y(a,i,l),!0}return!1}function $f(t,i,a,l){if(l={lane:2,revertLane:Id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(r(479))}else i=ff(t,a,l,2),i!==null&&Vn(i,t,2)}function lc(t){var i=t.alternate;return t===De||i!==null&&i===De}function yy(t,i){mo=tc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function _y(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,$r(t,a)}}var Rl={readContext:an,use:sc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Rl.useEffectEvent=Ct;var vy={readContext:an,use:sc,useCallback:function(t,i){return bn().memoizedState=[t,i===void 0?null:i],t},useContext:an,useEffect:ny,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ac(4194308,4,ay.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var a=bn();i=i===void 0?null:i;var l=t();if(va){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=bn();if(a!==void 0){var h=a(i);if(va){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zA.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=bn();return t={current:t},i.memoizedState=t},useState:function(t){t=qf(t);var i=t.queue,a=gy.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(t,i){var a=bn();return Qf(a,t,i)},useTransition:function(){var t=qf(!1);return t=hy.bind(null,De,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=bn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),mt===null)throw Error(r(349));(Be&127)!==0||jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ny(qg.bind(null,l,d,t),[t]),l.flags|=2048,go(9,{destroy:void 0},Bg.bind(null,l,d,a,i),null),a},useId:function(){var t=bn(),i=mt.identifierPrefix;if(Ye){var a=$i,l=Yi;a=(l&~(1<<32-ut(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=OA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t){var i=bn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$f.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:zf,useCacheRefresh:function(){return bn().memoizedState=PA.bind(null,De)},useEffectEvent:function(t){var i=bn(),a={impl:t};return i.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:an,use:sc,useCallback:ly,useContext:an,useEffect:Ff,useImperativeHandle:oy,useInsertionEffect:sy,useLayoutEffect:ry,useMemo:uy,useReducer:rc,useRef:ty,useState:function(){return rc(bs)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=kt();return cy(a,ht.memoizedState,t,i)},useTransition:function(){var t=rc(bs)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:zg,useId:my,useHostTransitionStatus:Yf,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,i){var a=kt();return Gg(a,ht,t,i)},useMemoCache:zf,useCacheRefresh:py};Xf.useEffectEvent=iy;var Ty={readContext:an,use:sc,useCallback:ly,useContext:an,useEffect:Ff,useImperativeHandle:oy,useInsertionEffect:sy,useLayoutEffect:ry,useMemo:uy,useReducer:Bf,useRef:ty,useState:function(){return Bf(bs)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=kt();return ht===null?Qf(a,t,i):cy(a,ht.memoizedState,t,i)},useTransition:function(){var t=Bf(bs)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:zg,useId:my,useHostTransitionStatus:Yf,useFormState:ey,useActionState:ey,useOptimistic:function(t,i){var a=kt();return ht!==null?Gg(a,ht,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:py};Ty.useEffectEvent=iy;function Jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Zn(),h=lr(l);h.payload=i,a!=null&&(h.callback=a),i=ur(t,h,l),i!==null&&(Vn(i,t,l),Tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Zn(),h=lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ur(t,h,l),i!==null&&(Vn(i,t,l),Tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Zn(),l=lr(a);l.tag=2,i!=null&&(l.callback=i),i=ur(t,l,a),i!==null&&(Vn(i,t,a),Tl(i,t,a))}};function Ey(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!fl(a,l)||!fl(h,d):!0}function by(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Zf.enqueueReplaceState(i,i.state,null)}function Ta(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ay(t){ju(t)}function wy(t){console.error(t)}function Sy(t){ju(t)}function uc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(t,i,a){return a=lr(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,i)},a}function Iy(t){return t=lr(t),t.tag=3,t}function Cy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ry(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ry(i,a,l),typeof h!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function jA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&oo(i,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return fi===null?Ec():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Xu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wd(t,l,h)),!1;case 22:return a.flags|=65536,l===Xu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wd(t,l,h)),!1}throw Error(r(435,a.tag))}return wd(t,l,h),Ec(),!1}if(Ye)return i=Yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(t=Error(r(422),{cause:l}),pl(li(t,a)))):(l!==_f&&(i=Error(r(423),{cause:l}),pl(li(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=li(l,a),h=Wf(t.stateNode,l,h),xf(t,h),xt!==4&&(xt=2)),!1;var d=Error(r(520),{cause:l});if(d=li(d,a),Vl===null?Vl=[d]:Vl.push(d),xt!==4&&(xt=2),i===null)return!0;l=li(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Wf(a.stateNode,l,t),xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(pr===null||!pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Iy(h),Cy(h,t,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var ed=Error(r(461)),Bt=!1;function on(t,i,a,l){i.child=t===null?Og(i,null,a,l):_a(i,t.child,a,l)}function xy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ma(i),l=kf(t,i,a,_,d,h),T=Uf(),t!==null&&!Bt?(Lf(t,i,h),As(t,i,h)):(Ye&&T&&gf(i),i.flags|=1,on(t,i,l,h),i.child)}function Ny(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Dy(t,i,d,l,h)):(t=Fu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ld(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(_,l)&&t.ref===i.ref)return As(t,i,h)}return i.flags|=1,t=ys(d,l),t.ref=i.ref,t.return=i,i.child=t}function Dy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=l=d,ld(t,h))(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,As(t,i,h)}return td(t,i,a,l,h)}function Oy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return My(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?kg(i,d):Df(),Ug(i);else return l=i.lanes=536870912,My(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Yu(i,d.cachePool),kg(i,d),hr(),i.memoizedState=null):(t!==null&&Yu(i,null),Df(),hr());return on(t,i,h,a),i.child}function Il(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function My(t,i,a,l,h){var d=Sf();return d=d===null?null:{parent:zt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Yu(i,null),Df(),Ug(i),t!==null&&oo(t,i,l,!0),i.childLanes=h,null}function cc(t,i){return i=fc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Vy(t,i,a){return _a(i,t.child,null,a),t=cc(i,i.pendingProps),t.flags|=2,$n(i),i.memoizedState=null,t}function BA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=cc(i,l),i.lanes=536870912,Il(null,t);if(Mf(i),(t=gt)?(t=Q_(t,hi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ir!==null?{id:Yi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=yg(t),a.return=i,i.child=a,rn=i,gt=null)):t=null,t===null)throw rr(i);return i.lanes=536870912,null}return cc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Mf(i),h)if(i.flags&256)i.flags&=-257,i=Vy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Bt||oo(t,i,a,!1),h=(a&t.childLanes)!==0,Bt||h){if(l=mt,l!==null&&(_=Xr(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ca(t,_),Vn(l,t,_),ed;Ec(),i=Vy(t,i,a)}else t=d.treeContext,gt=di(_.nextSibling),rn=i,Ye=!0,sr=null,hi=!1,t!==null&&Tg(i,t),i=cc(i,l),i.flags|=4096;return i}return t=ys(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function hc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function td(t,i,a,l,h){return ma(i),a=kf(t,i,a,l,void 0,h),l=Uf(),t!==null&&!Bt?(Lf(t,i,h),As(t,i,h)):(Ye&&l&&gf(i),i.flags|=1,on(t,i,a,h),i.child)}function ky(t,i,a,l,h,d){return ma(i),i.updateQueue=null,a=Pg(i,l,a,h),Lg(t),l=Uf(),t!==null&&!Bt?(Lf(t,i,d),As(t,i,d)):(Ye&&l&&gf(i),i.flags|=1,on(t,i,a,d),i.child)}function Uy(t,i,a,l,h){if(ma(i),i.stateNode===null){var d=io,_=a.contextType;typeof _=="object"&&_!==null&&(d=an(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},If(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?an(_):io,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Zf.enqueueReplaceState(d,d.state,null),bl(i,l,d,h),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=Ta(a,T);d.props=C;var z=d.context,Q=a.contextType;_=io,typeof Q=="object"&&Q!==null&&(_=an(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&by(i,d,l,_),or=!1;var j=i.memoizedState;d.state=j,bl(i,l,d,h),El(),z=i.memoizedState,T||j!==z||or?(typeof X=="function"&&(Jf(i,a,X,l),z=i.memoizedState),(C=or||Ey(i,a,C,l,j,z,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Cf(t,i),_=i.memoizedProps,Q=Ta(a,_),d.props=Q,X=i.pendingProps,j=d.context,z=a.contextType,C=io,typeof z=="object"&&z!==null&&(C=an(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||j!==C)&&by(i,d,l,C),or=!1,j=i.memoizedState,d.state=j,bl(i,l,d,h),El();var H=i.memoizedState;_!==X||j!==H||or||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof T=="function"&&(Jf(i,a,T,l),H=i.memoizedState),(Q=or||Ey(i,a,Q,l,j,H,C)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,hc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=_a(i,t.child,null,h),i.child=_a(i,null,a,h)):on(t,i,a,h),i.memoizedState=d.state,t=i.child):t=As(t,i,h),t}function Ly(t,i,a,l){return fa(),i.flags|=256,on(t,i,a,l),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(t){return{baseLanes:t,cachePool:Rg()}}function sd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Jn),t}function Py(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ye){if(h?cr(i):hr(),(t=gt)?(t=Q_(t,hi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ir!==null?{id:Yi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=yg(t),a.return=i,i.child=a,rn=i,gt=null)):t=null,t===null)throw rr(i);return jd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(hr(),h=i.mode,T=fc({mode:"hidden",children:T},h),l=ha(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=id(a),l.childLanes=sd(t,_,a),i.memoizedState=nd,Il(null,l)):(cr(i),rd(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(cr(i),i.flags&=-257,i=ad(t,i,a)):i.memoizedState!==null?(hr(),i.child=t.child,i.flags|=128,i=null):(hr(),T=l.fallback,h=i.mode,l=fc({mode:"visible",children:l.children},h),T=ha(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,_a(i,t.child,null,a),l=i.child,l.memoizedState=id(a),l.childLanes=sd(t,_,a),i.memoizedState=nd,i=Il(null,l));else if(cr(i),jd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,pl({value:l,source:null,stack:null}),i=ad(t,i,a)}else if(Bt||oo(t,i,a,!1),_=(a&t.childLanes)!==0,Bt||_){if(_=mt,_!==null&&(l=Xr(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,ca(t,l),Vn(_,t,l),ed;zd(T)||Ec(),i=ad(t,i,a)}else zd(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,gt=di(T.nextSibling),rn=i,Ye=!0,sr=null,hi=!1,t!==null&&Tg(i,t),i=rd(i,l.children),i.flags|=4096);return i}return h?(hr(),T=l.fallback,h=i.mode,C=t.child,z=C.sibling,l=ys(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=ys(z,T):(T=ha(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Il(null,l),l=i.child,T=t.child.memoizedState,T===null?T=id(a):(h=T.cachePool,h!==null?(C=zt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Rg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=sd(t,_,a),i.memoizedState=nd,Il(t.child,l)):(cr(i),a=t.child,t=a.sibling,a=ys(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function rd(t,i){return i=fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function fc(t,i){return t=Kn(22,t,null,i),t.lanes=0,t}function ad(t,i,a){return _a(i,t.child,null,a),t=rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function zy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ef(t.return,i,a)}function od(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function jy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Vt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(Vt,_),on(t,i,l,a),l=Ye?ml:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zy(t,a,i);else if(t.tag===19)zy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}od(i,!0,a,null,d,l);break;case"together":od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function As(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),mr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(oo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ys(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ys(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function qA(t,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),ar(i,zt,t.memoizedState.cache),fa();break;case 27:case 5:Ti(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Py(t,i,a):(cr(i),t=As(t,i,a),t!==null?t.sibling:null);cr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(oo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return jy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Vt,Vt.current),l)break;return null;case 22:return i.lanes=0,Oy(t,i,a,i.pendingProps);case 24:ar(i,zt,t.memoizedState.cache)}return As(t,i,a)}function By(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Bt=!0;else{if(!ld(t,a)&&(i.flags&128)===0)return Bt=!1,qA(t,i,a);Bt=(t.flags&131072)!==0}else Bt=!1,Ye&&(i.flags&1048576)!==0&&vg(i,ml,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ga(i.elementType),i.type=t,typeof t=="function")df(t)?(l=Ta(t,l),i.tag=1,i=Uy(null,i,t,l,a)):(i.tag=0,i=td(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Re){i.tag=11,i=xy(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=Ny(null,i,t,l,a);break e}}throw i=ot(t)||t,Error(r(306,i,""))}}return i;case 0:return td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ta(l,i.pendingProps),Uy(t,i,l,h,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Cf(t,i),bl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ar(i,zt,l),l!==d.cache&&bf(i,[zt],a,!0),El(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ly(t,i,l,a);break e}else if(l!==h){h=li(Error(r(424)),i),pl(h),i=Ly(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=di(t.firstChild),rn=i,Ye=!0,sr=null,hi=!0,a=Og(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fa(),l===h){i=As(t,i,a);break e}on(t,i,l,a)}i=i.child}return i;case 26:return hc(t,i),t===null?(a=Z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ye||(a=i.type,t=i.pendingProps,l=Cc(ve.current).createElement(a),l[It]=i,l[Ot]=t,ln(l,a,t),Te(l),i.stateNode=l):i.memoizedState=Z_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ti(i),t===null&&Ye&&(l=i.stateNode=$_(i.type,i.pendingProps,ve.current),rn=i,hi=!0,h=gt,vr(i.type)?(Bd=h,gt=di(l.firstChild)):gt=h),on(t,i,i.pendingProps.children,a),hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ye&&((h=l=gt)&&(l=_w(l,i.type,i.pendingProps,hi),l!==null?(i.stateNode=l,rn=i,gt=di(l.firstChild),hi=!1,h=!0):h=!1),h||rr(i)),Ti(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Ud(h,d)?l=null:_!==null&&Ud(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=kf(t,i,MA,null,null,a),ql._currentValue=h),hc(t,i),on(t,i,l,a),i.child;case 6:return t===null&&Ye&&((t=a=gt)&&(a=vw(a,i.pendingProps,hi),a!==null?(i.stateNode=a,rn=i,gt=null,t=!0):t=!1),t||rr(i)),null;case 13:return Py(t,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=_a(i,null,l,a):on(t,i,l,a),i.child;case 11:return xy(t,i,i.type,i.pendingProps,a);case 7:return on(t,i,i.pendingProps,a),i.child;case 8:return on(t,i,i.pendingProps.children,a),i.child;case 12:return on(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ar(i,i.type,l.value),on(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ma(i),h=an(h),l=l(h),i.flags|=1,on(t,i,l,a),i.child;case 14:return Ny(t,i,i.type,i.pendingProps,a);case 15:return Dy(t,i,i.type,i.pendingProps,a);case 19:return jy(t,i,a);case 31:return BA(t,i,a);case 22:return Oy(t,i,a,i.pendingProps);case 24:return ma(i),l=an(zt),t===null?(h=Sf(),h===null&&(h=mt,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},If(i),ar(i,zt,h)):((t.lanes&a)!==0&&(Cf(t,i),bl(i,null,null,a),El()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ar(i,zt,l)):(l=d.cache,ar(i,zt,l),l!==h.cache&&bf(i,[zt],a,!0))),on(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ws(t){t.flags|=4}function ud(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(m_())t.flags|=8192;else throw ya=Xu,Rf}else t.flags&=-16777217}function qy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iv(i))if(m_())t.flags|=8192;else throw ya=Xu,Rf}function dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?qa():536870912,t.lanes|=i,To|=i)}function Cl(t,i){if(!Ye)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function HA(t,i,a){var l=i.pendingProps;switch(yf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ts(zt),ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ao(i)?ws(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vf())),yt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ws(i),d!==null?(yt(i),qy(i,d)):(yt(i),ud(i,h,null,l,a))):d?d!==t.memoizedState?(ws(i),yt(i),qy(i,d)):(yt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ws(i),yt(i),ud(i,h,t,l,a)),null;case 27:if(os(i),a=ve.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ws(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return yt(i),null}t=te.current,ao(i)?Eg(i):(t=$_(h,l,a),i.stateNode=t,ws(i))}return yt(i),null;case 5:if(os(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ws(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return yt(i),null}if(d=te.current,ao(i))Eg(i);else{var _=Cc(ve.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[It]=i,d[Ot]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(ln(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ws(i)}}return yt(i),ud(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ws(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=ve.current,ao(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||P_(t.nodeValue,a)),t||rr(i,!0)}else t=Cc(t).createTextNode(l),t[It]=i,i.stateNode=t}return yt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ao(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[It]=i}else fa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),t=!1}else a=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?($n(i),i):($n(i),null);if((i.flags&128)!==0)throw Error(r(558))}return yt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ao(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[It]=i}else fa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),h=!1}else h=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?($n(i),i):($n(i),null)}return $n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),yt(i),null);case 4:return ze(),t===null&&Dd(i.stateNode.containerInfo),yt(i),null;case 10:return Ts(i.type),yt(i),null;case 19:if(K(Vt),l=i.memoizedState,l===null)return yt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Cl(l,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ec(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)gg(a,t),a=a.sibling;return oe(Vt,Vt.current&1|2),Ye&&_s(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&vt()>_c&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ec(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,dc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ye)return yt(i),null}else 2*vt()-l.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=vt(),t.sibling=null,a=Vt.current,oe(Vt,h?a&1|2:a&1),Ye&&_s(i,l.treeForkCount),t):(yt(i),null);case 22:case 23:return $n(i),Of(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&K(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ts(zt),yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function FA(t,i){switch(yf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ts(zt),ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return os(i),null;case 31:if(i.memoizedState!==null){if($n(i),i.alternate===null)throw Error(r(340));fa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if($n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));fa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(Vt),null;case 4:return ze(),null;case 10:return Ts(i.type),null;case 22:case 23:return $n(i),Of(),t!==null&&K(pa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ts(zt),null;case 25:return null;default:return null}}function Hy(t,i){switch(yf(i),i.tag){case 3:Ts(zt),ze();break;case 26:case 27:case 5:os(i);break;case 4:ze();break;case 31:i.memoizedState!==null&&$n(i);break;case 13:$n(i);break;case 19:K(Vt);break;case 10:Ts(i.type);break;case 22:case 23:$n(i),Of(),t!==null&&K(pa);break;case 24:Ts(zt)}}function xl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){at(i,i.return,T)}}function fr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(Q){at(h,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){at(i,i.return,Q)}}function Fy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Vg(i,a)}catch(l){at(t,t.return,l)}}}function Gy(t,i,a){a.props=Ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,i,l)}}function Nl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,i,h)}}function Xi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,i,h)}else a.current=null}function Qy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function cd(t,i,a){try{var l=t.stateNode;fw(l,t.type,a,i),l[Ot]=i}catch(h){at(t,t.return,h)}}function Ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vr(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Si));else if(l!==4&&(l===27&&vr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(fd(t,i,a),t=t.sibling;t!==null;)fd(t,i,a),t=t.sibling}function mc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&vr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,i,a),t=t.sibling;t!==null;)mc(t,i,a),t=t.sibling}function Yy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ln(i,l,a),i[It]=t,i[Ot]=a}catch(d){at(t,t.return,d)}}var Ss=!1,qt=!1,dd=!1,$y=typeof WeakSet=="function"?WeakSet:Set,en=null;function GA(t,i){if(t=t.containerInfo,Vd=kc,t=og(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,z=0,Q=0,X=t,j=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=_+h),X!==d||l!==0&&X.nodeType!==3||(C=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===t)break t;if(j===a&&++z===h&&(T=_),j===d&&++Q===l&&(C=_),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},kc=!1,en=i;en!==null;)if(i=en,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,en=t;else for(;en!==null;){switch(i=en,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ta(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){at(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,en=t;break}en=i.return}}function Xy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Is(t,a),l&4&&xl(5,a);break;case 1:if(Is(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){at(a,a.return,_)}else{var h=Ta(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){at(a,a.return,_)}}l&64&&Fy(a),l&512&&Nl(a,a.return);break;case 3:if(Is(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vg(t,i)}catch(_){at(a,a.return,_)}}break;case 27:i===null&&l&4&&Yy(a);case 26:case 5:Is(t,a),i===null&&l&4&&Qy(a),l&512&&Nl(a,a.return);break;case 12:Is(t,a);break;case 31:Is(t,a),l&4&&Wy(t,a);break;case 13:Is(t,a),l&4&&e_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ew.bind(null,a),Tw(t,a))));break;case 22:if(l=a.memoizedState!==null||Ss,!l){i=i!==null&&i.memoizedState!==null||qt,h=Ss;var d=qt;Ss=l,(qt=i)&&!d?Cs(t,a,(a.subtreeFlags&8772)!==0):Is(t,a),Ss=h,qt=d}break;case 30:break;default:Is(t,a)}}function Jy(t){var i=t.alternate;i!==null&&(t.alternate=null,Jy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&B(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,Nn=!1;function Rs(t,i,a){for(a=a.child;a!==null;)Zy(t,i,a),a=a.sibling}function Zy(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 26:qt||Xi(a,i),Rs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qt||Xi(a,i);var l=wt,h=Nn;vr(a.type)&&(wt=a.stateNode,Nn=!1),Rs(t,i,a),zl(a.stateNode),wt=l,Nn=h;break;case 5:qt||Xi(a,i);case 6:if(l=wt,h=Nn,wt=null,Rs(t,i,a),wt=l,Nn=h,wt!==null)if(Nn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(a.stateNode)}catch(d){at(a,i,d)}else try{wt.removeChild(a.stateNode)}catch(d){at(a,i,d)}break;case 18:wt!==null&&(Nn?(t=wt,F_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Co(t)):F_(wt,a.stateNode));break;case 4:l=wt,h=Nn,wt=a.stateNode.containerInfo,Nn=!0,Rs(t,i,a),wt=l,Nn=h;break;case 0:case 11:case 14:case 15:fr(2,a,i),qt||fr(4,a,i),Rs(t,i,a);break;case 1:qt||(Xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gy(a,i,l)),Rs(t,i,a);break;case 21:Rs(t,i,a);break;case 22:qt=(l=qt)||a.memoizedState!==null,Rs(t,i,a),qt=l;break;default:Rs(t,i,a)}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Co(t)}catch(a){at(i,i.return,a)}}}function e_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(a){at(i,i.return,a)}}function QA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new $y),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new $y),i;default:throw Error(r(435,t.tag))}}function pc(t,i){var a=QA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=tw.bind(null,t,l);l.then(h,h)}})}function Dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(vr(T.type)){wt=T.stateNode,Nn=!1;break e}break;case 5:wt=T.stateNode,Nn=!1;break e;case 3:case 4:wt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(wt===null)throw Error(r(160));Zy(d,_,h),wt=null,Nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)t_(i,t),i=i.sibling}var Di=null;function t_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(i,t),On(t),l&4&&(fr(3,t,t.return),xl(3,t),fr(5,t,t.return));break;case 1:Dn(i,t),On(t),l&512&&(qt||a===null||Xi(a,a.return)),l&64&&Ss&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Di;if(Dn(i,t),On(t),l&512&&(qt||a===null||Xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[In]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,l,a),d[It]=t,Te(d),l=d;break e;case"link":var _=tv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;case"meta":if(_=tv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[It]=t,Te(d),l=d}t.stateNode=l}else nv(h,t.type,t.stateNode);else t.stateNode=ev(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nv(h,t.type,t.stateNode):ev(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dn(i,t),On(t),l&512&&(qt||a===null||Xi(a,a.return)),a!==null&&l&4&&cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dn(i,t),On(t),l&512&&(qt||a===null||Xi(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(ce){at(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(dd=!0);break;case 6:if(Dn(i,t),On(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){at(t,t.return,ce)}}break;case 3:if(Dc=null,h=Di,Di=xc(i.containerInfo),Dn(i,t),Di=h,On(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(i.containerInfo)}catch(ce){at(t,t.return,ce)}dd&&(dd=!1,n_(t));break;case 4:l=Di,Di=xc(t.stateNode.containerInfo),Dn(i,t),On(t),Di=l;break;case 12:Dn(i,t),On(t);break;case 31:Dn(i,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 13:Dn(i,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=vt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Ss,Q=qt;if(Ss=z||h,qt=Q||C,Dn(i,t),qt=Q,Ss=z,On(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Ss||qt||Ea(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ce){at(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){at(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?G_(H,!0):G_(C.stateNode,!1)}catch(ce){at(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pc(t,a))));break;case 19:Dn(i,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 30:break;case 21:break;default:Dn(i,t),On(t)}}function On(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ky(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=hd(t);mc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(xn(_,""),a.flags&=-33);var T=hd(t);mc(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=hd(t);fd(t,z,C);break;default:throw Error(r(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function n_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;n_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Is(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(t,i.alternate,i),i=i.sibling}function Ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:fr(4,i,i.return),Ea(i);break;case 1:Xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Gy(i,i.return,a),Ea(i);break;case 27:zl(i.stateNode);case 26:case 5:Xi(i,i.return),Ea(i);break;case 22:i.memoizedState===null&&Ea(i);break;case 30:Ea(i);break;default:Ea(i)}t=t.sibling}}function Cs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Cs(h,d,a),xl(4,d);break;case 1:if(Cs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Mg(C[h],T)}catch(z){at(l,l.return,z)}}a&&_&64&&Fy(d),Nl(d,d.return);break;case 27:Yy(d);case 26:case 5:Cs(h,d,a),a&&l===null&&_&4&&Qy(d),Nl(d,d.return);break;case 12:Cs(h,d,a);break;case 31:Cs(h,d,a),a&&_&4&&Wy(h,d);break;case 13:Cs(h,d,a),a&&_&4&&e_(h,d);break;case 22:d.memoizedState===null&&Cs(h,d,a),Nl(d,d.return);break;case 30:break;default:Cs(h,d,a)}i=i.sibling}}function md(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t))}function Oi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i_(t,i,a,l),i=i.sibling}function i_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Oi(t,i,a,l),h&2048&&xl(9,i);break;case 1:Oi(t,i,a,l);break;case 3:Oi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t)));break;case 12:if(h&2048){Oi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(i,i.return,C)}}else Oi(t,i,a,l);break;case 31:Oi(t,i,a,l);break;case 13:Oi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Oi(t,i,a,l):Dl(t,i):d._visibility&2?Oi(t,i,a,l):(d._visibility|=2,yo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&md(_,i);break;case 24:Oi(t,i,a,l),h&2048&&pd(i.alternate,i);break;default:Oi(t,i,a,l)}}function yo(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:yo(d,_,T,C,h),xl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?yo(d,_,T,C,h):Dl(d,_):(Q._visibility|=2,yo(d,_,T,C,h)),h&&z&2048&&md(_.alternate,_);break;case 24:yo(d,_,T,C,h),h&&z&2048&&pd(_.alternate,_);break;default:yo(d,_,T,C,h)}i=i.sibling}}function Dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Dl(a,l),h&2048&&md(l.alternate,l);break;case 24:Dl(a,l),h&2048&&pd(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var Ol=8192;function _o(t,i,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)s_(t,i,a),t=t.sibling}function s_(t,i,a){switch(t.tag){case 26:_o(t,i,a),t.flags&Ol&&t.memoizedState!==null&&Ow(a,Di,t.memoizedState,t.memoizedProps);break;case 5:_o(t,i,a);break;case 3:case 4:var l=Di;Di=xc(t.stateNode.containerInfo),_o(t,i,a),Di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,_o(t,i,a),Ol=l):_o(t,i,a));break;default:_o(t,i,a)}}function r_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,o_(l,t)}r_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)a_(t),t=t.sibling}function a_(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&fr(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):Ml(t);break;default:Ml(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,o_(l,t)}r_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:fr(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function o_(t,i){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:fr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else e:for(a=t;en!==null;){l=en;var h=l.sibling,d=l.return;if(Jy(l),l===a){en=null;break e}if(h!==null){h.return=d,en=h;break e}en=d}}}var KA={getCacheForType:function(t){var i=an(zt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return an(zt).controller.signal}},YA=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,ke=null,Be=0,rt=0,Xn=null,dr=!1,vo=!1,gd=!1,xs=0,xt=0,mr=0,ba=0,yd=0,Jn=0,To=0,Vl=null,Mn=null,_d=!1,yc=0,l_=0,_c=1/0,vc=null,pr=null,$t=0,gr=null,Eo=null,Ns=0,vd=0,Td=null,u_=null,kl=0,Ed=null;function Zn(){return(et&2)!==0&&Be!==0?Be&-Be:G.T!==null?Id():Ha()}function c_(){if(Jn===0)if((Be&536870912)===0||Ye){var t=zi;zi<<=1,(zi&3932160)===0&&(zi=262144),Jn=t}else Jn=536870912;return t=Yn.current,t!==null&&(t.flags|=32),Jn}function Vn(t,i,a){(t===mt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(bo(t,0),yr(t,Be,Jn,!1)),cs(t,a),((et&2)===0||t!==mt)&&(t===mt&&((et&2)===0&&(ba|=a),xt===4&&yr(t,Be,Jn,!1)),Ji(t))}function h_(t,i,a){if((et&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||dn(t,i),h=l?JA(t,i):Ad(t,i,!0),d=l;do{if(h===0){vo&&!l&&yr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!$A(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Vl;var C=T.current.memoizedState.isDehydrated;if(C&&(bo(T,_).flags|=256),_=Ad(T,_,!1),_!==2){if(gd&&!C){T.errorRecoveryDisabledLanes|=d,ba|=d,h=4;break e}d=Mn,Mn=h,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){bo(t,0),yr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:yr(l,i,Jn,!dr);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=yc+300-vt(),10<h)){if(yr(l,i,Jn,!dr),Jt(l,0,!0)!==0)break e;Ns=i,l.timeoutHandle=q_(f_.bind(null,l,a,Mn,vc,_d,i,Jn,ba,To,dr,d,"Throttled",-0,0),h);break e}f_(l,a,Mn,vc,_d,i,Jn,ba,To,dr,d,null,-0,0)}}break}while(!0);Ji(t)}function f_(t,i,a,l,h,d,_,T,C,z,Q,X,j,H){if(t.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},s_(i,d,X);var ce=(d&62914560)===d?yc-vt():(d&4194048)===d?l_-vt():0;if(ce=Mw(X,ce),ce!==null){Ns=d,t.cancelPendingCommit=ce(T_.bind(null,t,i,d,a,l,h,_,T,C,Q,X,null,j,H)),yr(t,d,_,!z);return}}T_(t,i,d,a,l,h,_,T,C)}function $A(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Qn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yr(t,i,a,l){i&=~yd,i&=~ba,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ut(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&hs(t,a,i)}function Tc(){return(et&6)===0?(Ul(0),!1):!0}function bd(){if(ke!==null){if(rt===0)var t=ke.return;else t=ke,vs=da=null,Pf(t),ho=null,_l=0,t=ke;for(;t!==null;)Hy(t.alternate,t),t=t.return;ke=null}}function bo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ns=0,bd(),mt=t,ke=a=ys(t.current,null),Be=i,rt=0,Xn=null,dr=!1,vo=dn(t,i),gd=!1,To=Jn=yd=ba=mr=xt=0,Mn=Vl=null,_d=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ut(l),d=1<<h;i|=t[h],l&=~d}return xs=i,Bu(),a}function d_(t,i){De=null,G.H=Rl,i===co||i===$u?(i=xg(),rt=3):i===Rf?(i=xg(),rt=4):rt=i===ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xn=i,ke===null&&(xt=1,uc(t,li(i,t.current)))}function m_(){var t=Yn.current;return t===null?!0:(Be&4194048)===Be?fi===null:(Be&62914560)===Be||(Be&536870912)!==0?t===fi:!1}function p_(){var t=G.H;return G.H=Rl,t===null?Rl:t}function g_(){var t=G.A;return G.A=KA,t}function Ec(){xt=4,dr||(Be&4194048)!==Be&&Yn.current!==null||(vo=!0),(mr&134217727)===0&&(ba&134217727)===0||mt===null||yr(mt,Be,Jn,!1)}function Ad(t,i,a){var l=et;et|=2;var h=p_(),d=g_();(mt!==t||Be!==i)&&(vc=null,bo(t,i)),i=!1;var _=xt;e:do try{if(rt!==0&&ke!==null){var T=ke,C=Xn;switch(rt){case 8:bd(),_=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(i=!0);var z=rt;if(rt=0,Xn=null,Ao(t,T,C,z),a&&vo){_=0;break e}break;default:z=rt,rt=0,Xn=null,Ao(t,T,C,z)}}XA(),_=xt;break}catch(Q){d_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,vs=da=null,et=l,G.H=h,G.A=d,ke===null&&(mt=null,Be=0,Bu()),_}function XA(){for(;ke!==null;)y_(ke)}function JA(t,i){var a=et;et|=2;var l=p_(),h=g_();mt!==t||Be!==i?(vc=null,_c=vt()+500,bo(t,i)):vo=dn(t,i);e:do try{if(rt!==0&&ke!==null){i=ke;var d=Xn;t:switch(rt){case 1:rt=0,Xn=null,Ao(t,i,d,1);break;case 2:case 9:if(Ig(d)){rt=0,Xn=null,__(i);break}i=function(){rt!==2&&rt!==9||mt!==t||(rt=7),Ji(t)},d.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Ig(d)?(rt=0,Xn=null,__(i)):(rt=0,Xn=null,Ao(t,i,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var T=ke;if(_?iv(_):T.stateNode.complete){rt=0,Xn=null;var C=T.sibling;if(C!==null)ke=C;else{var z=T.return;z!==null?(ke=z,bc(z)):ke=null}break t}}rt=0,Xn=null,Ao(t,i,d,5);break;case 6:rt=0,Xn=null,Ao(t,i,d,6);break;case 8:bd(),xt=6;break e;default:throw Error(r(462))}}ZA();break}catch(Q){d_(t,Q)}while(!0);return vs=da=null,G.H=l,G.A=h,et=a,ke!==null?0:(mt=null,Be=0,Bu(),xt)}function ZA(){for(;ke!==null&&!ja();)y_(ke)}function y_(t){var i=By(t.alternate,t,xs);t.memoizedProps=t.pendingProps,i===null?bc(t):ke=i}function __(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ky(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=ky(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Pf(i);default:Hy(a,i),i=ke=gg(i,xs),i=By(a,i,xs)}t.memoizedProps=t.pendingProps,i===null?bc(t):ke=i}function Ao(t,i,a,l){vs=da=null,Pf(i),ho=null,_l=0;var h=i.return;try{if(jA(t,h,i,a,Be)){xt=1,uc(t,li(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;xt=1,uc(t,li(a,t.current)),ke=null;return}i.flags&32768?(Ye||l===1?t=!0:vo||(Be&536870912)!==0?t=!1:(dr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){v_(i,dr);return}t=i.return;var a=HA(i.alternate,i,xs);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);xt===0&&(xt=5)}function v_(t,i){do{var a=FA(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);xt=6,ke=null}function T_(t,i,a,l,h,d,_,T,C){t.cancelPendingCommit=null;do Ac();while($t!==0);if((et&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=hf,Wo(t,a,d,_,T,C),t===mt&&(ke=mt=null,Be=0),Eo=i,gr=t,Ns=a,vd=d,Td=h,u_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nw(Bn,function(){return S_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=re.p,re.p=2,_=et,et|=4;try{GA(t,i,a)}finally{et=_,re.p=h,G.T=l}}$t=1,E_(),b_(),A_()}}function E_(){if($t===1){$t=0;var t=gr,i=Eo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var h=et;et|=4;try{t_(i,t);var d=kd,_=og(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&ag(T.ownerDocument.documentElement,T)){if(C!==null&&af(T)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),ce=T.textContent.length,be=Math.min(C.start,ce),dt=C.end===void 0?be:Math.min(C.end,ce);!H.extend&&be>dt&&(_=dt,dt=be,be=_);var k=rg(T,be),O=rg(T,dt);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),be>dt?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}kc=!!Vd,kd=Vd=null}finally{et=h,re.p=l,G.T=a}}t.current=i,$t=2}}function b_(){if($t===2){$t=0;var t=gr,i=Eo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var h=et;et|=4;try{Xy(t,i.alternate,i)}finally{et=h,re.p=l,G.T=a}}$t=3}}function A_(){if($t===4||$t===3){$t=0,jn();var t=gr,i=Eo,a=Ns,l=u_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,Eo=gr=null,w_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(pr=null),wi(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(wn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=re.p,re.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{G.T=i,re.p=h}}(Ns&3)!==0&&Ac(),Ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ed?kl++:(kl=0,Ed=t):kl=0,Ul(0)}}function w_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,gl(i)))}function Ac(){return E_(),b_(),A_(),S_()}function S_(){if($t!==5)return!1;var t=gr,i=vd;vd=0;var a=wi(Ns),l=G.T,h=re.p;try{re.p=32>a?32:a,G.T=null,a=Td,Td=null;var d=gr,_=Ns;if($t=0,Eo=gr=null,Ns=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,a_(d.current),i_(d,d.current,_,a),et=T,Ul(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(wn,d)}catch{}return!0}finally{re.p=h,G.T=l,w_(t,i)}}function R_(t,i,a){i=li(a,i),i=Wf(t.stateNode,i,2),t=ur(t,i,2),t!==null&&(cs(t,2),Ji(t))}function at(t,i,a){if(t.tag===3)R_(t,t,a);else for(;i!==null;){if(i.tag===3){R_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pr===null||!pr.has(l))){t=li(a,t),a=Iy(2),l=ur(i,a,2),l!==null&&(Cy(a,l,i,t),cs(l,2),Ji(l));break}}i=i.return}}function wd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new YA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(gd=!0,h.add(a),t=WA.bind(null,t,i,a),i.then(t,t))}function WA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,mt===t&&(Be&a)===a&&(xt===4||xt===3&&(Be&62914560)===Be&&300>vt()-yc?(et&2)===0&&bo(t,0):yd|=a,To===Be&&(To=0)),Ji(t)}function I_(t,i){i===0&&(i=qa()),t=ca(t,i),t!==null&&(cs(t,i),Ji(t))}function ew(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),I_(t,a)}function tw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),I_(t,a)}function nw(t,i){return Ke(t,i)}var wc=null,wo=null,Sd=!1,Sc=!1,Rd=!1,_r=0;function Ji(t){t!==wo&&t.next===null&&(wo===null?wc=wo=t:wo=wo.next=t),Sc=!0,Sd||(Sd=!0,sw())}function Ul(t,i){if(!Rd&&Sc){Rd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ut(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,D_(l,d))}else d=Be,d=Jt(l,l===mt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||dn(l,d)||(a=!0,D_(l,d));l=l.next}while(a);Rd=!1}}function iw(){C_()}function C_(){Sc=Sd=!1;var t=0;_r!==0&&mw()&&(t=_r);for(var i=vt(),a=null,l=wc;l!==null;){var h=l.next,d=x_(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(wo=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}$t!==0&&$t!==5||Ul(t),_r!==0&&(_r=0)}function x_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ut(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Xe(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=mt,a=Be,a=Jt(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&zn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||dn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&zn(l),wi(a)){case 2:case 8:a=ni;break;case 32:a=Bn;break;case 268435456:a=us;break;default:a=Bn}return l=N_.bind(null,t),a=Ke(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&zn(l),t.callbackPriority=2,t.callbackNode=null,2}function N_(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Be;return l=Jt(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(h_(t,l,i),x_(t,vt()),t.callbackNode!=null&&t.callbackNode===a?N_.bind(null,t):null)}function D_(t,i){if(Ac())return null;h_(t,i,!0)}function sw(){gw(function(){(et&6)!==0?Ke(Kt,iw):C_()})}function Id(){if(_r===0){var t=lo;t===0&&(t=Lt,Lt<<=1,(Lt&261888)===0&&(Lt=256)),_r=t}return _r}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ka(""+t)}function M_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=O_((h[Ot]||null).action),_=l.submitter;_&&(i=(i=_[Ot]||null)?O_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Fi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_r!==0){var C=_?M_(h,_):new FormData(h);Kf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?M_(h,_):new FormData(h),Kf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Cd=0;Cd<cf.length;Cd++){var xd=cf[Cd],aw=xd.toLowerCase(),ow=xd[0].toUpperCase()+xd.slice(1);Ni(aw,"on"+ow)}Ni(cg,"onAnimationEnd"),Ni(hg,"onAnimationIteration"),Ni(fg,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(AA,"onTransitionRun"),Ni(wA,"onTransitionStart"),Ni(SA,"onTransitionCancel"),Ni(dg,"onTransitionEnd"),bt("onMouseEnter",["mouseout","mouseover"]),bt("onMouseLeave",["mouseout","mouseover"]),bt("onPointerEnter",["pointerout","pointerover"]),bt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function V_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){ju(Q)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){ju(Q)}h.currentTarget=null,d=C}}}}function Ue(t,i){var a=i[Ks];a===void 0&&(a=i[Ks]=new Set);var l=t+"__bubble";a.has(l)||(k_(i,t,2,!1),a.add(l))}function Nd(t,i,a){var l=0;i&&(l|=4),k_(a,t,l,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[Rc]){t[Rc]=!0,Zt.forEach(function(a){a!=="selectionchange"&&(lw.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Nd("selectionchange",!1,i))}}function k_(t,i,a,l){switch(cv(i)){case 2:var h=Uw;break;case 8:h=Lw;break;default:h=Qd}a=h.bind(null,i,a,t),h=void 0,!na||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Od(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ee(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Ws(function(){var z=d,Q=si(a),X=[];e:{var j=mg.get(t);if(j!==void 0){var H=Fi,ce=t;switch(t){case"keypress":if(sa(a)===0)break e;case"keydown":case"keyup":H=Lu;break;case"focusin":ce="focus",H=aa;break;case"focusout":ce="blur",H=aa;break;case"beforeblur":case"afterblur":H=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case cg:case hg:case fg:H=Nu;break;case dg:H=b;break;case"scroll":case"scrollend":H=ol;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=gs;break;case"toggle":case"beforetoggle":H=Ne}var be=(i&4)!==0,dt=!be&&(t==="scroll"||t==="scrollend"),k=be?j!==null?j+"Capture":null:j;be=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Ri(O,k),Y!=null&&be.push(Pl(O,Y,P))),dt)break;O=O.return}0<be.length&&(j=new H(j,ce,null,a,Q),X.push({event:j,listeners:be}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&a!==sl&&(ce=a.relatedTarget||a.fromElement)&&(ee(ce)||ce[Rn]))break e;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=z,ce=ce?ee(ce):null,ce!==null&&(dt=u(ce),be=ce.tag,ce!==dt||be!==5&&be!==27&&be!==6)&&(ce=null)):(H=null,ce=z),H!==ce)){if(be=ll,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=gs,Y="onPointerLeave",k="onPointerEnter",O="pointer"),dt=H==null?j:ne(H),P=ce==null?j:ne(ce),j=new be(Y,O+"leave",H,a,Q),j.target=dt,j.relatedTarget=P,Y=null,ee(Q)===z&&(be=new be(k,O+"enter",ce,a,Q),be.target=P,be.relatedTarget=dt,Y=be),dt=Y,H&&ce)t:{for(be=uw,k=H,O=ce,P=0,Y=k;Y;Y=be(Y))P++;Y=0;for(var ge=O;ge;ge=be(ge))Y++;for(;0<P-Y;)k=be(k),P--;for(;0<Y-P;)O=be(O),Y--;for(;P--;){if(k===O||O!==null&&k===O.alternate){be=k;break t}k=be(k),O=be(O)}be=null}else be=null;H!==null&&U_(X,j,H,be,!1),ce!==null&&dt!==null&&U_(X,dt,ce,be,!0)}}e:{if(j=z?ne(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Je=Wp;else if(Jp(j))if(eg)Je=TA;else{Je=_A;var fe=yA}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Qa(z.elementType)&&(Je=Wp):Je=vA;if(Je&&(Je=Je(t,z))){Zp(X,Je,a,Q);break e}fe&&fe(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&tl(j,"number",j.value)}switch(fe=z?ne(z):window,t){case"focusin":(Jp(fe)||fe.contentEditable==="true")&&(eo=fe,of=z,dl=null);break;case"focusout":dl=of=eo=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,lg(X,a,Q);break;case"selectionchange":if(bA)break;case"keydown":case"keyup":lg(X,a,Q)}var Me;if(We)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Wa?oa(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Ki&&a.locale!=="ko"&&(Wa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Wa&&(Me=al()):(Hi=Q,rl="value"in Hi?Hi.value:Hi.textContent,Wa=!0)),fe=Ic(z,qe),0<fe.length&&(qe=new Qi(qe,t,null,a,Q),X.push({event:qe,listeners:fe}),Me?qe.data=Me:(Me=Za(a),Me!==null&&(qe.data=Me)))),(Me=ai?dA(t,a):mA(t,a))&&(qe=Ic(z,"onBeforeInput"),0<qe.length&&(fe=new Qi("onBeforeInput","beforeinput",null,a,Q),X.push({event:fe,listeners:qe}),fe.data=Me)),rw(X,t,z,a,Q)}V_(X,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ri(t,a),h!=null&&l.unshift(Pl(t,h,d)),h=Ri(t,i),h!=null&&l.push(Pl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function uw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function U_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Ri(a,d),z!=null&&_.unshift(Pl(a,z,C))):h||(z=Ri(a,d),z!=null&&_.push(Pl(a,z,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var cw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(hw,"")}function P_(t,i){return i=L_(i),L_(t)===i}function ft(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&xn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":il(t,l,d);break;case"data":if(i!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ft(t,i,"name",h.name,h,null),ft(t,i,"formEncType",h.formEncType,h,null),ft(t,i,"formMethod",h.formMethod,h,null),ft(t,i,"formTarget",h.formTarget,h,null)):(ft(t,i,"encType",h.encType,h,null),ft(t,i,"method",h.method,h,null),ft(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Si);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ds(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,ds(t,a,l))}}function Md(t,i,a,l,h,d){switch(a){case"style":il(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Et.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ot]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ds(t,a,l)}}}function ln(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(t,i,d,_,a,null)}}h&&ft(t,i,"srcSet",a.srcSet,a,null),l&&ft(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var T=d=_=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:ft(t,i,l,Q,a,null)}}wu(t,d,T,C,z,_,h,!1);return;case"select":Ue("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ft(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?$s(t,!!l,i,!1):a!=null&&$s(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ft(t,i,_,T,a,null)}Xs(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ft(t,i,C,l,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Ue(Ll[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(t,i,z,l,a,null)}return;default:if(Qa(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Md(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ft(t,i,T,l,a,null))}function fw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,z=null,Q=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(H)||ft(t,i,H,null,l,X)}}for(var j in l){var H=l[j];if(X=a[j],l.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&ft(t,i,j,H,l,X)}}Ga(t,_,T,C,z,Q,d,h);return;case"select":H=_=T=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||ft(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&ft(t,i,h,d,l,C)}i=T,a=_,l=H,j!=null?$s(t,!!a,j,!1):!!l!=!!a&&(i!=null?$s(t,!!a,i,!0):$s(t,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&ft(t,i,_,h,l,d)}Su(t,j,H);return;case"option":for(var ce in a)if(j=a[ce],a.hasOwnProperty(ce)&&j!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:ft(t,i,ce,null,l,j)}for(C in l)if(j=l[C],H=a[C],l.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ft(t,i,C,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)j=a[be],a.hasOwnProperty(be)&&j!=null&&!l.hasOwnProperty(be)&&ft(t,i,be,null,l,j);for(z in l)if(j=l[z],H=a[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:ft(t,i,z,j,l,H)}return;default:if(Qa(i)){for(var dt in a)j=a[dt],a.hasOwnProperty(dt)&&j!==void 0&&!l.hasOwnProperty(dt)&&Md(t,i,dt,void 0,l,j);for(Q in l)j=l[Q],H=a[Q],!l.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||Md(t,i,Q,j,l,H);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&ft(t,i,k,null,l,j);for(X in l)j=l[X],H=a[X],!l.hasOwnProperty(X)||j===H||j==null&&H==null||ft(t,i,X,j,l,H)}function z_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&z_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var Q=C.transferSize,X=C.initiatorType;Q&&z_(X)&&(C=C.responseEnd,_+=Q*(C<T?1:(T-z)/(C-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vd=null,kd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function j_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ud(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ld=null;function mw(){var t=window.event;return t&&t.type==="popstate"?t===Ld?!1:(Ld=t,!0):(Ld=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,pw=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(yw)}:q_;function yw(t){setTimeout(function(){throw t})}function vr(t){return t==="head"}function F_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Co(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[In]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&zl(t.ownerDocument.body);a=h}while(a);Co(i)}function G_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),B(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _w(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[In])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=di(t.nextSibling),t===null)break}return null}function vw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=di(t.nextSibling),t===null))return null;return t}function Q_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=di(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function di(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Bd=null;function K_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return di(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Y_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function $_(t,i,a){switch(i=Cc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);B(t)}var mi=new Map,X_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ds=re.d;re.d={f:Ew,r:bw,D:Aw,C:ww,L:Sw,m:Rw,X:Cw,S:Iw,M:xw};function Ew(){var t=Ds.f(),i=Tc();return t||i}function bw(t){var i=ae(t);i!==null&&i.tag===5&&i.type==="form"?dy(i):Ds.r(t)}var So=typeof document>"u"?null:document;function J_(t,i,a){var l=So;if(l&&typeof i=="string"&&i){var h=Cn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),X_.has(h)||(X_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ln(i,"link",t),Te(i),l.head.appendChild(i)))}}function Aw(t){Ds.D(t),J_("dns-prefetch",t,null)}function ww(t,i){Ds.C(t,i),J_("preconnect",t,i)}function Sw(t,i,a){Ds.L(t,i,a);var l=So;if(l&&t&&i){var h='link[rel="preload"][as="'+Cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Cn(a.imageSizes)+'"]')):h+='[href="'+Cn(t)+'"]';var d=h;switch(i){case"style":d=Ro(t);break;case"script":d=Io(t)}mi.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),mi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),ln(i,"link",t),Te(i),l.head.appendChild(i)))}}function Rw(t,i){Ds.m(t,i);var a=So;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Io(t)}if(!mi.has(d)&&(t=w({rel:"modulepreload",href:t},i),mi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),ln(l,"link",t),Te(l),a.head.appendChild(l)}}}function Iw(t,i,a){Ds.S(t,i,a);var l=So;if(l&&t){var h=de(l).hoistableStyles,d=Ro(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(jl(d)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=mi.get(d))&&qd(t,a);var C=_=l.createElement("link");Te(C),ln(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Cw(t,i){Ds.X(t,i);var a=So;if(a&&t){var l=de(a).hoistableScripts,h=Io(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=w({src:t,async:!0},i),(i=mi.get(h))&&Hd(t,i),d=a.createElement("script"),Te(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xw(t,i){Ds.M(t,i);var a=So;if(a&&t){var l=de(a).hoistableScripts,h=Io(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=mi.get(h))&&Hd(t,i),d=a.createElement("script"),Te(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Z_(t,i,a,l){var h=(h=ve.current)?xc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ro(a.href),a=de(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ro(a.href);var d=de(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(jl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),mi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mi.set(t,a),d||Nw(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Io(a),a=de(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ro(t){return'href="'+Cn(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function W_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Nw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",a),Te(i),t.head.appendChild(i))}function Io(t){return'[src="'+Cn(t)+'"]'}function Bl(t){return"script[async]"+t}function ev(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(l)return i.instance=l,Te(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Te(l),ln(l,"style",h),Nc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ro(a.href);var d=t.querySelector(jl(h));if(d)return i.state.loading|=4,i.instance=d,Te(d),d;l=W_(a),(h=mi.get(h))&&qd(l,h),d=(t.ownerDocument||t).createElement("link"),Te(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),ln(d,"link",l),i.state.loading|=4,Nc(d,a.precedence,t),i.instance=d;case"script":return d=Io(a.src),(h=t.querySelector(Bl(d)))?(i.instance=h,Te(h),h):(l=a,(h=mi.get(d))&&(l=w({},a),Hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Te(h),ln(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,t));return i.instance}function Nc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function tv(t,i,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[In]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function nv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Dw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ow(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ro(l.href),d=i.querySelector(jl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Oc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Te(d);return}d=i.ownerDocument||i,l=W_(l),(h=mi.get(h))&&qd(l,h),d=d.createElement("link"),Te(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),ln(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Fd=0;function Mw(t,i){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Fd===0&&(Fd=62500*dw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Fd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,i.forEach(Vw,t),Mc=null,Oc.call(t))}function Vw(t,i){if(!(i.state.loading&4)){var a=Mc.get(t);if(a)var l=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ql={$$typeof:_e,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function kw(t,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function sv(t,i,a,l,h,d,_,T,C,z,Q,X){return t=new kw(t,i,a,_,C,z,Q,X,T),i=1,d===!0&&(i|=24),d=Kn(3,null,null,i),t.current=d,d.stateNode=t,i=Af(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},If(d),t}function rv(t){return t?(t=io,t):io}function av(t,i,a,l,h,d){h=rv(h),l.context===null?l.context=h:l.pendingContext=h,l=lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ur(t,l,i),a!==null&&(Vn(a,t,i),Tl(a,t,i))}function ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Gd(t,i){ov(t,i),(t=t.alternate)&&ov(t,i)}function lv(t){if(t.tag===13||t.tag===31){var i=ca(t,67108864);i!==null&&Vn(i,t,67108864),Gd(t,67108864)}}function uv(t){if(t.tag===13||t.tag===31){var i=Zn();i=ji(i);var a=ca(t,i);a!==null&&Vn(a,t,i),Gd(t,i)}}var kc=!0;function Uw(t,i,a,l){var h=G.T;G.T=null;var d=re.p;try{re.p=2,Qd(t,i,a,l)}finally{re.p=d,G.T=h}}function Lw(t,i,a,l){var h=G.T;G.T=null;var d=re.p;try{re.p=8,Qd(t,i,a,l)}finally{re.p=d,G.T=h}}function Qd(t,i,a,l){if(kc){var h=Kd(l);if(h===null)Od(t,i,l,Uc,a),hv(t,l);else if(zw(h,t,i,a,l))l.stopPropagation();else if(hv(t,l),i&4&&-1<Pw.indexOf(t)){for(;h!==null;){var d=ae(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=qn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-ut(_);T.entanglements[1]|=C,_&=~C}Ji(d),(et&6)===0&&(_c=vt()+500,Ul(0))}}break;case 31:case 13:T=ca(d,2),T!==null&&Vn(T,d,2),Tc(),Gd(d,2)}if(d=Kd(l),d===null&&Od(t,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(t,i,l,null,a)}}function Kd(t){return t=si(t),Yd(t)}var Uc=null;function Yd(t){if(Uc=null,t=ee(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Kt:return 2;case ni:return 8;case Bn:case Fs:return 32;case us:return 268435456;default:return 32}default:return 32}}var $d=!1,Tr=null,Er=null,br=null,Hl=new Map,Fl=new Map,Ar=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(t,i){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ae(i),i!==null&&lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function zw(t,i,a,l,h){switch(i){case"focusin":return Tr=Gl(Tr,t,i,a,l,h),!0;case"dragenter":return Er=Gl(Er,t,i,a,l,h),!0;case"mouseover":return br=Gl(br,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Hl.set(d,Gl(Hl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Fl.set(d,Gl(Fl.get(d)||null,t,i,a,l,h)),!0}return!1}function fv(t){var i=ee(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){uv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){uv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);sl=l,a.target.dispatchEvent(l),sl=null}else return i=ae(a),i!==null&&lv(i),t.blockedOn=a,!1;i.shift()}return!0}function dv(t,i,a){Lc(t)&&a.delete(i)}function jw(){$d=!1,Tr!==null&&Lc(Tr)&&(Tr=null),Er!==null&&Lc(Er)&&(Er=null),br!==null&&Lc(br)&&(br=null),Hl.forEach(dv),Fl.forEach(dv)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,$d||($d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jw)))}var zc=null;function mv(t){zc!==t&&(zc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Yd(l||a)===null)continue;break}var d=ae(a);d!==null&&(t.splice(i,3),i-=3,Kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Co(t){function i(C){return Pc(C,t)}Tr!==null&&Pc(Tr,t),Er!==null&&Pc(Er,t),br!==null&&Pc(br,t),Hl.forEach(i),Fl.forEach(i);for(var a=0;a<Ar.length;a++){var l=Ar[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ar.length&&(a=Ar[0],a.blockedOn===null);)fv(a),a.blockedOn===null&&Ar.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ot]||null;if(typeof d=="function")_||mv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ot]||null)T=_.formAction;else if(Yd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),mv(a)}}}function pv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Xd(t){this._internalRoot=t}jc.prototype.render=Xd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Zn();av(a,l,t,i,null,null)},jc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;av(t.current,2,null,t,null,null),Tc(),i[Rn]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ha();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ar.length&&i!==0&&i<Ar[a].priority;a++);Ar.splice(a,0,t),a===0&&fv(t)}};var gv=e.version;if(gv!=="19.2.4")throw Error(r(527,gv,"19.2.4"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Bw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{wn=Bc.inject(Bw),Yt=Bc}catch{}}return Kl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Ay,d=wy,_=Sy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=sv(t,1,!1,null,null,a,l,null,h,d,_,pv),t[Rn]=i.current,Dd(t),new Xd(i)},Kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Ay,_=wy,T=Sy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=sv(t,1,!0,i,a??null,l,h,C,d,_,T,pv),i.context=rv(null),a=i.current,l=Zn(),l=ji(l),h=lr(l),h.callback=null,ur(a,h,l),a=l,i.current.lanes=a,cs(i,a),Ji(i),t[Rn]=i.current,Dd(t),new jc(i)},Kl.version="19.2.4",Kl}var Rv;function Jw(){if(Rv)return Wd.exports;Rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wd.exports=Xw(),Wd.exports}var Zw=Jw();const Ww=gT(Zw),eS=({onCreateRoom:s,onJoinRoom:e})=>{const[n,r]=he.useState(""),[o,u]=he.useState(navigator.onLine);return Qm.useEffect(()=>{const f=()=>u(!0),p=()=>u(!1);return window.addEventListener("online",f),window.addEventListener("offline",p),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",p)}},[]),A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-800 to-black p-4",children:[A.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent opacity-50"}),A.jsxs("div",{className:"text-center mb-10",children:[A.jsxs("div",{className:"inline-flex items-center gap-2 mb-2",children:[A.jsx("i",{className:"fa-solid fa-video text-gold text-2xl"}),A.jsxs("h1",{className:"text-3xl font-brand tracking-widest text-white",children:["QAXI ",A.jsx("span",{className:"text-gold",children:"LIVE"})]})]}),A.jsx("p",{className:"text-zinc-500 text-sm",children:"Secure Titanium Conferencing"})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("button",{onClick:s,disabled:!o,className:`w-full py-4 px-6 bg-gradient-to-r ${o?"from-gold to-gold-dark text-black hover:scale-[1.02] active:scale-[0.98] cursor-pointer":"from-zinc-700 to-zinc-800 text-zinc-500 cursor-not-allowed"} font-bold rounded-xl shadow-lg shadow-gold/20 transition-all duration-200 flex items-center justify-center gap-2 group`,children:[A.jsx("i",{className:"fa-solid fa-plus-circle text-lg group-hover:rotate-90 transition-transform"}),A.jsx("span",{children:o?"Create New Meeting":"No Internet Connection"})]}),A.jsxs("div",{className:"relative flex items-center py-2",children:[A.jsx("div",{className:"flex-grow border-t border-zinc-800"}),A.jsx("span",{className:"flex-shrink-0 mx-4 text-zinc-600 text-xs uppercase tracking-wider",children:"Or join existing"}),A.jsx("div",{className:"flex-grow border-t border-zinc-800"})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"relative",children:[A.jsx("i",{className:"fa-solid fa-keyboard absolute left-4 top-1/2 transform -translate-y-1/2 text-zinc-500"}),A.jsx("input",{type:"text",disabled:!o,value:n,onChange:f=>r(f.target.value),placeholder:"Enter Room ID",className:`w-full bg-zinc-950 border border-zinc-800 text-white pl-10 pr-4 py-3 rounded-xl focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold/50 transition-all placeholder-zinc-600 ${o?"":"opacity-50"}`})]}),A.jsxs("button",{onClick:()=>n&&e(n),disabled:!n||!o,className:`w-full py-3 px-6 border border-zinc-700 font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2
                ${n&&o?"text-zinc-300 hover:bg-zinc-800 hover:text-white hover:border-zinc-600 cursor-pointer":"text-zinc-600 opacity-50 cursor-not-allowed"}`,children:[A.jsx("span",{children:"Join Meeting"}),A.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]})]}),A.jsx("div",{className:"mt-8 text-zinc-600 text-xs text-center max-w-sm",children:A.jsx("p",{children:"By connecting, you agree to QAXI Cloud terms of service. Video and audio are transmitted securely via WebRTC."})})]})},tS=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,E=u>>2,w=(u&3)<<4|p>>4;let S=(p&15)<<2|y>>6,F=y&63;g||(F=64,f||(S=64)),r.push(n[E],n[w],n[S],n[F])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(yT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):nS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||y==null||w==null)throw new iS;const S=u<<2|p>>4;if(r.push(S),y!==64){const F=p<<4&240|y>>2;if(r.push(F),w!==64){const Z=y<<6&192|w;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class iS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(s){const e=yT(s);return _T.encodeByteArray(e,!0)},ah=function(s){return sS(s).replace(/\./g,"")},vT=function(s){try{return _T.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=()=>rS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof Iv>"u")return;const s=Iv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&vT(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return tS()||aS()||oS()||lS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},TT=s=>{var e,n;return(n=(e=Dh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},ET=s=>{const e=TT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bT=()=>{var s;return(s=Dh())==null?void 0:s.config},AT=s=>{var e;return(e=Dh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Km(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const Wl={};function cS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?s.emulator.push(e):s.prod.push(e);return s}function hS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Cv=!1;function Ym(s,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||Wl[s]===e||Wl[s]||Cv)return;Wl[s]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=cS().prod.length>0;function f(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,F){S.setAttribute("width","24"),S.setAttribute("id",F),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Cv=!0,f()},S}function E(S,F){S.setAttribute("id",F),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=hS(r),F=n("text"),Z=document.getElementById(F)||document.createElement("span"),ie=n("learnmore"),W=document.getElementById(ie)||document.createElement("a"),pe=n("preprendIcon"),Ee=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const _e=S.element;p(_e),E(W,ie);const Re=y();g(Ee,pe),_e.append(Ee,Z,W,Re),document.body.appendChild(_e)}u?(Z.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function dS(){var e;const s=(e=Dh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ST(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const s=_n();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yS(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RT(){try{return typeof indexedDB=="object"}catch{return!1}}function IT(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function _S(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="FirebaseError";class vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vS,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ua.prototype.create)}}class Ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?TS(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new vi(o,p,r)}}function TS(s,e){return s.replace(ES,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const ES=/\{\$([^}]+)}/g;function bS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Lr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(xv(u)&&xv(f)){if(!Lr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function xv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AS(s,e){const n=new wS(s,e);return n.subscribe.bind(n)}class wS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=1e3,IS=2,CS=14400*1e3,xS=.5;function Nv(s,e=RS,n=IS){const r=e*Math.pow(n,s),o=Math.round(xS*r*(Math.random()-.5)*2);return Math.min(CS,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(s){return s&&s._delegate?s._delegate:s}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OS(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(s){return s===Aa?void 0:s}function OS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const VS={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},kS=He.INFO,US={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},LS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=US[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oh{constructor(e){this.name=e,this._logLevel=kS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const PS=(s,e)=>e.some(n=>s instanceof n);let Dv,Ov;function zS(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Tm=new WeakMap,xT=new WeakMap,sm=new WeakMap,$m=new WeakMap;function BS(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Mr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,s)}).catch(()=>{}),$m.set(e,s),e}function qS(s){if(Tm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Tm.set(s,e)}let Em={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Tm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||xT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function HS(s){Em=s(Em)}function FS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(rm(this),e,...n);return xT.set(r,e.sort?e.sort():[e]),Mr(r)}:jS().includes(s)?function(...e){return s.apply(rm(this),e),Mr(CT.get(this))}:function(...e){return Mr(s.apply(rm(this),e))}}function GS(s){return typeof s=="function"?FS(s):(s instanceof IDBTransaction&&qS(s),PS(s,zS())?new Proxy(s,Em):s)}function Mr(s){if(s instanceof IDBRequest)return BS(s);if(sm.has(s))return sm.get(s);const e=GS(s);return e!==s&&(sm.set(s,e),$m.set(e,s)),e}const rm=s=>$m.get(s);function NT(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),p=Mr(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Mr(f.result),g.oldVersion,g.newVersion,Mr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const QS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],am=new Map;function Mv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=KS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||QS.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return am.set(e,u),u}HS(s=>({...s,get:(e,n,r)=>Mv(e,n)||s.get(e,n,r),has:(e,n)=>!!Mv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($S(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $S(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",Vv="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Oh("@firebase/app"),XS="@firebase/app-compat",JS="@firebase/analytics-compat",ZS="@firebase/analytics",WS="@firebase/app-check-compat",e1="@firebase/app-check",t1="@firebase/auth",n1="@firebase/auth-compat",i1="@firebase/database",s1="@firebase/data-connect",r1="@firebase/database-compat",a1="@firebase/functions",o1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",h1="@firebase/messaging-compat",f1="@firebase/performance",d1="@firebase/performance-compat",m1="@firebase/remote-config",p1="@firebase/remote-config-compat",g1="@firebase/storage",y1="@firebase/storage-compat",_1="@firebase/firestore",v1="@firebase/ai",T1="@firebase/firestore-compat",E1="firebase",b1="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",A1={[bm]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[JS]:"fire-analytics-compat",[e1]:"fire-app-check",[WS]:"fire-app-check-compat",[t1]:"fire-auth",[n1]:"fire-auth-compat",[i1]:"fire-rtdb",[s1]:"fire-data-connect",[r1]:"fire-rtdb-compat",[a1]:"fire-fn",[o1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[h1]:"fire-fcm-compat",[f1]:"fire-perf",[d1]:"fire-perf-compat",[m1]:"fire-rc",[p1]:"fire-rc-compat",[g1]:"fire-gcs",[y1]:"fire-gcs-compat",[_1]:"fire-fst",[T1]:"fire-fst-compat",[v1]:"fire-vertex","fire-js":"fire-js",[E1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,w1=new Map,wm=new Map;function kv(s,e){try{s.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Li(s){const e=s.name;if(wm.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,s);for(const n of oh.values())kv(n,s);for(const n of w1.values())kv(n,s);return!0}function Fr(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Mi(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Ua("app","Firebase",S1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=b1;function DT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Am,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(n||(n=bT()),!n)throw Vr.create("no-options");const u=oh.get(o);if(u){if(Lr(n,u.options)&&Lr(r,u.config))return u;throw Vr.create("duplicate-app",{appName:o})}const f=new MS(o);for(const g of wm.values())f.addComponent(g);const p=new R1(n,r,f);return oh.set(o,p),p}function Mh(s=Am){const e=oh.get(s);if(!e&&s===Am&&bT())return DT();if(!e)throw Vr.create("no-app",{appName:s});return e}function Ln(s,e,n){let r=A1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(f.join(" "));return}Li(new _i(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebase-heartbeat-database",C1=1,ru="firebase-heartbeat-store";let om=null;function OT(){return om||(om=NT(I1,C1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(s=>{throw Vr.create("idb-open",{originalErrorMessage:s.message})})),om}async function x1(s){try{const n=(await OT()).transaction(ru),r=await n.objectStore(ru).get(MT(s));return await n.done,r}catch(e){if(e instanceof vi)Us.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function Uv(s,e){try{const r=(await OT()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,MT(s)),await r.done}catch(n){if(n instanceof vi)Us.warn(n.message);else{const r=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function MT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1024,D1=30;class O1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Lv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>D1){const f=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lv(),{heartbeatsToSend:r,unsentEntries:o}=M1(this._heartbeatsCache.heartbeats),u=ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Us.warn(n),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function M1(s,e=N1){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Pv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Pv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RT()?IT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pv(s){return ah(JSON.stringify({version:2,heartbeats:s})).length}function k1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(s){Li(new _i("platform-logger",e=>new YS(e),"PRIVATE")),Li(new _i("heartbeat",e=>new O1(e),"PRIVATE")),Ln(bm,Vv,s),Ln(bm,Vv,"esm2020"),Ln("fire-js","")}U1("");var L1="firebase",P1="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(L1,P1,"app");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,VT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function x(){}x.prototype=R.prototype,N.F=R.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(V,D,U){for(var I=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)I[ot-2]=arguments[ot];return R.prototype[D].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,x){x||(x=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(D=0;D<16;++D)V[D]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=N.g[0],x=N.g[1],D=N.g[2];let U=N.g[3],I;I=R+(U^x&(D^U))+V[0]+3614090360&4294967295,R=x+(I<<7&4294967295|I>>>25),I=U+(D^R&(x^D))+V[1]+3905402710&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(x^U&(R^x))+V[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=x+(R^D&(U^R))+V[3]+3250441966&4294967295,x=D+(I<<22&4294967295|I>>>10),I=R+(U^x&(D^U))+V[4]+4118548399&4294967295,R=x+(I<<7&4294967295|I>>>25),I=U+(D^R&(x^D))+V[5]+1200080426&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(x^U&(R^x))+V[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=x+(R^D&(U^R))+V[7]+4249261313&4294967295,x=D+(I<<22&4294967295|I>>>10),I=R+(U^x&(D^U))+V[8]+1770035416&4294967295,R=x+(I<<7&4294967295|I>>>25),I=U+(D^R&(x^D))+V[9]+2336552879&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(x^U&(R^x))+V[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=x+(R^D&(U^R))+V[11]+2304563134&4294967295,x=D+(I<<22&4294967295|I>>>10),I=R+(U^x&(D^U))+V[12]+1804603682&4294967295,R=x+(I<<7&4294967295|I>>>25),I=U+(D^R&(x^D))+V[13]+4254626195&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(x^U&(R^x))+V[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=x+(R^D&(U^R))+V[15]+1236535329&4294967295,x=D+(I<<22&4294967295|I>>>10),I=R+(D^U&(x^D))+V[1]+4129170786&4294967295,R=x+(I<<5&4294967295|I>>>27),I=U+(x^D&(R^x))+V[6]+3225465664&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^x&(U^R))+V[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=x+(U^R&(D^U))+V[0]+3921069994&4294967295,x=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(x^D))+V[5]+3593408605&4294967295,R=x+(I<<5&4294967295|I>>>27),I=U+(x^D&(R^x))+V[10]+38016083&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^x&(U^R))+V[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=x+(U^R&(D^U))+V[4]+3889429448&4294967295,x=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(x^D))+V[9]+568446438&4294967295,R=x+(I<<5&4294967295|I>>>27),I=U+(x^D&(R^x))+V[14]+3275163606&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^x&(U^R))+V[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=x+(U^R&(D^U))+V[8]+1163531501&4294967295,x=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(x^D))+V[13]+2850285829&4294967295,R=x+(I<<5&4294967295|I>>>27),I=U+(x^D&(R^x))+V[2]+4243563512&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^x&(U^R))+V[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=x+(U^R&(D^U))+V[12]+2368359562&4294967295,x=D+(I<<20&4294967295|I>>>12),I=R+(x^D^U)+V[5]+4294588738&4294967295,R=x+(I<<4&4294967295|I>>>28),I=U+(R^x^D)+V[8]+2272392833&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^x)+V[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=x+(D^U^R)+V[14]+4259657740&4294967295,x=D+(I<<23&4294967295|I>>>9),I=R+(x^D^U)+V[1]+2763975236&4294967295,R=x+(I<<4&4294967295|I>>>28),I=U+(R^x^D)+V[4]+1272893353&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^x)+V[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=x+(D^U^R)+V[10]+3200236656&4294967295,x=D+(I<<23&4294967295|I>>>9),I=R+(x^D^U)+V[13]+681279174&4294967295,R=x+(I<<4&4294967295|I>>>28),I=U+(R^x^D)+V[0]+3936430074&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^x)+V[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=x+(D^U^R)+V[6]+76029189&4294967295,x=D+(I<<23&4294967295|I>>>9),I=R+(x^D^U)+V[9]+3654602809&4294967295,R=x+(I<<4&4294967295|I>>>28),I=U+(R^x^D)+V[12]+3873151461&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^x)+V[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=x+(D^U^R)+V[2]+3299628645&4294967295,x=D+(I<<23&4294967295|I>>>9),I=R+(D^(x|~U))+V[0]+4096336452&4294967295,R=x+(I<<6&4294967295|I>>>26),I=U+(x^(R|~D))+V[7]+1126891415&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~x))+V[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=x+(U^(D|~R))+V[5]+4237533241&4294967295,x=D+(I<<21&4294967295|I>>>11),I=R+(D^(x|~U))+V[12]+1700485571&4294967295,R=x+(I<<6&4294967295|I>>>26),I=U+(x^(R|~D))+V[3]+2399980690&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~x))+V[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=x+(U^(D|~R))+V[1]+2240044497&4294967295,x=D+(I<<21&4294967295|I>>>11),I=R+(D^(x|~U))+V[8]+1873313359&4294967295,R=x+(I<<6&4294967295|I>>>26),I=U+(x^(R|~D))+V[15]+4264355552&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~x))+V[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=x+(U^(D|~R))+V[13]+1309151649&4294967295,x=D+(I<<21&4294967295|I>>>11),I=R+(D^(x|~U))+V[4]+4149444226&4294967295,R=x+(I<<6&4294967295|I>>>26),I=U+(x^(R|~D))+V[11]+3174756917&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~x))+V[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=x+(U^(D|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const x=R-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<R;){if(D==0)for(;U<=x;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<R;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<R;)if(V[D++]=N[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)N[R++]=this.g[x]>>>V&255;return N};function u(N,R){var x=p;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=R(N)}function f(N,R){this.h=R;const x=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==R||(x[D]=U,V=!1)}this.g=x}var p={};function g(N){return-128<=N&&N<128?u(N,function(R){return new f([R|0],R<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return W(y(-N));const R=[];let x=1;for(let V=0;N>=x;V++)R[V]=N/x|0,x*=4294967296;return new f(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return W(E(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(R,8));let V=w;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const I=parseInt(N.substring(U,U+D),R);D<8?(D=y(Math.pow(R,D)),V=V.j(D).add(y(I))):(V=V.j(x),V=V.add(y(I)))}return V}var w=g(0),S=g(1),F=g(16777216);s=f.prototype,s.m=function(){if(ie(this))return-W(this).m();let N=0,R=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(ie(this))return"-"+W(this).toString(N);const R=y(Math.pow(N,6));var x=this;let V="";for(;;){const D=Re(x,R).g;x=pe(x,D.j(R));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=D,Z(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function ie(N){return N.h==-1}s.l=function(N){return N=pe(this,N),ie(N)?-1:Z(N)?0:1};function W(N){const R=N.g.length,x=[];for(let V=0;V<R;V++)x[V]=~N.g[V];return new f(x,~N.h).add(S)}s.abs=function(){return ie(this)?W(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),x=[];let V=0;for(let D=0;D<=R;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=I>>>16,U&=65535,I&=65535,x[D]=I<<16|U}return new f(x,x[x.length-1]&-2147483648?-1:0)};function pe(N,R){return N.add(W(R))}s.j=function(N){if(Z(this)||Z(N))return w;if(ie(this))return ie(N)?W(this).j(W(N)):W(W(this).j(N));if(ie(N))return W(this.j(W(N)));if(this.l(F)<0&&N.l(F)<0)return y(this.m()*N.m());const R=this.g.length+N.g.length,x=[];for(var V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,I=this.i(V)&65535,ot=N.i(D)>>>16,Dt=N.i(D)&65535;x[2*V+2*D]+=I*Dt,Ee(x,2*V+2*D),x[2*V+2*D+1]+=U*Dt,Ee(x,2*V+2*D+1),x[2*V+2*D+1]+=I*ot,Ee(x,2*V+2*D+1),x[2*V+2*D+2]+=U*ot,Ee(x,2*V+2*D+2)}for(N=0;N<R;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=R;N<2*R;N++)x[N]=0;return new f(x,0)};function Ee(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function _e(N,R){this.g=N,this.h=R}function Re(N,R){if(Z(R))throw Error("division by zero");if(Z(N))return new _e(w,w);if(ie(N))return R=Re(W(N),R),new _e(W(R.g),W(R.h));if(ie(R))return R=Re(N,W(R)),new _e(W(R.g),R.h);if(N.g.length>30){if(ie(N)||ie(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,V=R;V.l(N)<=0;)x=Ve(x),V=Ve(V);var D=Oe(x,1),U=Oe(V,1);for(V=Oe(V,2),x=Oe(x,2);!Z(V);){var I=U.add(V);I.l(N)<=0&&(D=D.add(x),U=I),V=Oe(V,1),x=Oe(x,1)}return R=pe(N,D.j(R)),new _e(D,R)}for(D=w;N.l(R)>=0;){for(x=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(x),I=U.j(R);ie(I)||I.l(N)>0;)x-=V,U=y(x),I=U.j(R);Z(U)&&(U=S),D=D.add(U),N=pe(N,I)}return new _e(D,N)}s.B=function(N){return Re(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)&N.i(V);return new f(x,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)|N.i(V);return new f(x,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)^N.i(V);return new f(x,this.h^N.h)};function Ve(N){const R=N.g.length+1,x=[];for(let V=0;V<R;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(x,N.h)}function Oe(N,R){const x=R>>5;R%=32;const V=N.g.length-x,D=[];for(let U=0;U<V;U++)D[U]=R>0?N.i(U+x)>>>R|N.i(U+x+1)<<32-R:N.i(U+x);return new f(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,VT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,kr=f}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kT,$l,UT,Xc,Sm,LT,PT,zT;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break e;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,q){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return m.prototype[L].apply(b,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function Z(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let se=0;se<q;se++)c[v+se]=L[se]}else c.push(L)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function pe(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const b=_e.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var _e=new ie(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,Oe=!1,N=new Ee,R=()=>{const c=Promise.resolve(void 0);Ve=()=>{c.then(x)}};function x(){for(var c;c=pe();){try{c.h.call(c.g)}catch(v){W(v)}var m=_e;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Oe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ot(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(ot,D),ot.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),G=0;function re(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qe(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Le(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function te(c){this.src=c,this.g={},this.h=0}te.prototype.add=function(c,m,v,b,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=ve(c,m,b,L);return se>-1?(m=c[se],v||(m.fa=!1)):(m=new re(m,this.src,q,!!b,L),m.fa=v,c.push(m)),m};function we(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(b,L,1),q&&(me(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ve(c,m,v,b){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return L}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),tt={};function ze(c,m,v,b,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ze(c,m[q],v,b,L);return null}return v=bi(v),c&&c[Dt]?c.J(m,v,p(b)?!!b.capture:!1,L):Ti(c,m,v,!1,b,L)}function Ti(c,m,v,b,L,q){if(!m)throw Error("Invalid event type");const se=p(L)?!!L.capture:!!L;let Ne=ls(c);if(Ne||(c[Pe]=Ne=new te(c)),v=Ne.add(m,v,b,se,q),v.proxy)return v;if(b=os(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)U||(L=se),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(lt(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function os(){function c(v){return m.call(c.src,c.listener,v)}const m=ti;return c}function Hs(c,m,v,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Hs(c,m[q],v,b,L);else b=p(b)?!!b.capture:!!b,v=bi(v),c&&c[Dt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=ve(m,v,b,L),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=ls(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ve(m,v,b,L)),(v=c>-1?m[c]:null)&&Ei(v))}function Ei(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Dt])we(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(lt(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ls(m))?(we(v,c),v.h==0&&(v.src=null,m[Pe]=null)):me(c)}}}function lt(c){return c in tt?tt[c]:tt[c]="on"+c}function ti(c,m){if(c.da)c=!0;else{m=new ot(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&Ei(c),c=v.call(b,m)}return c}function ls(c){return c=c[Pe],c instanceof te?c:null}var Kr="__closure_events_fn_"+(Math.random()*1e9>>>0);function bi(c){return typeof c=="function"?c:(c[Kr]||(c[Kr]=function(m){return c.handleEvent(m)}),c[Kr])}function St(){V.call(this),this.i=new te(this),this.M=this,this.G=null}w(St,V),St.prototype[Dt]=!0,St.prototype.removeEventListener=function(c,m,v,b){Hs(this,c,m,v,b)};function Ke(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(b,c),oe(m,L)}L=!0;let q,se;if(v)for(se=v.length-1;se>=0;se--)q=m.g=v[se],L=zn(q,b,!0,m)&&L;if(q=m.g=c,L=zn(q,b,!0,m)&&L,L=zn(q,b,!1,m)&&L,v)for(se=0;se<v.length;se++)q=m.g=v[se],L=zn(q,b,!1,m)&&L}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)me(v[b]);delete c.g[m],c.h--}}this.G=null},St.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},St.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function zn(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const se=m[q];if(se&&!se.da&&se.capture==v){const Ne=se.listener,Mt=se.ha||se.src;se.fa&&we(c.i,se),L=Ne.call(Mt,b)!==!1&&L}}return L&&!b.defaultPrevented}function ja(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function jn(c){c.g=ja(()=>{c.g=null,c.i&&(c.i=!1,jn(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class vt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function je(c){V.call(this),this.h=c,this.g={}}w(je,V);var Kt=[];function ni(c){Qe(c.g,function(m,v){this.g.hasOwnProperty(v)&&Ei(m)},c),c.g={}}je.prototype.N=function(){je.Z.N.call(this),ni(this)},je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=f.JSON.stringify,Fs=f.JSON.parse,us=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Yr(){}function Ba(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}w(Yt,D);function Sn(){D.call(this,"c")}w(Sn,D);var ut={},Gs=null;function Ai(){return Gs=Gs||new St}ut.Ia="serverreachability";function Qs(c){D.call(this,ut.Ia,c)}w(Qs,D);function Lt(c){const m=Ai();Ke(m,new Qs(m))}ut.STAT_EVENT="statevent";function zi(c,m){D.call(this,ut.STAT_EVENT,c),this.stat=m}w(zi,D);function Tt(c){const m=Ai();Ke(m,new zi(m,c))}ut.Ja="timingevent";function qn(c,m){D.call(this,ut.Ja,c),this.size=m}w(qn,D);function Jt(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function dn(){this.g=!0}dn.prototype.ua=function(){this.g=!1};function Xe(c,m,v,b,L,q){c.info(function(){if(c.g)if(q){var se="",Ne=q.split("&");for(let We=0;We<Ne.length;We++){var Mt=Ne[We].split("=");if(Mt.length>1){const At=Mt[0];Mt=Mt[1];const ai=At.split("_");se=ai.length>=2&&ai[1]=="type"?se+(At+"="+Mt+"&"):se+(At+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function qa(c,m,v,b,L,q,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+se})}function ii(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wo(c,v)+(b?" "+b:"")})}function cs(c,m){c.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Wo(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return Bn(q)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$r={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xr;function ji(){}w(ji,Yr),ji.prototype.g=function(){return new XMLHttpRequest},Xr=new ji;function wi(c){return encodeURIComponent(String(c))}function Ha(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Hn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new je(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var It={},Ot={};function Rn(c,m,v){c.M=1,c.A=Wr(Pt(m)),c.u=v,c.R=!0,Ks(c,null)}function Ks(c,m){c.F=Date.now(),In(c),c.B=Pt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Qa(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Fn,c.g=ku(c.j,v?m:null,!c.u),c.P>0&&(c.O=new vt(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Kt[0]=L.toString()),L=Kt);for(let q=0;q<L.length;q++){const se=ze(v,L[q],b||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Lt(),Xe(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Ii(c)==3?m.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=Ii(this.g),Mt=this.g.ya(),We=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ne!=4||Mt==7||(Mt==8||We<=0?Lt(3):Lt(2)),ee(this);var m=this.g.ca();this.X=m;var v=Fa(this);if(this.o=m==200,qa(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var q=b;break t}}q=null}if(c=q)ii(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,de(this,c);else{this.o=!1,this.m=3,Tt(12),ne(this),ae(this);break e}}if(this.R){c=!0;let At;for(;!this.K&&this.C<v.length;)if(At=Zr(this,v),At==Ot){Ne==4&&(this.m=4,Tt(14),c=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(At==It){this.m=4,Tt(15),ii(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ii(this.i,this.l,At,null),de(this,At);if(Jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)ii(this.i,this.l,v,"[Invalid Chunked Response]"),ne(this),ae(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ul(se),se.P=!0,Tt(11))}}else ii(this.i,this.l,v,null),de(this,v);Ne==4&&ne(this),this.o&&!this.K&&(Ne==4?Du(this.j,this):(this.o=!1,In(this)))}else ps(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),ne(this),ae(this)}}}catch{}finally{}};function Fa(c){if(!Jr(c))return c.g.la();const m=sn(c.g);if(m==="")return"";let v="";const b=m.length,L=Ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ne(c),ae(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<b;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Jr(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Zr(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Ot:(v=Number(m.substring(v,b)),isNaN(v)?It:(b+=1,b+v>m.length?Ot:(m=m.slice(b,b+v),c.C=b+v,m)))}Hn.prototype.cancel=function(){this.K=!0,ne(this)};function In(c){c.T=Date.now()+c.H,B(c,c.H)}function B(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Jt(y(c.aa,c),m)}function ee(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cs(this.i,this.B),this.M!=2&&(Lt(),Tt(17)),ne(this),this.m=2,ae(this)):B(this,this.T-c)};function ae(c){c.j.I==0||c.K||Du(c.j,c)}function ne(c){ee(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,ni(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function de(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||bt(v.h,c))){if(!c.L&&bt(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ja(v),tr(v);else break e;aa(v),Tt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Jt(y(v.Va,v),6e3));it(v.h)<=1&&v.ta&&(v.ta=void 0)}else Qi(v,11)}else if((c.L||v.g==c)&&Ja(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const At=We[0];if(!(At<=v.K))if(v.K=At,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const ai=We[3];ai!=null&&(v.ka=ai,v.j.info("VER="+v.ka));const Ki=We[4];Ki!=null&&(v.za=Ki,v.j.info("SVER="+v.za));const Ci=We[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(b=1.5*Ci,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const xi=c.g;if(xi){const oa=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var q=b.h;q.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(nn(q,q.h),q.h=null))}if(b.G){const Za=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(b.wa=Za,st(b.J,b.G,Za))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var se=c;if(b.na=Vu(b,b.L?b.ba:null,b.W),se.L){Gn(b.h,se);var Ne=se,Mt=b.O;Mt&&(Ne.H=Mt),Ne.D&&(ee(Ne),In(Ne)),b.g=se}else xu(b);v.i.length>0&&Gi(v)}else We[0]!="stop"&&We[0]!="close"||Qi(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Qi(v,7):ol(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Lt(4)}catch{}}var Te=class{constructor(c,m){this.g=c,this.map=m}};function Zt(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Et(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function it(c){return c.h?1:c.g?c.g.size:0}function bt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function nn(c,m){c.g?c.g.add(m):c.h=m}function Gn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Zt.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ds(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,q=null;b>=0?(L=c[v].substring(0,b),q=c[v].substring(b+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Tn?(this.l=c.l,Wt(this,c.j),this.o=c.o,this.g=c.g,Ys(this,c.u),this.h=c.h,el(this,Iu(c.i)),this.m=c.m):c&&(m=String(c).match(fs))?(this.l=!1,Wt(this,m[1]||"",!0),this.o=Bi(m[2]||""),this.g=Bi(m[3]||"",!0),Ys(this,m[4]),this.h=Bi(m[5]||"",!0),el(this,m[6]||"",!0),this.m=Bi(m[7]||"")):(this.l=!1,this.i=new Xs(null,this.l))}Tn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ea(m,Ga,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ea(m,Ga,!0),"@"),c.push(wi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ea(v,v.charAt(0)=="/"?tl:wu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ea(v,Su)),c.join("")},Tn.prototype.resolve=function(c){const m=Pt(this);let v=!!c.j;v?Wt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)Ys(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let se=0;se<L.length;){const Ne=L[se++];Ne=="."?b&&se==L.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&se==L.length&&q.push("")):(q.push(Ne),b=!0)}b=q.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?el(m,Iu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Pt(c){return new Tn(c)}function Wt(c,m,v){c.j=v?Bi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Ys(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function el(c,m,v){m instanceof Xs?(c.i=m,Ka(c.i,c.l)):(v||(m=ea(m,$s)),c.i=new Xs(m,c.l))}function st(c,m,v){c.i.set(m,v)}function Wr(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Bi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ea(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Cn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ga=/[#\/\?@]/g,wu=/[#\?:]/g,tl=/[#\?]/g,$s=/[#\?@]/g,Su=/#/g;function Xs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&ds(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Xs.prototype,s.add=function(c,m){xn(this),this.i=null,c=Js(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Ru(c,m){xn(c),m=Js(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function nl(c,m){return xn(c),m=Js(c,m),c.g.has(m)}s.forEach=function(c,m){xn(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function il(c,m){xn(c);let v=[];if(typeof m=="string")nl(c,m)&&(v=v.concat(c.g.get(Js(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return xn(this),this.i=null,c=Js(this,c),nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=il(this,c),c.length>0?String(c[0]):m):m};function Qa(c,m,v){Ru(c,m),v.length>0&&(c.i=null,c.g.set(Js(c,m),F(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=wi(v);v=il(this,v);for(let q=0;q<v.length;q++){let se=L;v[q]!==""&&(se+="="+wi(v[q])),c.push(se)}}return this.i=c.join("&")};function Iu(c){const m=new Xs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Js(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ka(c,m){m&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Ru(this,b),Qa(this,L,v))},c)),c.j=m}function Si(c,m){const v=new dn;if(f.Image){const b=new Image;b.onload=E(si,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(si,v,"TestLoadImage: error",!1,m,b),b.onabort=E(si,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(si,v,"TestLoadImage: timeout",!1,m,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function sl(c,m){const v=new dn,b=new AbortController,L=setTimeout(()=>{b.abort(),si(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?si(v,"TestPingServer: ok",!0,m):si(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),si(v,"TestPingServer: error",!1,m)})}function si(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Zs(){this.g=new us}function qi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(qi,Yr),qi.prototype.g=function(){return new ta(this.i,this.h)};function ta(c,m){St.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ta,St),s=ta.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Ri(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ws(this):Ri(this),this.readyState==3&&Ya(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ws(this))},s.Na=function(c){this.g&&(this.response=c,Ws(this))},s.ga=function(){this.g&&Ws(this)};function Ws(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ri(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ri(c){let m="";return Qe(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function na(c,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=ri(v),typeof c=="string"?v!=null&&wi(v):st(c,m,v))}function ct(c){St.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ct,St);var Hi=/^https?$/i,rl=["POST","PUT"];s=ct.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xr.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){ia(this,q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(rl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of v)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){ia(this,q)}};function ia(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,al(c),ms(c)}function al(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ke(this,"complete"),Ke(this,"abort"),ms(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},s.Xa=function(){sa(this)};function sa(c){if(c.h&&typeof u<"u"){if(c.v&&Ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ke(c,"readystatechange"),Ii(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let se=String(c.D).match(fs)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),b=!Hi.test(se?se.toLowerCase():"")}v=b}if(v)Ke(c,"complete"),Ke(c,"success");else{c.o=6;try{var L=Ii(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",al(c)}}finally{ms(c)}}}}function ms(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ke(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ii(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Fs(m)}};function sn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ps(c){const m={};c=(c.g&&Ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=Ha(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Le(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function er(c){this.za=0,this.i=[],this.j=new dn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,c),this.Za=Fi("retryDelaySeedMs",1e4,c),this.Ta=Fi("forwardChannelMaxRetries",2,c),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Zt(c&&c.concurrentRequestLimit),this.Ba=new Zs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=er.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){Tt(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Vu(this,null,this.W),Gi(this)};function ol(c){if($a(c),c.I==3){var m=c.V++,v=Pt(c.J);if(st(v,"SID",c.M),st(v,"RID",m),st(v,"TYPE","terminate"),ra(c,v),m=new Hn(c,c.j,m),m.M=2,m.A=Wr(Pt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),In(m)}Mu(c)}function tr(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function $a(c){tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ja(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Gi(c){if(!Et(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ve||R(),Oe||(Ve(),Oe=!0),N.add(m,c),c.D=0}}function Xa(c,m){return it(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Jt(y(c.Ea,c,m),Ou(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Hn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),oe(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Cu(this,L,m),v=Pt(this.J),st(v,"RID",c),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),ra(this,v),q&&(this.R?m="headers="+wi(ri(q))+"&"+m:this.u&&na(v,this.u,q)),nn(this.h,L),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",m),st(v,"SID","null"),L.U=!0,Rn(L,v,null)):Rn(L,v,m),this.I=2}}else this.I==3&&(c?ll(this,c):this.i.length==0||Et(this.h)||ll(this))};function ll(c,m){var v;m?v=m.l:v=c.V++;const b=Pt(c.J);st(b,"SID",c.M),st(b,"RID",v),st(b,"AID",c.K),ra(c,b),c.u&&c.o&&na(b,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Cu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),nn(c.h,v),Rn(v,b,m)}function ra(c,m){c.H&&Qe(c.H,function(v,b){st(m,b,v)}),c.l&&Qe({},function(v,b){st(m,b,v)})}function Cu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ne=-1;for(;;){const Mt=["count="+v];Ne==-1?v>0?(Ne=L[0].g,Mt.push("ofs="+Ne)):Ne=0:Mt.push("ofs="+Ne);let We=!0;for(let At=0;At<v;At++){var q=L[At].g;const ai=L[At].map;if(q-=Ne,q<0)Ne=Math.max(0,L[At].g-100),We=!1;else try{q="req"+q+"_"||"";try{var se=ai instanceof Map?ai:Object.entries(ai);for(const[Ki,Ci]of se){let xi=Ci;p(Ci)&&(xi=Bn(Ci)),Mt.push(q+Ki+"="+encodeURIComponent(xi))}}catch(Ki){throw Mt.push(q+"type="+encodeURIComponent("_badmap")),Ki}}catch{b&&b(ai)}}if(We){se=Mt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),m.G=c,se}function xu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ve||R(),Oe||(Ve(),Oe=!0),N.add(m,c),c.A=0}}function aa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Jt(y(c.Da,c),Ou(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Jt(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),tr(this),Nu(this))};function ul(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Pt(c.na);st(m,"RID","rpc"),st(m,"SID",c.M),st(m,"AID",c.K),st(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(m,"TO",c.ia),st(m,"TYPE","xmlhttp"),ra(c,m),c.u&&c.o&&na(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Wr(Pt(m)),v.u=null,v.R=!0,Ks(v,c)}s.Va=function(){this.C!=null&&(this.C=null,tr(this),aa(this),Tt(19))};function Ja(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Du(c,m){var v=null;if(c.g==m){Ja(c),ul(c),c.g=null;var b=2}else if(bt(c.h,m))v=m.G,Gn(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=Ai(),Ke(b,new qn(b,v)),Gi(c)}else xu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Xa(c,m)||b==2&&aa(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Qi(c,5);break;case 4:Qi(c,10);break;case 3:Qi(c,6);break;default:Qi(c,2)}}}function Ou(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Qi(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),b=c.Ua;const L=!b;b=new Tn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wt(b,"https"),Wr(b),L?Si(b.toString(),v):sl(b.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(m),Mu(c),$a(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Mu(c){if(c.I=0,c.ja=[],c.l){const m=vn(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Vu(c,m,v){var b=v instanceof Tn?Pt(v):new Tn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ys(b,b.u);else{var L=f.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Tn(null);b&&Wt(q,b),m&&(q.g=m),L&&Ys(q,L),v&&(q.h=v),b=q}return v=c.G,m=c.wa,v&&m&&st(b,v,m),st(b,"VER",c.ka),ra(c,b),b}function ku(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new ct(new qi({ab:v})):new ct(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}s=Uu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function nr(){}nr.prototype.g=function(c,m){return new En(c,m)};function En(c,m){St.call(this),this.g=new er(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new gs(this)}w(En,St),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){ol(this.g)},En.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Bn(c),c=v);m.i.push(new Te(m.Ya++,c)),m.I==3&&Gi(m)},En.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,En.Z.N.call(this)};function Lu(c){Yt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Lu,Yt);function Pu(){Sn.call(this),this.status=1}w(Pu,Sn);function gs(c){this.g=c}w(gs,Uu),gs.prototype.ra=function(){Ke(this.g,"a")},gs.prototype.qa=function(c){Ke(this.g,new Lu(c))},gs.prototype.pa=function(c){Ke(this.g,new Pu)},gs.prototype.oa=function(){Ke(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,zT=function(){return new nr},PT=function(){return Ai()},LT=ut,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Xc=hs,$r.COMPLETE="complete",UT=$r,Ba.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",St.prototype.listen=St.prototype.J,$l=Ba,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,kT=ct}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.9.0";function z1(s){Ko=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Oh("@firebase/firestore");function xo(){return xa.logLevel}function ue(s,...e){if(xa.logLevel<=He.DEBUG){const n=e.map(Xm);xa.debug(`Firestore (${Ko}): ${s}`,...n)}}function Ls(s,...e){if(xa.logLevel<=He.ERROR){const n=e.map(Xm);xa.error(`Firestore (${Ko}): ${s}`,...n)}}function Na(s,...e){if(xa.logLevel<=He.WARN){const n=e.map(Xm);xa.warn(`Firestore (${Ko}): ${s}`,...n)}}function Xm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,jT(s,r,n)}function jT(s,e,n){let r=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function nt(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||jT(e,o,r)}function xe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class B1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q1{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ks,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ks)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new BT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class H1{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class F1{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new H1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Q1(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Fe(s,e){return s<e?-1:s>e?1:0}function Rm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return lm(o)===lm(u)?Fe(o,u):lm(o)?1:-1}return Fe(s.length,e.length)}const K1=55296,Y1=57343;function lm(s){const e=s.charCodeAt(0);return e>=K1&&e<=Y1}function jo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="__name__";class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Zi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Zi.isNumericId(e),o=Zi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class pt extends Zi{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const $1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Zi{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return $1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new hn([Bv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(pt.fromString(e))}static fromName(e){return new ye(pt.fromString(e).popFirst(5))}static empty(){return new ye(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(s,e,n){if(!n)throw new le($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function X1(s,e,n,r){if(e===!0&&r===!0)throw new le($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function qv(s){if(!ye.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Hv(s){if(ye.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function HT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Pn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(s);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(s,e){const n={typeString:s};return e&&(n.value=e),n}function pu(s,e){if(!HT(s))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new le($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=-62135596800,Gv=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Gv);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Fv)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Gt("string",_t._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new _t(0,0))}static max(){return new Ie(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function J1(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Pr(o,ye.empty(),e)}function Z1(s){return new Pr(s.readTime,s.key,au)}class Pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pr(Ie.min(),ye.empty(),au)}static max(){return new Pr(Ie.max(),ye.empty(),au)}}function W1(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Fe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==eR)throw s;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++p,p===u&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new J(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function nR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=-1;function Uh(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function iR(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="";function sR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Qv(e)),e=rR(s.get(n),e);return Qv(e)}function rR(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case FT:n+="";break;default:n+=u}}return n}function Qv(s){return s+FT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Gr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function GT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??cn.RED,this.left=o??cn.EMPTY,this.right=u??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new cn(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Xt(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QT("Invalid base64 string: "+u):u}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const n=aR.exec(s);if(nt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function jr(s){return typeof s=="string"?fn.fromBase64String(s):fn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="server_timestamp",YT="__type__",$T="__previous_value__",XT="__local_write_time__";function Wm(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[YT])==null?void 0:r.stringValue)===KT}function Lh(s){const e=s.mapValue.fields[$T];return Wm(e)?Lh(e):e}function ou(s){const e=zr(s.mapValue.fields[XT].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,o,u,f,p,g,y,E,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=w}}const uh="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}function lR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__type__",uR="__max__",Fc={mapValue:{}},ZT="__vector__",ch="value";function Br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:hR(s)?9007199254740991:cR(s)?10:11:Ae(28295,{value:s})}function ss(s,e){if(s===e)return!0;const n=Br(s);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ou(s).isEqual(ou(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=zr(o.timestampValue),p=zr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return jr(o.bytesValue).isEqual(jr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ut(o.geoPointValue.latitude)===Ut(u.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ut(o.integerValue)===Ut(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ut(o.doubleValue),p=Ut(u.doubleValue);return f===p?lh(f)===lh(p):isNaN(f)&&isNaN(p)}return!1})(s,e);case 9:return jo(s.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Kv(f)!==Kv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!ss(f[g],p[g])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function uu(s,e){return(s.values||[]).find((n=>ss(n,e)))!==void 0}function Bo(s,e){if(s===e)return 0;const n=Br(s),r=Br(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=Ut(u.integerValue||u.doubleValue),g=Ut(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return $v(s.timestampValue,e.timestampValue);case 4:return $v(ou(s),ou(e));case 5:return Rm(s.stringValue,e.stringValue);case 6:return(function(u,f){const p=jr(u),g=jr(f);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Fe(p[y],g[y]);if(E!==0)return E}return Fe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Fe(Ut(u.latitude),Ut(f.latitude));return p!==0?p:Fe(Ut(u.longitude),Ut(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Xv(s.arrayValue,e.arrayValue);case 10:return(function(u,f){var S,F,Z,ie;const p=u.fields||{},g=f.fields||{},y=(S=p[ch])==null?void 0:S.arrayValue,E=(F=g[ch])==null?void 0:F.arrayValue,w=Fe(((Z=y==null?void 0:y.values)==null?void 0:Z.length)||0,((ie=E==null?void 0:E.values)==null?void 0:ie.length)||0);return w!==0?w:Xv(y,E)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const S=Rm(g[w],E[w]);if(S!==0)return S;const F=Bo(p[g[w]],y[E[w]]);if(F!==0)return F}return Fe(g.length,E.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function $v(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const n=zr(s),r=zr(e),o=Fe(n.seconds,r.seconds);return o!==0?o:Fe(n.nanos,r.nanos)}function Xv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Bo(n[o],r[o]);if(u)return u}return Fe(n.length,r.length)}function qo(s){return Im(s)}function Im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=zr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return jr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Im(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Im(n.fields[f])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function Jc(s){switch(Br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(s);return e?16+Jc(e):16;case 5:return 2*s.stringValue.length;case 6:return jr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Jc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Gr(r.fields,((u,f)=>{o+=u.length+Jc(f)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function Jv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Cm(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function Zv(s){return!!s&&"nullValue"in s}function Wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function cR(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[JT])==null?void 0:r.stringValue)===ZT}function eu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Gr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=eu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(s.arrayValue.values[n]);return e}return{...s}}function hR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=hn.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=eu(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Gr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Un(eu(this.value))}}function WT(s){const e=[];return Gr(s.fields,((n,r)=>{const o=new hn([n]);if(Zc(r)){const u=WT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,o,u,f,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new yn(e,0,Ie.min(),Ie.min(),Ie.min(),Un.empty(),0)}static newFoundDocument(e,n,r,o){return new yn(e,1,n,Ie.min(),r,o,0)}static newNoDocument(e,n){return new yn(e,2,n,Ie.min(),Ie.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ie.min(),Ie.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function e0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),n.key):r=Bo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function t0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ss(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function fR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{}class Ft extends eE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mR(e,n,r):n==="array-contains"?new yR(e,r):n==="in"?new _R(e,r):n==="not-in"?new vR(e,r):n==="array-contains-any"?new TR(e,r):new Ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pR(e,r):new gR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends eE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pi(e,n)}matches(e){return tE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tE(s){return s.op==="and"}function nE(s){return dR(s)&&tE(s)}function dR(s){for(const e of s.filters)if(e instanceof Pi)return!1;return!0}function xm(s){if(s instanceof Ft)return s.field.canonicalString()+s.op.toString()+qo(s.value);if(nE(s))return s.filters.map((e=>xm(e))).join(",");{const e=s.filters.map((n=>xm(n))).join(",");return`${s.op}(${e})`}}function iE(s,e){return s instanceof Ft?(function(r,o){return o instanceof Ft&&r.op===o.op&&r.field.isEqual(o.field)&&ss(r.value,o.value)})(s,e):s instanceof Pi?(function(r,o){return o instanceof Pi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&iE(f,o.filters[p])),!0):!1})(s,e):void Ae(19439)}function sE(s){return s instanceof Ft?(function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`})(s):s instanceof Pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(sE).join(" ,")+"}"})(s):"Filter"}class mR extends Ft{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class pR extends Ft{constructor(e,n){super(e,"in",n),this.keys=rE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gR extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=rE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rE(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class yR extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ep(n)&&uu(n.arrayValue,this.value)}}class _R extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class vR extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class TR extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>uu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n=null,r=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function n0(s,e=null,n=[],r=[],o=null,u=null,f=null){return new ER(s,e,n,r,o,u,f)}function tp(s){const e=xe(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>xm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>qo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>qo(r))).join(",")),e.Te=n}return e.Te}function np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!fR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!iE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!t0(s.startAt,e.startAt)&&t0(s.endAt,e.endAt)}function Nm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n=null,r=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bR(s,e,n,r,o,u,f,p){return new Xo(s,e,n,r,o,u,f,p)}function Ph(s){return new Xo(s)}function i0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function AR(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function aE(s){return s.collectionGroup!==null}function tu(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Xt(hn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new cu(u,r))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new cu(hn.keyField(),r))}return e.Ie}function Wi(s){const e=xe(s);return e.Ee||(e.Ee=wR(e,tu(s))),e.Ee}function wR(s,e){if(s.limitType==="F")return n0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new cu(o.field,u)}));const n=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return n0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Dm(s,e){const n=s.filters.concat([e]);return new Xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function SR(s,e){const n=s.explicitOrderBy.concat([e]);return new Xo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function fh(s,e,n){return new Xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function zh(s,e){return np(Wi(s),Wi(e))&&s.limitType===e.limitType}function oE(s){return`${tp(Wi(s))}|lt:${s.limitType}`}function No(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>sE(o))).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>qo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>qo(o))).join(",")),`Target(${r})`})(Wi(s))}; limitType=${s.limitType})`}function jh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ye.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of tu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,g){const y=e0(f,p,g);return f.inclusive?y<=0:y<0})(r.startAt,tu(r),o)||r.endAt&&!(function(f,p,g){const y=e0(f,p,g);return f.inclusive?y>=0:y>0})(r.endAt,tu(r),o))})(s,e)}function RR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function lE(s){return(e,n)=>{let r=!1;for(const o of tu(s)){const u=IR(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function IR(s,e,n){const r=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Bo(g,y):Ae(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Rt(ye.comparator);function Ps(){return CR}const uE=new Rt(ye.comparator);function Xl(...s){let e=uE;for(const n of s)e=e.insert(n.key,n);return e}function cE(s){let e=uE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wa(){return nu()}function hE(){return nu()}function nu(){return new Pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xR=new Rt(ye.comparator),NR=new Xt(ye.comparator);function Ge(...s){let e=NR;for(const n of s)e=e.add(n);return e}const DR=new Xt(Fe);function OR(){return DR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function fE(s){return{integerValue:""+s}}function MR(s,e){return iR(e)?fE(e):ip(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function VR(s,e,n){return s instanceof dh?(function(o,u){const f={fields:{[YT]:{stringValue:KT},[XT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wm(u)&&(u=Lh(u)),u&&(f.fields[$T]=u),{mapValue:f}})(n,e):s instanceof hu?mE(s,e):s instanceof fu?pE(s,e):(function(o,u){const f=dE(o,u),p=s0(f)+s0(o.Ae);return Cm(f)&&Cm(o.Ae)?fE(p):ip(o.serializer,p)})(s,e)}function kR(s,e,n){return s instanceof hu?mE(s,e):s instanceof fu?pE(s,e):n}function dE(s,e){return s instanceof mh?(function(r){return Cm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class dh extends Bh{}class hu extends Bh{constructor(e){super(),this.elements=e}}function mE(s,e){const n=gE(e);for(const r of s.elements)n.some((o=>ss(o,r)))||n.push(r);return{arrayValue:{values:n}}}class fu extends Bh{constructor(e){super(),this.elements=e}}function pE(s,e){let n=gE(e);for(const r of s.elements)n=n.filter((o=>!ss(o,r)));return{arrayValue:{values:n}}}class mh extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function s0(s){return Ut(s.integerValue||s.doubleValue)}function gE(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function UR(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof hu&&o instanceof hu||r instanceof fu&&o instanceof fu?jo(r.elements,o.elements,ss):r instanceof mh&&o instanceof mh?ss(r.Ae,o.Ae):r instanceof dh&&o instanceof dh})(s.transform,e.transform)}class LR{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function yE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new sp(s.key,yi.none()):new gu(s.key,s.data,yi.none());{const n=s.data,r=Un.empty();let o=new Xt(hn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Qr(s.key,r,new Wn(o.toArray()),yi.none())}}function PR(s,e,n){s instanceof gu?(function(o,u,f){const p=o.value.clone(),g=a0(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Qr?(function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=a0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(_E(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function iu(s,e,n,r){return s instanceof gu?(function(u,f,p,g){if(!Wc(u.precondition,f))return p;const y=u.value.clone(),E=o0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Qr?(function(u,f,p,g){if(!Wc(u.precondition,f))return p;const y=o0(u.fieldTransforms,g,f),E=f.data;return E.setAll(_E(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,n,r):(function(u,f,p){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,e,n)}function zR(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=dE(r.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(r.field,u))}return n||null}function r0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&jo(r,o,((u,f)=>UR(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class gu extends qh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends qh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _E(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function a0(s,e,n){const r=new Map;nt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=e.data.field(u.field);r.set(u.field,kR(f,p,n[o]))}return r}function o0(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,VR(u,f,e))}return r}class sp extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&PR(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hE();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=yE(f,p);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((n,r)=>r0(n,r)))&&jo(this.baseMutations,e.baseMutations,((n,r)=>r0(n,r)))}}class rp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return xR})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new rp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,$e;function FR(s){switch(s){case $.OK:return Ae(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function vE(s){if(s===void 0)return Ls("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ht.OK:return $.OK;case Ht.CANCELLED:return $.CANCELLED;case Ht.UNKNOWN:return $.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return $.INTERNAL;case Ht.UNAVAILABLE:return $.UNAVAILABLE;case Ht.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ht.NOT_FOUND:return $.NOT_FOUND;case Ht.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ht.ABORTED:return $.ABORTED;case Ht.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ht.DATA_LOSS:return $.DATA_LOSS;default:return Ae(39323,{code:s})}}($e=Ht||(Ht={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new kr([4294967295,4294967295],0);function l0(s){const e=GR().encode(s),n=new VT;return n.update(e),new Uint8Array(n.digest())}function u0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new kr([n,r],0),new kr([o,u],0)]}class ap{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=kr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(kr.fromNumber(r)));return o.compare(QR)===1&&(o=new kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=l0(e),[r,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ap(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=l0(e),[r,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(Ie.min(),o,new Rt(Fe),Ps(),Ge())}}class yu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class TE{constructor(e,n){this.targetId=e,this.Ce=n}}class EE{constructor(e,n,r=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class c0{constructor(){this.ve=0,this.Fe=h0(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:u})}})),new yu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=h0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class KR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ps(),this.He=Gc(),this.Je=Gc(),this.Ze=new Rt(Fe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Nm(u))if(r===0){const f=new ye(u.path);this.et(n,f,yn.newNoDocument(f,Ie.min()))}else nt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=jr(r).toUint8Array()}catch(g){if(g instanceof QT)return Na("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ap(f,o,u)}catch(g){return Na(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Nm(p.target)){const g=new ye(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,yn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Ge();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Hh(e,n,this.Ze,this.je,r);return this.je=Ps(),this.He=Gc(),this.Je=Gc(),this.Ze=new Rt(Fe),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new c0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xt(Fe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xt(Fe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new Rt(ye.comparator)}function h0(){return new Rt(ye.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},$R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class JR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(s,e){return s.useProto3Json||Uh(e)?e:{value:e}}function ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(s,e){return ph(s,e.toTimestamp())}function es(s){return nt(!!s,49232),Ie.fromTimestamp((function(n){const r=zr(n);return new _t(r.seconds,r.nanos)})(s))}function op(s,e){return Mm(s,e).canonicalString()}function Mm(s,e){const n=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function AE(s){const e=pt.fromString(s);return nt(CE(e),10190,{key:e.toString()}),e}function Vm(s,e){return op(s.databaseId,e.path)}function um(s,e){const n=AE(e);if(n.get(1)!==s.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(SE(n))}function wE(s,e){return op(s.databaseId,e)}function WR(s){const e=AE(s);return e.length===4?pt.emptyPath():SE(e)}function km(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function SE(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function f0(s,e,n){return{name:Vm(s,e),fields:n.value.mapValue.fields}}function eI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(nt(E===void 0||typeof E=="string",58123),fn.fromBase64String(E||"")):(nt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),fn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?$.UNKNOWN:vE(y.code);return new le(E,y.message||"")})(f);n=new EE(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=um(s,r.document.name),u=es(r.document.updateTime),f=r.document.createTime?es(r.document.createTime):Ie.min(),p=new Un({mapValue:{fields:r.document.fields}}),g=yn.newFoundDocument(o,u,f,p),y=r.targetIds||[],E=r.removedTargetIds||[];n=new eh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=um(s,r.document),u=r.readTime?es(r.readTime):Ie.min(),f=yn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new eh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=um(s,r.document),u=r.removedTargetIds||[];n=new eh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new HR(o,u),p=r.targetId;n=new TE(p,f)}}return n}function tI(s,e){let n;if(e instanceof gu)n={update:f0(s,e.key,e.value)};else if(e instanceof sp)n={delete:Vm(s,e.key)};else if(e instanceof Qr)n={update:f0(s,e.key,e.data),updateMask:cI(e.fieldMask)};else{if(!(e instanceof jR))return Ae(16599,{dt:e.type});n={verify:Vm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof hu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(s,e.precondition)),n}function nI(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?es(o.updateTime):es(u);return f.isEqual(Ie.min())&&(f=es(u)),new LR(f,o.transformResults||[])})(n,e)))):[]}function iI(s,e){return{documents:[wE(s,e.path)]}}function sI(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wE(s,o);const u=(function(y){if(y.length!==0)return IE(Pi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:Do(S.field),direction:oI(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Om(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function rI(s){let e=WR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){nt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const S=RE(w);return S instanceof Pi&&nE(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((S=>(function(Z){return new cu(Oo(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let S;return S=typeof w=="object"?w.value:w,Uh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(w){const S=!!w.before,F=w.values||[];return new hh(F,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const S=!w.before,F=w.values||[];return new hh(F,S)})(n.endAt)),bR(e,o,f,u,p,"F",g,y)}function aI(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oo(n.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(n.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Oo(n.unaryFilter.field);return Ft.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ft.create(Oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Pi.create(n.compositeFilter.filters.map((r=>RE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(s):Ae(30097,{filter:s})}function oI(s){return YR[s]}function lI(s){return $R[s]}function uI(s){return XR[s]}function Do(s){return{fieldPath:s.canonicalString()}}function Oo(s){return hn.fromServerFormat(s.fieldPath)}function IE(s){return s instanceof Ft?(function(n){if(n.op==="=="){if(Wv(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wv(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:lI(n.op),value:n.value}}})(s):s instanceof Pi?(function(n){const r=n.getFilters().map((o=>IE(o)));return r.length===1?r[0]:{compositeFilter:{op:uI(n.op),filters:r}}})(s):Ae(54877,{filter:s})}function cI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function CE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function xE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,o,u=Ie.min(),f=Ie.min(),p=fn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.yt=e}}function fI(s){const e=rI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Sn=new mI}addToCollectionParentIndex(e,n){return this.Sn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Pr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class mI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Xt(pt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Xt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NE=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(NE,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ho(0)}static ar(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LruGarbageCollector",pI=1048576;function p0([s,e],[n,r]){const o=Fe(s,n);return o===0?Fe(e,r):o}class gI{constructor(e){this.Pr=e,this.buffer=new Xt(p0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ue(m0,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Ar(3e5)}))}}class _I{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(kh.ce);const r=new gI(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(d0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),xo()<=He.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function vI(s,e){return new _I(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.changes=new Pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&iu(r.mutation,o,Wn.empty(),_t.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const o=wa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Xl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=wa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,r,o){let u=Ps();const f=nu(),p=(function(){return nu()})();return n.forEach(((g,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Qr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),iu(E.mutation,y,E.mutation.getFieldMask(),_t.now())):f.set(y.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>p.set(y,new EI(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=nu();let o=new Rt(((f,p)=>f-p)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=r.get(g)||Wn.empty();E=p.applyToLocalView(y,E),r.set(g,E);const w=(o.get(p.batchId)||Ge()).add(g);o=o.insert(p.batchId,w)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,w=hE();E.forEach((S=>{if(!u.has(S)){const F=yE(n.get(S),r.get(S));F!==null&&w.set(S,F),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return AR(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):J.resolve(wa());let p=au,g=u;return f.next((y=>J.forEach(y,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ge()))).next((E=>({batchId:p,changes:cE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let o=Xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Xl();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(g=>{const y=(function(w,S){return new Xo(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((w,S)=>{f=f.insert(w,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))}));let p=Xl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&iu(E.mutation,y,Wn.empty(),_t.now()),jh(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:es(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:fI(o.bundledQuery),readTime:es(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.overlays=new Rt(ye.comparator),this.Lr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wa();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const o=wa(),u=n.length+1,f=new ye(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new Rt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=wa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=wa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return J.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new qR(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ge(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this.kr=new Xt(tn.Kr),this.qr=new Xt(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new tn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ye(new pt([])),r=new tn(n,e),o=new tn(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new pt([])),r=new tn(n,e),o=new tn(n,e+1);let u=Ge();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new tn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Fe(e.Hr,n.Hr)}static Ur(e,n){return Fe(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(tn.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BR(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Jr=this.Jr.add(new tn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Zm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),o=new tn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const p=this.Zr(f.Hr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(Fe);return n.forEach((o=>{const u=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ye.isDocumentKey(u)||(u=u.child(""));const f=new tn(new ye(u),0);let p=new Xt(Fe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),f),J.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(o=>{const u=new tn(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new tn(n,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.ti=e,this.docs=(function(){return new Rt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Ps();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Ps();const f=n.path,p=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||W1(Z1(E),r)<=0||(o.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ae(9500)}ni(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new CI(this)}getSize(e){return J.resolve(this.size)}}class CI extends TI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.persistence=e,this.ri=new Pa((n=>tp(n)),np),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new lp,this.targetCount=0,this.oi=Ho._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.lr(n),J.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this._i={},this.overlays={},this.ai=new kh(0),this.ui=!1,this.ui=!0,this.ci=new SI,this.referenceDelegate=e(this),this.li=new xI(this),this.indexManager=new dI,this.remoteDocumentCache=(function(o){return new II(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new hI(n),this.Pi=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new RI(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new NI(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class NI extends tR{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new lp,this.Ai=null}static Vi(e){return new up(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=ye.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ie.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.fi=new Pa((r=>sR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=vI(this,n)}static Vi(e,n){return new gh(e,n)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((p=>{p||(r++,u.removeEntry(f,Ie.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}wr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Ge(),o=Ge();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cp(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yS()?8:nR(_n())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DI;return this.ys(e,n,f).next((p=>{if(u.result=p,this.As)return this.ws(e,n,f,p.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(xo()<=He.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(xo()<=He.DEBUG&&ue("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(xo()<=He.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):J.resolve())}gs(e,n){if(i0(n))return J.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fh(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Ge(...u);return this.fs.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(e,fh(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return i0(n)||o.isEqual(Ie.min())?J.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?J.resolve(null):(xo()<=He.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(n)),this.Ds(e,f,n,J1(o,au)).next((p=>p)))}))}bs(e,n){let r=new Xt(lE(e));return n.forEach(((o,u)=>{jh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return xo()<=He.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",No(n)),this.fs.getDocumentsMatchingQuery(e,n,Pr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="LocalStore",MI=3e8;class VI{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Rt(Fe),this.Fs=new Pa((u=>tp(u)),np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function kI(s,e,n,r){return new VI(s,e,n,r)}async function OE(s,e){const n=xe(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let g=Ge();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function UI(s,e){const n=xe(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const w=y.batch,S=w.keys();let F=J.resolve();return S.forEach((Z=>{F=F.next((()=>E.getEntry(g,Z))).next((ie=>{const W=y.docVersions.get(Z);nt(W!==null,48541),ie.version.compareTo(W)<0&&(w.applyToRemoteDocument(ie,y),ie.isValidDocument()&&(ie.setReadTime(y.commitVersion),E.addEntry(ie)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ge();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function ME(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function LI(s,e){const n=xe(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((E,w)=>{const S=o.get(w);if(!S)return;p.push(n.li.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,w))));let F=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?F=F.withResumeToken(fn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,r)),o=o.insert(w,F),(function(ie,W,pe){return ie.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=MI?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(S,F,E)&&p.push(n.li.updateTargetData(u,F))}));let g=Ps(),y=Ge();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(PI(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!r.isEqual(Ie.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return J.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function PI(s,e,n){let r=Ge(),o=Ge();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=Ps();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ue(hp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function zI(s,e){const n=xe(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jI(s,e){const n=xe(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,J.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new Or(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Um(s,e,n){const r=xe(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!$o(f))throw f;ue(hp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function g0(s,e,n){const r=xe(s);let o=Ie.min(),u=Ge();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const w=xe(g),S=w.Fs.get(E);return S!==void 0?J.resolve(w.vs.get(S)):w.li.getTargetData(y,E)})(r,f,Wi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Ie.min(),n?u:Ge()))).next((p=>(BI(r,RR(e),p),{documents:p,ks:u})))))}function BI(s,e,n){let r=s.Ms.get(e)||Ie.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class y0{constructor(){this.activeTargetIds=OR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qI{constructor(){this.vo=new y0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new y0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="ConnectivityMonitor";class v0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(_0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Lm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",FI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=Lm(),p=this.Qo(e,n.toUriEncodedString());ue(cm,`Sending RPC '${e}' ${f}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(p),E=ka(y);return this.zo(e,p,g,r,E).then((w=>(ue(cm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Na(cm,`RPC '${e}' ${f} failed with error: `,w,"url: ",p,"request:",r),w}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=FI[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection",Yl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Vo extends GI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vo.c_){const e=PT();Yl(e,LT.STAT_EVENT,(n=>{n.stat===Sm.PROXY?ue(pn,"STAT_EVENT: detected buffering proxy"):n.stat===Sm.NOPROXY&&ue(pn,"STAT_EVENT: detected no buffering proxy")})),Vo.c_=!0}}zo(e,n,r,o,u){const f=Lm();return new Promise(((p,g)=>{const y=new kT;y.setWithCredentials(!0),y.listenOnce(UT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const w=y.getResponseJson();ue(pn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),p(w);break;case Xc.TIMEOUT:ue(pn,`RPC '${e}' ${f} timed out`),g(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const S=y.getStatus();if(ue(pn,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F==null?void 0:F.error;if(Z&&Z.status&&Z.message){const ie=(function(pe){const Ee=pe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ee)>=0?Ee:$.UNKNOWN})(Z.status);g(new le(ie,Z.message))}else g(new le($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le($.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(pn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(pn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Lm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=u.join("");ue(pn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const E=f.createWebChannel(y,p);this.I_(E);let w=!1,S=!1;const F=new QI({Ho:Z=>{S?ue(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(w||(ue(pn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),w=!0),ue(pn,`RPC '${e}' stream ${o} sending:`,Z),E.send(Z))},Jo:()=>E.close()});return Yl(E,$l.EventType.OPEN,(()=>{S||(ue(pn,`RPC '${e}' stream ${o} transport opened.`),F.i_())})),Yl(E,$l.EventType.CLOSE,(()=>{S||(S=!0,ue(pn,`RPC '${e}' stream ${o} transport closed`),F.o_(),this.E_(E))})),Yl(E,$l.EventType.ERROR,(Z=>{S||(S=!0,Na(pn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new le($.UNAVAILABLE,"The operation could not be completed")))})),Yl(E,$l.EventType.MESSAGE,(Z=>{var ie;if(!S){const W=Z.data[0];nt(!!W,16349);const pe=W,Ee=(pe==null?void 0:pe.error)||((ie=pe[0])==null?void 0:ie.error);if(Ee){ue(pn,`RPC '${e}' stream ${o} received error:`,Ee);const _e=Ee.status;let Re=(function(N){const R=Ht[N];if(R!==void 0)return vE(R)})(_e),Ve=Ee.message;_e==="NOT_FOUND"&&Ve.includes("database")&&Ve.includes("does not exist")&&Ve.includes(this.databaseId.database)&&Na(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Re===void 0&&(Re=$.INTERNAL,Ve="Unknown error status: "+_e+" with message "+Ee.message),S=!0,F.o_(new le(Re,Ve)),E.close()}else ue(pn,`RPC '${e}' stream ${o} received:`,W),F.__(W)}})),Vo.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return zT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(s){return new Vo(s)}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(s){return new JR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo.c_=!1;class VE{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class kE{constructor(e,n,r,o,u,f,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new le($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YI extends kE{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ie.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?es(f.readTime):Ie.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=km(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Nm(g)?{documents:iI(u,g)}:{query:sI(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=bE(u,f.resumeToken);const y=Om(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ie.min())>0){p.readTime=ph(u,f.snapshotVersion.toTimestamp());const y=Om(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=aI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.K_(n)}}class $I extends kE{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nI(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tI(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{}class JI extends XI{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Mm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le($.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(e,Mm(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ZI(s,e,n,r){return new JI(s,e,n,r)}class WI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class eC{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{za(this)&&(ue(Da,"Restarting streams for network reachability change."),await(async function(g){const y=xe(g);y.Ea.add(4),await _u(y),y.Va.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Va=new WI(r,o)}}async function Gh(s){if(za(s))for(const e of s.Ra)await e(!0)}async function _u(s){for(const e of s.Ra)await e(!1)}function UE(s,e){const n=xe(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pp(n)?mp(n):Jo(n).O_()&&dp(n,e))}function fp(s,e){const n=xe(s),r=Jo(n);n.Ia.delete(e),r.O_()&&LE(n,e),n.Ia.size===0&&(r.O_()?r.L_():za(n)&&n.Va.set("Unknown"))}function dp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(s).Z_(e)}function LE(s,e){s.da.$e(e),Jo(s).X_(e)}function mp(s){s.da=new KR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Jo(s).start(),s.Va.ua()}function pp(s){return za(s)&&!Jo(s).x_()&&s.Ia.size>0}function za(s){return xe(s).Ea.size===0}function PE(s){s.da=void 0}async function tC(s){s.Va.set("Online")}async function nC(s){s.Ia.forEach(((e,n)=>{dp(s,e)}))}async function iC(s,e){PE(s),pp(s)?(s.Va.ha(e),mp(s)):s.Va.set("Unknown")}async function sC(s,e,n){if(s.Va.set("Online"),e instanceof EE&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){ue(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(s,r)}else if(e instanceof eh?s.da.Xe(e):e instanceof TE?s.da.st(e):s.da.tt(e),!n.isEqual(Ie.min()))try{const r=await ME(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(fn.EMPTY_BYTE_STRING,E.snapshotVersion)),LE(u,g);const w=new Or(E.target,g,y,E.sequenceNumber);dp(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ue(Da,"Failed to raise snapshot:",r),await yh(s,r)}}async function yh(s,e,n){if(!$o(e))throw e;s.Ea.add(1),await _u(s),s.Va.set("Offline"),n||(n=()=>ME(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(Da,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Gh(s)}))}function zE(s,e){return e().catch((n=>yh(s,n,e)))}async function Qh(s){const e=xe(s),n=qr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;rC(e);)try{const o=await zI(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,aC(e,o)}catch(o){await yh(e,o)}jE(e)&&BE(e)}function rC(s){return za(s)&&s.Ta.length<10}function aC(s,e){s.Ta.push(e);const n=qr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function jE(s){return za(s)&&!qr(s).x_()&&s.Ta.length>0}function BE(s){qr(s).start()}async function oC(s){qr(s).ra()}async function lC(s){const e=qr(s);for(const n of s.Ta)e.ea(n.mutations)}async function uC(s,e,n){const r=s.Ta.shift(),o=rp.from(r,e,n);await zE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Qh(s)}async function cC(s,e){e&&qr(s).Y_&&await(async function(r,o){if((function(f){return FR(f)&&f!==$.ABORTED})(o.code)){const u=r.Ta.shift();qr(r).B_(),await zE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qh(r)}})(s,e),jE(s)&&BE(s)}async function E0(s,e){const n=xe(s);n.asyncQueue.verifyOperationInProgress(),ue(Da,"RemoteStore received new credentials");const r=za(n);n.Ea.add(3),await _u(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function hC(s,e){const n=xe(s);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await _u(n),n.Va.set("Unknown"))}function Jo(s){return s.ma||(s.ma=(function(n,r,o){const u=xe(n);return u.sa(),new YI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:tC.bind(null,s),Yo:nC.bind(null,s),t_:iC.bind(null,s),J_:sC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Va.set("Unknown")):(await s.ma.stop(),PE(s))}))),s.ma}function qr(s){return s.fa||(s.fa=(function(n,r,o){const u=xe(n);return u.sa(),new $I(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:oC.bind(null,s),t_:cC.bind(null,s),ta:lC.bind(null,s),na:uC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Qh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(Da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,p=new gp(e,n,f,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(Ls("AsyncQueue",`${e}: ${s}`),$o(s))return new le($.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Xl(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.ga=new Rt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Fo{constructor(e,n,r,o,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new Fo(e,n,ko.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class dC{constructor(){this.queries=A0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=xe(n),u=o.queries;o.queries=A0(),u.forEach(((f,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function A0(){return new Pa((s=>oE(s)),zh)}async function _p(s,e){const n=xe(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new fC,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=yp(f,`Initialization of query '${No(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Tp(n)}async function vp(s,e){const n=xe(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mC(s,e){const n=xe(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(o)&&(r=!0);f.wa=o}}r&&Tp(n)}function pC(s,e,n){const r=xe(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function Tp(s){s.Ca.forEach((e=>{e.next()}))}var Pm,w0;(w0=Pm||(Pm={})).Ma="default",w0.Cache="cache";class Ep{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class gC{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=lE(e),this.tu=new ko(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new b0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const S=o.get(E),F=jh(this.query,w)?w:null,Z=!!S&&this.mutatedKeys.has(S.key),ie=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;S&&F?S.data.isEqual(F.data)?Z!==ie&&(r.track({type:3,doc:F}),W=!0):this.su(S,F)||(r.track({type:2,doc:F}),W=!0,(g&&this.eu(F,g)>0||y&&this.eu(F,y)<0)&&(p=!0)):!S&&F?(r.track({type:0,doc:F}),W=!0):S&&!F&&(r.track({type:1,doc:S}),W=!0,(g||y)&&(p=!0)),W&&(F?(f=f.add(F),u=ie?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(F,Z){const ie=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:W})}};return ie(F)-ie(Z)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new Fo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new HE(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new qE(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const bp="SyncEngine";class yC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _C{constructor(e){this.key=e,this.hu=!1}}class vC{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Pa((p=>oE(p)),zh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Rt(ye.comparator),this.Au=new Map,this.Vu=new lp,this.du={},this.mu=new Map,this.fu=Ho.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TC(s,e,n=!0){const r=$E(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await FE(r,e,n,!0),o}async function EC(s,e){const n=$E(s);await FE(n,e,!0,!1)}async function FE(s,e,n,r){const o=await jI(s.localStore,Wi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await bC(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&UE(s.remoteStore,o),p}async function bC(s,e,n,r,o){s.pu=(w,S,F)=>(async function(ie,W,pe,Ee){let _e=W.view.ru(pe);_e.Ss&&(_e=await g0(ie.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,_e))));const Re=Ee&&Ee.targetChanges.get(W.targetId),Ve=Ee&&Ee.targetMismatches.get(W.targetId)!=null,Oe=W.view.applyChanges(_e,ie.isPrimaryClient,Re,Ve);return R0(ie,W.targetId,Oe.au),Oe.snapshot})(s,w,S,F);const u=await g0(s.localStore,e,!0),f=new gC(e,u.ks),p=f.ru(u.documents),g=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(p,s.isPrimaryClient,g);R0(s,n,y.au);const E=new yC(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function AC(s,e,n){const r=xe(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!zh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fp(r.remoteStore,o.targetId),zm(r,o.targetId)})).catch(Yo)):(zm(r,o.targetId),await Um(r.localStore,o.targetId,!0))}async function wC(s,e){const n=xe(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fp(n.remoteStore,r.targetId))}async function SC(s,e,n){const r=OC(s);try{const o=await(function(f,p){const g=xe(f),y=_t.now(),E=p.reduce(((F,Z)=>F.add(Z.key)),Ge());let w,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=Ps(),ie=Ge();return g.xs.getEntries(F,E).next((W=>{Z=W,Z.forEach(((pe,Ee)=>{Ee.isValidDocument()||(ie=ie.add(pe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,Z))).next((W=>{w=W;const pe=[];for(const Ee of p){const _e=zR(Ee,w.get(Ee.key).overlayedDocument);_e!=null&&pe.push(new Qr(Ee.key,_e,WT(_e.value.mapValue),yi.exists(!0)))}return g.mutationQueue.addMutationBatch(F,y,pe,p)})).next((W=>{S=W;const pe=W.applyToLocalDocumentSet(w,ie);return g.documentOverlayCache.saveOverlays(F,W.batchId,pe)}))})).then((()=>({batchId:S.batchId,changes:cE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new Rt(Fe)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await vu(r,o.changes),await Qh(r.remoteStore)}catch(o){const u=yp(o,"Failed to persist write");n.reject(u)}}async function GE(s,e){const n=xe(s);try{const r=await LI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?nt(f.hu,14607):o.removedDocuments.size>0&&(nt(f.hu,42227),f.hu=!1))})),await vu(n,r,e)}catch(r){await Yo(r)}}function S0(s,e,n){const r=xe(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=xe(f);g.onlineState=p;let y=!1;g.queries.forEach(((E,w)=>{for(const S of w.ba)S.va(p)&&(y=!0)})),y&&Tp(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RC(s,e,n){const r=xe(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new Rt(ye.comparator);f=f.insert(u,yn.newNoDocument(u,Ie.min()));const p=Ge().add(u),g=new Hh(Ie.min(),new Map,new Rt(Fe),f,p);await GE(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),Ap(r)}else await Um(r.localStore,e,!1).then((()=>zm(r,e,n))).catch(Yo)}async function IC(s,e){const n=xe(s),r=e.batch.batchId;try{const o=await UI(n.localStore,e);KE(n,r,null),QE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vu(n,o)}catch(o){await Yo(o)}}async function CC(s,e,n){const r=xe(s);try{const o=await(function(f,p){const g=xe(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(nt(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);KE(r,e,n),QE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vu(r,o)}catch(o){await Yo(o)}}function QE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function KE(s,e,n){const r=xe(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function zm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||YE(s,r)}))}function YE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(fp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Ap(s))}function R0(s,e,n){for(const r of n)r instanceof qE?(s.Vu.addReference(r.key,e),xC(s,r)):r instanceof HE?(ue(bp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||YE(s,r.key)):Ae(19791,{wu:r})}function xC(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ue(bp,"New document in limbo: "+n),s.Eu.add(r),Ap(s))}function Ap(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ye(pt.fromString(e)),r=s.fu.next();s.Au.set(r,new _C(n)),s.Ru=s.Ru.insert(n,r),UE(s.remoteStore,new Or(Wi(Ph(n.path)),r,"TargetPurposeLimboResolution",kh.ce))}}async function vu(s,e,n){const r=xe(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{f.push(r.pu(g,e,n).then((y=>{var E;if((y||n)&&r.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:E.current;r.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=cp.Es(g.targetId,y);u.push(w)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,y){const E=xe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(y,(S=>J.forEach(S.Ts,(F=>E.persistence.referenceDelegate.addReference(w,S.targetId,F))).next((()=>J.forEach(S.Is,(F=>E.persistence.referenceDelegate.removeReference(w,S.targetId,F)))))))))}catch(w){if(!$o(w))throw w;ue(hp,"Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const F=E.vs.get(S),Z=F.snapshotVersion,ie=F.withLastLimboFreeSnapshotVersion(Z);E.vs=E.vs.insert(S,ie)}}})(r.localStore,u))}async function NC(s,e){const n=xe(s);if(!n.currentUser.isEqual(e)){ue(bp,"User change. New user:",e.toKey());const r=await OE(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new le($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(n,r.Ns)}}function DC(s,e){const n=xe(s),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function $E(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RC.bind(null,e),e.Pu.J_=mC.bind(null,e.eventManager),e.Pu.yu=pC.bind(null,e.eventManager),e}function OC(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kI(this.persistence,new OI,e.initialUser,this.serializer)}Cu(e){return new DE(up.Vi,this.serializer)}Du(e){return new qI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class MC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new DE((r=>gh.Vi(r,n)),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dC})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),r=KI(e.databaseInfo);return ZI(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,p){return new eC(r,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>S0(this.syncEngine,n,0)),(function(){return v0.v()?new v0:new HI})())}createSyncEngine(e,n){return(function(o,u,f,p,g,y,E){const w=new vC(o,u,f,p,g,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=xe(o);ue(Da,"RemoteStore shutting down."),u.Ea.add(5),await _u(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="FirestoreClient";class VC{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ue(Hr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ue(Hr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Hr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await OE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function I0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await kC(s);ue(Hr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>E0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>E0(e.remoteStore,o))),s._onlineComponents=e}async function kC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Hr,"Using user provided OfflineComponentProvider");try{await fm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await fm(s,new _h)}}else ue(Hr,"Using default OfflineComponentProvider"),await fm(s,new MC(void 0));return s._offlineComponents}async function XE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Hr,"Using user provided OnlineComponentProvider"),await I0(s,s._uninitializedComponentsProvider._online)):(ue(Hr,"Using default OnlineComponentProvider"),await I0(s,new jm))),s._onlineComponents}function UC(s){return XE(s).then((e=>e.syncEngine))}async function vh(s){const e=await XE(s),n=e.eventManager;return n.onListen=TC.bind(null,e.syncEngine),n.onUnlisten=AC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wC.bind(null,e.syncEngine),n}function LC(s,e,n,r){const o=new wp(r),u=new Ep(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>_p(await vh(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>vp(await vh(s),u)))}}function PC(s,e,n={}){const r=new ks;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new wp({next:S=>{E.Nu(),f.enqueueAndForget((()=>vp(u,w)));const F=S.docs.has(p);!F&&S.fromCache?y.reject(new le($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&S.fromCache&&g&&g.source==="server"?y.reject(new le($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new Ep(Ph(p.path),E,{includeMetadataChanges:!0,Ka:!0});return _p(u,w)})(await vh(s),s.asyncQueue,e,n,r))),r.promise}function zC(s,e,n={}){const r=new ks;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new wp({next:S=>{E.Nu(),f.enqueueAndForget((()=>vp(u,w))),S.fromCache&&g.source==="server"?y.reject(new le($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new Ep(p,E,{includeMetadataChanges:!0,Ka:!0});return _p(u,w)})(await vh(s),s.asyncQueue,e,n,r))),r.promise}function jC(s,e){const n=new ks;return s.asyncQueue.enqueueAndForget((async()=>SC(await UC(s),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="ComponentProvider",C0=new Map;function qC(s,e,n,r,o){return new oR(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,JE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firestore.googleapis.com",x0=!0;class N0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pI)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new j1;switch(r.type){case"firstParty":return new F1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=C0.get(n);r&&(ue(BC,"Removing Datastore"),C0.delete(n),r.terminate())})(this),Promise.resolve()}}function HC(s,e,n,r={}){var y;s=Pn(s,Kh);const o=ka(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(Km(`https://${p}`),Ym("Firestore",!0)),u.host!==ZE&&u.host!==p&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!Lr(g,f)&&(s._setSettings(g),r.mockUserToken)){let E,w;if(typeof r.mockUserToken=="string")E=r.mockUserToken,w=gn.MOCK_USER;else{E=wT(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new gn(S)}s._authCredentials=new B1(new BT(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pu(n,Nt._jsonSchema))return new Nt(e,r||null,new ye(pt.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Gt("string",Nt._jsonSchemaVersion),referencePath:Gt("string")};class Ur extends qs{constructor(e,n,r){super(e,n,Ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ye(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function Sr(s,e,...n){if(s=Qt(s),qT("collection","path",e),s instanceof Kh){const r=pt.fromString(e,...n);return Hv(r),new Ur(s,null,r)}{if(!(s instanceof Nt||s instanceof Ur))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...n));return Hv(r),new Ur(s.firestore,null,r)}}function pi(s,e,...n){if(s=Qt(s),arguments.length===1&&(e=Jm.newId()),qT("doc","path",e),s instanceof Kh){const r=pt.fromString(e,...n);return qv(r),new Nt(s,null,new ye(r))}{if(!(s instanceof Nt||s instanceof Ur))throw new le($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...n));return qv(r),new Nt(s.firestore,s instanceof Ur?s.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="AsyncQueue";class O0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VE(this,"async_queue_retry"),this._c=()=>{const r=hm();r&&ue(D0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ue(D0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",M0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:M0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class zs extends Kh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new O0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O0(e),this._firestoreClient=void 0,await e}}}function FC(s,e){const n=typeof s=="object"?s:Mh(),r=typeof s=="string"?s:uh,o=Fr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=ET("firestore");u&&HC(o,...u)}return o}function Yh(s){if(s._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GC(s),s._firestoreClient}function GC(s){var r,o,u,f;const e=s._freezeSettings(),n=qC(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new VC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(fn.fromBase64String(e))}catch(n){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Gt("string",gi._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(pu(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Gt("string",ts._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Gt("string",Ui._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=/^__.*__$/;class KC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class WE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:s})}}class Ip{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eb(this.dataSource)&&QC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class YC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fh(e)}createContext(e,n,r,o=!1){return new Ip({dataSource:e,methodName:n,targetDoc:r,path:hn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(s){const e=s._freezeSettings(),n=Fh(s._databaseId);return new YC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function tb(s,e,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);Cp("Data must be an object, but it was:",f,r);const p=nb(r,f);let g,y;if(u.merge)g=new Wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=Go(e,w,n);if(!f.contains(S))throw new le($.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);rb(E,S)||E.push(S)}g=new Wn(E),y=f.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=f.fieldTransforms;return new KC(new Un(p),g,y)}class Xh extends Rp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function $C(s,e,n,r){const o=s.createContext(1,e,n);Cp("Data must be an object, but it was:",o,r);const u=[],f=Un.empty();Gr(r,((g,y)=>{const E=sb(e,g,n);y=Qt(y);const w=o.childContextForFieldPath(E);if(y instanceof Xh)u.push(E);else{const S=Tu(y,w);S!=null&&(u.push(E),f.set(E,S))}}));const p=new Wn(u);return new WE(f,p,o.fieldTransforms)}function XC(s,e,n,r,o,u){const f=s.createContext(1,e,n),p=[Go(e,r,n)],g=[o];if(u.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(Go(e,u[S])),g.push(u[S+1]);const y=[],E=Un.empty();for(let S=p.length-1;S>=0;--S)if(!rb(y,p[S])){const F=p[S];let Z=g[S];Z=Qt(Z);const ie=f.childContextForFieldPath(F);if(Z instanceof Xh)y.push(F);else{const W=Tu(Z,ie);W!=null&&(y.push(F),E.set(F,W))}}const w=new Wn(y);return new WE(E,w,f.fieldTransforms)}function JC(s,e,n,r=!1){return Tu(n,s.createContext(r?4:3,e))}function Tu(s,e){if(ib(s=Qt(s)))return Cp("Unsupported field value:",e,s),nb(s,e);if(s instanceof Rp)return(function(r,o){if(!eb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let g=Tu(p,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=_t.fromDate(r);return{timestampValue:ph(o.serializer,u)}}if(r instanceof _t){const u=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:bE(o.serializer,r._byteString)};if(r instanceof Nt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:op(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ui)return(function(f,p){const g=f instanceof Ui?f.toArray():f;return{mapValue:{fields:{[JT]:{stringValue:ZT},[ch]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw p.createError("VectorValues must only contain numeric values.");return ip(p.serializer,E)}))}}}}}})(r,o);if(xE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Vh(r)}`)})(s,e)}function nb(s,e){const n={};return GT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(s,((r,o)=>{const u=Tu(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function ib(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof ts||s instanceof gi||s instanceof Nt||s instanceof Rp||s instanceof Ui||xE(s))}function Cp(s,e,n){if(!ib(n)||!HT(n)){const r=Vh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Go(s,e,n){if((e=Qt(e))instanceof Sp)return e._internalPath;if(typeof e=="string")return sb(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,n)}const ZC=new RegExp("[~\\*/\\[\\]]");function sb(s,e,n){if(e.search(ZC)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Sp(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Th(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new le($.INVALID_ARGUMENT,p+s+g)}function rb(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){var r,o,u;const n=(u=(o=(r=e.fields)==null?void 0:r[ch].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Ut(f.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new ts(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=zr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);nt(CE(r),9688,{name:e});const o=new lu(r.get(1),r.get(3)),u=new ye(r.popFirst(5));return o.isEqual(n)||Ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends WC{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}const V0="@firebase/firestore",k0="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Go("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ex extends ab{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class Dp extends Np{}function tx(s,e,...n){let r=[];e instanceof Np&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof Mp)).length,p=u.filter((g=>g instanceof Op)).length;if(f>1||f>0&&p>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Op extends Dp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Op(e,n,r)}_apply(e){const n=this._parse(e);return lb(e._query,n),new qs(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=$h(e.firestore);return(function(u,f,p,g,y,E,w){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){P0(w,E);const Z=[];for(const ie of w)Z.push(L0(g,u,ie));S={arrayValue:{values:Z}}}else S=L0(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||P0(w,E),S=JC(p,f,w,E==="in"||E==="not-in");return Ft.create(y,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Mp extends Np{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)lb(f,g),f=Dm(f,g)})(e._query,n),new qs(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vp extends Dp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(u,f)})(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,SR(e._query,n))}}function nx(s,e="asc"){const n=e,r=Go("orderBy",s);return Vp._create(r,n)}class kp extends Dp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new kp(e,n,r)}_apply(e){return new qs(e.firestore,e.converter,fh(e._query,this._limit,this._limitType))}}function ix(s){return kp._create("limit",s,"F")}function L0(s,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aE(e)&&n.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!ye.isDocumentKey(r))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jv(s,new ye(r))}if(n instanceof Nt)return Jv(s,n._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function P0(s,e){if(!Array.isArray(s)||s.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lb(s,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ub(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends ab{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Go("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Gt("string",Ra._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class th extends Ra{data(e={}){return super.data(e)}}class Ia{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new th(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Zl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new th(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Zl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:sx(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Gt("string",Ia._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(s){s=Pn(s,Nt);const e=Pn(s.firestore,zs),n=Yh(e);return PC(n,s._key).then((r=>cb(e,s,r)))}function z0(s){s=Pn(s,qs);const e=Pn(s.firestore,zs),n=Yh(e),r=new xp(e);return ob(s._query),zC(n,s._query).then((o=>new Ia(e,r,s,o)))}function dm(s,e,n){s=Pn(s,Nt);const r=Pn(s.firestore,zs),o=ub(s.converter,e,n),u=$h(r);return Jh(r,[tb(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,yi.none())])}function Rr(s,e,n,...r){s=Pn(s,Nt);const o=Pn(s.firestore,zs),u=$h(o);let f;return f=typeof(e=Qt(e))=="string"||e instanceof Sp?XC(u,"updateDoc",s._key,e,n,r):$C(u,"updateDoc",s._key,e),Jh(o,[f.toMutation(s._key,yi.exists(!0))])}function ax(s){return Jh(Pn(s.firestore,zs),[new sp(s._key,yi.none())])}function Kc(s,e){const n=Pn(s.firestore,zs),r=pi(s),o=ub(s.converter,e),u=$h(s.firestore);return Jh(n,[tb(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then((()=>r))}function Ir(s,...e){var y,E,w;s=Qt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||U0(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(U0(e[r])){const S=e[r];e[r]=(y=S.next)==null?void 0:y.bind(S),e[r+1]=(E=S.error)==null?void 0:E.bind(S),e[r+2]=(w=S.complete)==null?void 0:w.bind(S)}let u,f,p;if(s instanceof Nt)f=Pn(s.firestore,zs),p=Ph(s._key.path),u={next:S=>{e[r]&&e[r](cb(f,s,S))},error:e[r+1],complete:e[r+2]};else{const S=Pn(s,qs);f=Pn(S.firestore,zs),p=S._query;const F=new xp(f);u={next:Z=>{e[r]&&e[r](new Ia(f,F,S,Z))},error:e[r+1],complete:e[r+2]},ob(s._query)}const g=Yh(f);return LC(g,p,o,u)}function Jh(s,e){const n=Yh(s);return jC(n,e)}function cb(s,e,n){const r=n.docs.get(e._key),o=new xp(s);return new Ra(s,o,e._key,r,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){z1(La),Li(new _i("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new zs(new q1(r.getProvider("auth-internal")),new G1(f,r.getProvider("app-check-internal")),lR(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ln(V0,k0,e),Ln(V0,k0,"esm2020")})();const hb="@firebase/installations",Up="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=1e4,db=`w:${Up}`,mb="FIS_v2",ox="https://firebaseinstallations.googleapis.com/v1",lx=3600*1e3,ux="installations",cx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oa=new Ua(ux,cx,hx);function pb(s){return s instanceof vi&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb({projectId:s}){return`${ox}/projects/${s}/installations`}function yb(s){return{token:s.token,requestStatus:2,expiresIn:dx(s.expiresIn),creationTime:Date.now()}}async function _b(s,e){const r=(await e.json()).error;return Oa.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vb({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function fx(s,{refreshToken:e}){const n=vb(s);return n.append("Authorization",mx(e)),n}async function Tb(s){const e=await s();return e.status>=500&&e.status<600?s():e}function dx(s){return Number(s.replace("s","000"))}function mx(s){return`${mb} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=gb(s),o=vb(s),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:mb,appId:s.appId,sdkVersion:db},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await Tb(()=>fetch(r,p));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:yb(y.authToken)}}else throw await _b("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=/^[cdef][\w-]{21}$/,Bm="";function _x(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=vx(s);return yx.test(n)?n:Bm}catch{return Bm}}function vx(s){return gx(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function Ab(s,e){const n=Zh(s);wb(n,e),Tx(n,e)}function wb(s,e){const n=bb.get(s);if(n)for(const r of n)r(e)}function Tx(s,e){const n=Ex();n&&n.postMessage({key:s,fid:e}),bx()}let Sa=null;function Ex(){return!Sa&&"BroadcastChannel"in self&&(Sa=new BroadcastChannel("[Firebase] FID Change"),Sa.onmessage=s=>{wb(s.data.key,s.data.fid)}),Sa}function bx(){bb.size===0&&Sa&&(Sa.close(),Sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firebase-installations-database",wx=1,Ma="firebase-installations-store";let mm=null;function Lp(){return mm||(mm=NT(Ax,wx,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(Ma)}}})),mm}async function Eh(s,e){const n=Zh(s),o=(await Lp()).transaction(Ma,"readwrite"),u=o.objectStore(Ma),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&Ab(s,e.fid),e}async function Sb(s){const e=Zh(s),r=(await Lp()).transaction(Ma,"readwrite");await r.objectStore(Ma).delete(e),await r.done}async function Wh(s,e){const n=Zh(s),o=(await Lp()).transaction(Ma,"readwrite"),u=o.objectStore(Ma),f=await u.get(n),p=e(f);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!f||f.fid!==p.fid)&&Ab(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(s){let e;const n=await Wh(s.appConfig,r=>{const o=Sx(r),u=Rx(s,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Bm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Sx(s){const e=s||{fid:_x(),registrationStatus:0};return Rb(e)}function Rx(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Oa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ix(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Cx(s)}:{installationEntry:e}}async function Ix(s,e){try{const n=await px(s,e);return Eh(s.appConfig,n)}catch(n){throw pb(n)&&n.customData.serverCode===409?await Sb(s.appConfig):await Eh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Cx(s){let e=await j0(s.appConfig);for(;e.registrationStatus===1;)await Eb(100),e=await j0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Pp(s);return r||n}return e}function j0(s){return Wh(s,e=>{if(!e)throw Oa.create("installation-not-found");return Rb(e)})}function Rb(s){return xx(s)?{fid:s.fid,registrationStatus:0}:s}function xx(s){return s.registrationStatus===1&&s.registrationTime+fb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx({appConfig:s,heartbeatServiceProvider:e},n){const r=Dx(s,n),o=fx(s,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:db,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await Tb(()=>fetch(r,p));if(g.ok){const y=await g.json();return yb(y)}else throw await _b("Generate Auth Token",g)}function Dx(s,{fid:e}){return`${gb(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(s,e=!1){let n;const r=await Wh(s.appConfig,u=>{if(!Ib(u))throw Oa.create("not-registered");const f=u.authToken;if(!e&&Vx(f))return u;if(f.requestStatus===1)return n=Ox(s,e),u;{if(!navigator.onLine)throw Oa.create("app-offline");const p=Ux(u);return n=Mx(s,p),p}});return n?await n:r.authToken}async function Ox(s,e){let n=await B0(s.appConfig);for(;n.authToken.requestStatus===1;)await Eb(100),n=await B0(s.appConfig);const r=n.authToken;return r.requestStatus===0?zp(s,e):r}function B0(s){return Wh(s,e=>{if(!Ib(e))throw Oa.create("not-registered");const n=e.authToken;return Lx(n)?{...e,authToken:{requestStatus:0}}:e})}async function Mx(s,e){try{const n=await Nx(s,e),r={...e,authToken:n};return await Eh(s.appConfig,r),n}catch(n){if(pb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Sb(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Eh(s.appConfig,r)}throw n}}function Ib(s){return s!==void 0&&s.registrationStatus===2}function Vx(s){return s.requestStatus===2&&!kx(s)}function kx(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+lx}function Ux(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function Lx(s){return s.requestStatus===1&&s.requestTime+fb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(s){const e=s,{installationEntry:n,registrationPromise:r}=await Pp(e);return r?r.catch(console.error):zp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(s,e=!1){const n=s;return await jx(n),(await zp(n,e)).token}async function jx(s){const{registrationPromise:e}=await Pp(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(s){if(!s||!s.options)throw pm("App Configuration");if(!s.name)throw pm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw pm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function pm(s){return Oa.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="installations",qx="installations-internal",Hx=s=>{const e=s.getProvider("app").getImmediate(),n=Bx(e),r=Fr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Fx=s=>{const e=s.getProvider("app").getImmediate(),n=Fr(e,Cb).getImmediate();return{getId:()=>Px(n),getToken:o=>zx(n,o)}};function Gx(){Li(new _i(Cb,Hx,"PUBLIC")),Li(new _i(qx,Fx,"PRIVATE"))}Gx();Ln(hb,Up);Ln(hb,Up,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="analytics",Qx="firebase_id",Kx="origin",Yx=60*1e3,$x="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Oh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ei=new Ua("analytics","Analytics",Xx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(s){if(!s.startsWith(jp)){const e=ei.create("invalid-gtag-resource",{gtagURL:s});return An.warn(e.message),""}return s}function xb(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function Zx(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function Wx(s,e){const n=Zx("firebase-js-sdk-policy",{createScriptURL:Jx}),r=document.createElement("script"),o=`${jp}?l=${s}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function e2(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function t2(s,e,n,r,o,u){const f=r[o];try{if(f)await e[f];else{const g=(await xb(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(p){An.error(p)}s("config",o,u)}async function n2(s,e,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const p=await xb(n);for(const g of f){const y=p.find(w=>w.measurementId===g),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,o||{})}catch(u){An.error(u)}}function i2(s,e,n,r){async function o(u,...f){try{if(u==="event"){const[p,g]=f;await n2(s,e,n,p,g)}else if(u==="config"){const[p,g]=f;await t2(s,e,n,r,p,g)}else if(u==="consent"){const[p,g]=f;s("consent",p,g)}else if(u==="get"){const[p,g,y]=f;s("get",p,g,y)}else if(u==="set"){const[p]=f;s("set",p)}else s(u,...f)}catch(p){An.error(p)}}return o}function s2(s,e,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=i2(u,s,e,n),{gtagCore:u,wrappedGtag:window[o]}}function r2(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jp)&&n.src.includes(s))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=30,o2=1e3;class l2{constructor(e={},n=o2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Nb=new l2;function u2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function c2(s){var f;const{appId:e,apiKey:n}=s,r={method:"GET",headers:u2(n)},o=$x.replace("{app-id}",e),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let p="";try{const g=await u.json();(f=g.error)!=null&&f.message&&(p=g.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()}async function h2(s,e=Nb,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw ei.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ei.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new m2;return setTimeout(async()=>{p.abort()},Yx),Db({appId:r,apiKey:o,measurementId:u},f,p,e)}async function Db(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=Nb){var p;const{appId:u,measurementId:f}=s;try{await f2(r,e)}catch(g){if(f)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:u,measurementId:f};throw g}try{const g=await c2(s);return o.deleteThrottleMetadata(u),g}catch(g){const y=g;if(!d2(y)){if(o.deleteThrottleMetadata(u),f)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw g}const E=Number((p=y==null?void 0:y.customData)==null?void 0:p.httpStatus)===503?Nv(n,o.intervalMillis,a2):Nv(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(u,w),An.debug(`Calling attemptFetch again in ${E} millis`),Db(s,w,r,o)}}function f2(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d2(s){if(!(s instanceof vi)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class m2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function p2(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await e,f={...r,send_to:u};s("event",n,f)}}async function g2(s,e,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(){if(RT())try{await IT()}catch(s){return An.warn(ei.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return An.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _2(s,e,n,r,o,u,f){const p=h2(s);p.then(S=>{n[S.measurementId]=S.appId,s.options.measurementId&&S.measurementId!==s.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>An.error(S)),e.push(p);const g=y2().then(S=>{if(S)return r.getId()}),[y,E]=await Promise.all([p,g]);r2(u)||Wx(u,y.measurementId),o("js",new Date);const w=(f==null?void 0:f.config)??{};return w[Kx]="firebase",w.update=!0,E!=null&&(w[Qx]=E),o("config",y.measurementId,w),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.app=e}_delete(){return delete Uo[this.app.options.appId],Promise.resolve()}}let Uo={},q0=[];const H0={};let gm="dataLayer",T2="gtag",F0,Bp,G0=!1;function E2(){const s=[];if(ST()&&s.push("This is a browser extension environment."),_S()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=ei.create("invalid-analytics-context",{errorInfo:e});An.warn(n.message)}}function b2(s,e,n){E2();const r=s.options.appId;if(!r)throw ei.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ei.create("no-api-key");if(Uo[r]!=null)throw ei.create("already-exists",{id:r});if(!G0){e2(gm);const{wrappedGtag:u,gtagCore:f}=s2(Uo,q0,H0,gm,T2);Bp=u,F0=f,G0=!0}return Uo[r]=_2(s,q0,H0,e,F0,gm,n),new v2(s)}function A2(s=Mh()){s=Qt(s);const e=Fr(s,bh);return e.isInitialized()?e.getImmediate():w2(s)}function w2(s,e={}){const n=Fr(s,bh);if(n.isInitialized()){const o=n.getImmediate();if(Lr(e,n.getOptions()))return o;throw ei.create("already-initialized")}return n.initialize({options:e})}function S2(s,e,n){s=Qt(s),g2(Bp,Uo[s.app.options.appId],e,n).catch(r=>An.error(r))}function R2(s,e,n,r){s=Qt(s),p2(Bp,Uo[s.app.options.appId],e,n,r).catch(o=>An.error(o))}const Q0="@firebase/analytics",K0="0.10.19";function I2(){Li(new _i(bh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return b2(r,o,n)},"PUBLIC")),Li(new _i("analytics-internal",s,"PRIVATE")),Ln(Q0,K0),Ln(Q0,K0,"esm2020");function s(e){try{const n=e.getProvider(bh).getImmediate();return{logEvent:(r,o,u)=>R2(n,r,o,u),setUserProperties:(r,o)=>S2(n,r,o)}}catch(n){throw ei.create("interop-component-reg-failed",{reason:n})}}}I2();function Ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C2=Ob,Mb=new Ua("auth","Firebase",Ob());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Oh("@firebase/auth");function x2(s,...e){Ah.logLevel<=He.WARN&&Ah.warn(`Auth (${La}): ${s}`,...e)}function nh(s,...e){Ah.logLevel<=He.ERROR&&Ah.error(`Auth (${La}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(s,...e){throw qp(s,...e)}function ns(s,...e){return qp(s,...e)}function Vb(s,e,n){const r={...C2(),[e]:n};return new Ua("auth","Firebase",r).create(e,{appName:s.name})}function Ca(s){return Vb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Mb.create(s,...e)}function Se(s,e,...n){if(!s)throw qp(e,...n)}function Ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw nh(e),new Error(e)}function Bs(s,e){s||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function N2(){return Y0()==="http:"||Y0()==="https:"}function Y0(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N2()||ST()||"connection"in navigator)?navigator.onLine:!0}function O2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bs(n>e,"Short delay should be less than long delay!"),this.isMobile=fS()||pS()}get(){return D2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(s,e){Bs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k2=new Eu(3e4,6e4);function Fp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Zo(s,e,n,r,o={}){return Ub(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=mu({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return mS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ka(s.emulatorConfig.host)&&(y.credentials="include"),kb.fetch()(await Lb(s,s.config.apiHost,n,p),y)})}async function Ub(s,e,n){s._canInitEmulator=!1;const r={...M2,...e};try{const o=new L2(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(s,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vb(s,E,y);js(s,E)}}catch(o){if(o instanceof vi)throw o;js(s,"network-request-failed",{message:String(o)})}}async function U2(s,e,n,r,o={}){const u=await Zo(s,e,n,r,o);return"mfaPendingCredential"in u&&js(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Lb(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Hp(s.config,o):`${s.config.apiScheme}://${o}`;return V2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class L2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),k2.get())})}}function Yc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ns(s,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(s,e){return Zo(s,"POST","/v1/accounts:delete",e)}async function wh(s,e){return Zo(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z2(s,e=!1){const n=Qt(s),r=await n.getIdToken(e),o=Gp(r);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:su(ym(o.auth_time)),issuedAtTime:su(ym(o.iat)),expirationTime:su(ym(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(s){return Number(s)*1e3}function Gp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=vT(n);return o?JSON.parse(o):(nh("Failed to decode base64 JWT payload"),null)}catch(o){return nh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $0(s){const e=Gp(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vi&&j2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function j2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(s){var w;const e=s.auth,n=await s.getIdToken(),r=await du(s,wh(e,{idToken:n}));Se(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=(w=o.providerUserInfo)!=null&&w.length?Pb(o.providerUserInfo):[],f=H2(s.providerData,u),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!(f!=null&&f.length),y=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function q2(s){const e=Qt(s);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H2(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Pb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(s,e){const n=await Ub(s,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await Lb(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&ka(s.emulatorConfig.host)&&(g.credentials="include"),kb.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G2(s,e){return Zo(s,"POST","/v2/accounts:revokeToken",Fp(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=$0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await F2(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new Lo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new B2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z2(this,e)}reload(){return q2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await du(this,P2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:F,providerData:Z,stsTokenManager:ie}=n;Se(w&&ie,e,"internal-error");const W=Lo.fromJSON(this.name,ie);Se(typeof w=="string",e,"internal-error"),Cr(r,e.name),Cr(o,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof F=="boolean",e,"internal-error"),Cr(u,e.name),Cr(f,e.name),Cr(p,e.name),Cr(g,e.name),Cr(y,e.name),Cr(E,e.name);const pe=new Vi({uid:w,auth:e,email:o,emailVerified:S,displayName:r,isAnonymous:F,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(pe.providerData=Z.map(Ee=>({...Ee}))),g&&(pe._redirectEventId=g),pe}static async _fromIdTokenResponse(e,n,r=!1){const o=new Lo;o.updateFromServerResponse(n);const u=new Vi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Pb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Lo;p.updateFromIdToken(r);const g=new Vi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function Vs(s){Bs(s instanceof Function,"Expected a class definition");let e=X0.get(s);return e?(Bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,X0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zb.type="NONE";const J0=zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(s,e,n){return`firebase:${s}:${e}:${n}`}class Po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Vi._fromGetAccountInfoResponse(this.auth,n,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Po(Vs(J0),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Vs(J0);const f=ih(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const S=await wh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Vi._fromGetAccountInfoResponse(e,S,E)}else w=Vi._fromJSON(e,E);y!==u&&(p=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Po(u,e,r):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Po(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gb(e))return"Blackberry";if(Qb(e))return"Webos";if(Bb(e))return"Safari";if((e.includes("chrome/")||qb(e))&&!e.includes("edge/"))return"Chrome";if(Fb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jb(s=_n()){return/firefox\//i.test(s)}function Bb(s=_n()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qb(s=_n()){return/crios\//i.test(s)}function Hb(s=_n()){return/iemobile/i.test(s)}function Fb(s=_n()){return/android/i.test(s)}function Gb(s=_n()){return/blackberry/i.test(s)}function Qb(s=_n()){return/webos/i.test(s)}function Qp(s=_n()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Q2(s=_n()){var e;return Qp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function K2(){return gS()&&document.documentMode===10}function Kb(s=_n()){return Qp(s)||Fb(s)||Qb(s)||Gb(s)||/windows phone/i.test(s)||Hb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(s,e=[]){let n;switch(s){case"Browser":n=Z0(_n());break;case"Worker":n=`${Z0(_n())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(s,e={}){return Zo(s,"GET","/v2/passwordPolicy",Fp(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=6;class J2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??X2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W0(this),this.idTokenSubscription=new W0(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Mi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(Ca(this));const n=e?Qt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $2(this),n=new J2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vs(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&x2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Kp(s){return Qt(s)}class W0{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W2(s){Yp=s}function eN(s){return Yp.loadJS(s)}function tN(){return Yp.gapiScript}function nN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(s,e){const n=Fr(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Lr(u,e??{}))return o;js(o,"already-initialized")}return n.initialize({options:e})}function sN(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vs);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rN(s,e,n){const r=Kp(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=$b(e),{host:f,port:p}=aN(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Lr(y,r.config.emulator)&&Lr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,ka(f)?(Km(`${u}//${f}${g}`),Ym("Auth",!0)):oN()}function $b(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function aN(s){const e=$b(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:eT(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:eT(f)}}}function eT(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function oN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,n){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(s,e){return U2(s,"POST","/v1/accounts:signInWithIdp",Fp(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="http://localhost";class Va extends Xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):js("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Va(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:lN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Jb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends bu{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Va._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends bu{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends bu{constructor(){super("twitter.com")}static credential(e,n){return Va._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Vi._fromIdTokenResponse(e,r,o),f=tT(r);return new Qo({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=tT(r);return new Qo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function tT(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends vi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Rh(e,n,r,o)}}function Zb(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(s,u,e,r):u})}async function uN(s,e,n=!1){const r=await du(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Qo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(s,e,n=!1){const{auth:r}=s;if(Mi(r.app))return Promise.reject(Ca(r));const o="reauthenticate";try{const u=await du(s,Zb(r,o,e,s),n);Se(u.idToken,r,"internal-error");const f=Gp(u.idToken);Se(f,r,"internal-error");const{sub:p}=f;return Se(s.uid===p,r,"user-mismatch"),Qo._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&js(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(s,e,n=!1){if(Mi(s.app))return Promise.reject(Ca(s));const r="signIn",o=await Zb(s,r,e),u=await Qo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function fN(s,e,n,r){return Qt(s).onIdTokenChanged(e,n,r)}function dN(s,e,n){return Qt(s).beforeAuthStateChanged(e,n)}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1e3,pN=10;class eA extends Wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);K2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eA.type="LOCAL";const gN=eA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tA.type="SESSION";const nA=tA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await yN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=$p("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function vN(s){is().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function TN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EN(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function bN(){return iA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebaseLocalStorageDb",AN=1,Ch="firebaseLocalStorage",rA="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(s,e){return s.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function wN(){const s=indexedDB.deleteDatabase(sA);return new Au(s).toPromise()}function Fm(){const s=indexedDB.open(sA,AN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Ch,{keyPath:rA})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),await wN(),e(await Fm()))})})}async function nT(s,e,n){const r=tf(s,!0).put({[rA]:e,value:n});return new Au(r).toPromise()}async function SN(s,e){const n=tf(s,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function iT(s,e){const n=tf(s,!0).delete(e);return new Au(n).toPromise()}const RN=800,IN=3;class aA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(bN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await TN(),!this.activeServiceWorker)return;this.sender=new _N(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await nT(e,Ih,"1"),await iT(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aA.type="LOCAL";const CN=aA;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(s,e){return e?Vs(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends Xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NN(s){return hN(s.auth,new Xp(s),s.bypassAuthState)}function DN(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),cN(n,new Xp(s),s.bypassAuthState)}async function ON(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),uN(n,new Xp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NN;case"linkViaPopup":case"linkViaRedirect":return ON;case"reauthViaPopup":case"reauthViaRedirect":return DN;default:js(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Eu(2e3,1e4);class Mo extends oA{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MN.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="pendingRedirect",sh=new Map;class kN extends oA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await UN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(s,e){const n=zN(e),r=PN(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function LN(s,e){sh.set(s._key(),e)}function PN(s){return Vs(s._redirectPersistence)}function zN(s){return ih(VN,s.config.apiKey,s.name)}async function jN(s,e,n=!1){if(Mi(s.app))return Promise.reject(Ca(s));const r=Kp(s),o=xN(r,e),f=await new kN(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=600*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lA(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ns(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BN&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}saveEventToCache(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}}function sT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function lA({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(s,e={}){return Zo(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QN=/^https?/;async function KN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await FN(s);for(const n of e)try{if(YN(n))return}catch{}js(s,"unauthorized-domain")}function YN(s){const e=qm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!QN.test(n))return!1;if(GN.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Eu(3e4,6e4);function rT(){const s=is().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function XN(s){return new Promise((e,n)=>{var o,u,f;function r(){rT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rT(),n(ns(s,"network-request-failed"))},timeout:$N.get()})}if((u=(o=is().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=is().gapi)!=null&&f.load)r();else{const p=nN("iframefcb");return is()[p]=()=>{gapi.load?r():n(ns(s,"network-request-failed"))},eN(`${tN()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw rh=null,e})}let rh=null;function JN(s){return rh=rh||XN(s),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Eu(5e3,15e3),WN="__/auth/iframe",eD="emulator/auth/iframe",tD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iD(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Hp(e,eD):`https://${s.config.authDomain}/${WN}`,r={apiKey:e.apiKey,appName:s.name,v:La},o=nD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${mu(r).slice(1)}`}async function sD(s){const e=await JN(s),n=is().gapi;return Se(n,s,"internal-error"),e.open({where:document.body,url:iD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ns(s,"network-request-failed"),p=is().setTimeout(()=>{u(f)},ZN.get());function g(){is().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aD=500,oD=600,lD="_blank",uD="http://localhost";class aT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cD(s,e,n,r=aD,o=oD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...rD,width:r.toString(),height:o.toString(),top:u,left:f},y=_n().toLowerCase();n&&(p=qb(y)?lD:n),jb(y)&&(e=e||uD,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[F,Z])=>`${S}${F}=${Z},`,"");if(Q2(y)&&p!=="_self")return hD(e||"",p),new aT(null);const w=window.open(e||"",p,E);Se(w,s,"popup-blocked");try{w.focus()}catch{}return new aT(w)}function hD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="__/auth/handler",dD="emulator/auth/handler",mD=encodeURIComponent("fac");async function oT(s,e,n,r,o,u){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:La,eventId:o};if(e instanceof Jb){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",bS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof bu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await s._getAppCheckToken(),y=g?`#${mD}=${encodeURIComponent(g)}`:"";return`${pD(s)}?${mu(p).slice(1)}${y}`}function pD({config:s}){return s.emulator?Hp(s,dD):`https://${s.authDomain}/${fD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class gD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nA,this._completeRedirectFn=jN,this._overrideRedirectResult=LN}async _openPopup(e,n,r,o){var f;Bs((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await oT(e,n,r,qm(),o);return cD(e,u,$p())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await oT(e,n,r,qm(),o);return vN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Bs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sD(e),r=new qN(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[_m];u!==void 0&&n(!!u),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kb()||Bb()||Qp()}}const yD=gD;var lT="@firebase/auth",uT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TD(s){Li(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yb(s)},y=new Z2(r,o,u,g);return sN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Li(new _i("auth-internal",e=>{const n=Kp(e.getProvider("auth").getImmediate());return(r=>new _D(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(lT,uT,vD(s)),Ln(lT,uT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=300,bD=AT("authIdTokenMaxAge")||ED;let cT=null;const AD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bD)return;const o=n==null?void 0:n.token;cT!==o&&(cT=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wD(s=Mh()){const e=Fr(s,"auth");if(e.isInitialized())return e.getImmediate();const n=iN(s,{popupRedirectResolver:yD,persistence:[CN,gN,nA]}),r=AT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=AD(u.toString());dN(n,f,()=>f(n.currentUser)),fN(n,p=>f(p))}}const o=TT("auth");return o&&rN(n,`http://${o}`),n}function SD(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}W2({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=ns("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",SD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebasestorage.googleapis.com",RD="storageBucket",ID=120*1e3,CD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends vi{constructor(e,n,r=0){super(vm(e),`Firebase Storage: ${n} (${vm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rs;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rs||(rs={}));function vm(s){return"storage/"+s}function xD(){const s="An unknown error occurred, please check the error payload for server response.";return new as(rs.UNKNOWN,s)}function ND(){return new as(rs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DD(){return new as(rs.CANCELED,"User canceled the upload/download.")}function OD(s){return new as(rs.INVALID_URL,"Invalid URL '"+s+"'.")}function MD(s){return new as(rs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function hT(s){return new as(rs.INVALID_ARGUMENT,s)}function cA(){return new as(rs.APP_DELETED,"The Firebase app was deleted.")}function VD(s){return new as(rs.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ki.makeFromUrl(e,n)}catch{return new ki(e,"")}if(r.path==="")return r;throw MD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(Re){Re.path.charAt(Re.path.length-1)==="/"&&(Re.path_=Re.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(Re){Re.path_=decodeURIComponent(Re.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",F=new RegExp(`^https?://${w}/${E}/b/${o}/o${S}`,"i"),Z={bucket:1,path:3},ie=n===uA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,W="([^?#]*)",pe=new RegExp(`^https?://${ie}/${o}/${W}`,"i"),_e=[{regex:p,indices:g,postModify:u},{regex:F,indices:Z,postModify:y},{regex:pe,indices:{bucket:1,path:2},postModify:y}];for(let Re=0;Re<_e.length;Re++){const Ve=_e[Re],Oe=Ve.regex.exec(e);if(Oe){const N=Oe[Ve.indices.bucket];let R=Oe[Ve.indices.path];R||(R=""),r=new ki(N,R),Ve.postModify(r);break}}if(r==null)throw OD(e);return r}}class kD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(s,e,n){let r=1,o=null,u=null,f=!1,p=0;function g(){return p===2}let y=!1;function E(...W){y||(y=!0,e.apply(null,W))}function w(W){o=setTimeout(()=>{o=null,s(F,g())},W)}function S(){u&&clearTimeout(u)}function F(W,...pe){if(y){S();return}if(W){S(),E.call(null,W,...pe);return}if(g()||f){S(),E.call(null,W,...pe);return}r<64&&(r*=2);let _e;p===1?(p=2,_e=0):_e=(r+Math.random())*1e3,w(_e)}let Z=!1;function ie(W){Z||(Z=!0,S(),!y&&(o!==null?(W||(p=2),clearTimeout(o),w(0)):W||(p=1)))}return w(0),u=setTimeout(()=>{f=!0,ie(!0)},n),ie}function LD(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(s){return s!==void 0}function fT(s,e,n,r){if(r<e)throw hT(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw hT(`Invalid value for '${s}'. Expected ${n} or less.`)}function zD(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var xh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(xh||(xh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,o,u,f,p,g,y,E,w,S=!0,F=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Z,ie)=>{this.resolve_=Z,this.reject_=ie,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new $c(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===xh.NO_ERROR,g=u.getStatus();if(!p||jD(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===xh.ABORT;r(!1,new $c(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new $c(y,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());PD(g)?u(g):u()}catch(g){f(g)}else if(p!==null){const g=xD();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?cA():DD();f(g)}else{const g=ND();f(g)}};this.canceled_?n(!1,new $c(!1,null,!0)):this.backoffId_=UD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $c{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qD(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function HD(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FD(s,e){e&&(s["X-Firebase-GMPID"]=e)}function GD(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function QD(s,e,n,r,o,u,f=!0,p=!1){const g=zD(s.urlParams),y=s.url+g,E=Object.assign({},s.headers);return FD(E,e),qD(E,n),HD(E,u),GD(E,r),new BD(y,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function YD(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this._service=e,n instanceof ki?this._location=n:this._location=ki.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nh(e,n)}get root(){const e=new ki(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YD(this._location.path)}get storage(){return this._service}get parent(){const e=KD(this._location.path);if(e===null)return null;const n=new ki(this._location.bucket,e);return new Nh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw VD(e)}}function dT(s,e){const n=e==null?void 0:e[RD];return n==null?null:ki.makeFromBucketSpec(n,s)}function $D(s,e,n,r={}){s.host=`${e}:${n}`;const o=ka(e);o&&(Km(`https://${s.host}/b`),Ym("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:wT(u,s.app.options.projectId))}class XD{constructor(e,n,r,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=uA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ID,this._maxUploadRetryTime=CD,this._requests=new Set,o!=null?this._bucket=ki.makeFromBucketSpec(o,this._host):this._bucket=dT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ki.makeFromBucketSpec(this._url,e):this._bucket=dT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nh(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new kD(cA());{const f=QD(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const mT="@firebase/storage",pT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="storage";function JD(s=Mh(),e){s=Qt(s);const r=Fr(s,hA).getImmediate({identifier:e}),o=ET("storage");return o&&ZD(r,...o),r}function ZD(s,e,n,r={}){$D(s,e,n,r)}function WD(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new XD(n,r,o,e,La)}function eO(){Li(new _i(hA,WD,"PUBLIC").setMultipleInstances(!0)),Ln(mT,pT,""),Ln(mT,pT,"esm2020")}eO();const tO={apiKey:"AIzaSyDbZAPtQioiXZzkiiIRrkrBkEPF440NMaE",authDomain:"qaxi-93d6d.firebaseapp.com",projectId:"qaxi-93d6d",storageBucket:"qaxi-93d6d.firebasestorage.app",messagingSenderId:"137240859996",appId:"1:137240859996:web:73e14d28c77233be965d99",measurementId:"G-C74Z1DWV54"},nf=DT(tO),un=FC(nf);A2(nf);wD(nf);new Os;JD(nf);const nO={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},iO=({muted:s,videoEnabled:e,isScreenSharing:n,chatOpen:r,participantsOpen:o,pollOpen:u,settingsOpen:f=!1,isRecording:p,waitingCount:g=0,isHost:y=!1,onToggleMute:E,onToggleVideo:w,onToggleScreenShare:S,onToggleChat:F,onToggleParticipants:Z,onTogglePoll:ie,onToggleSettings:W,onToggleRecording:pe,onSendReaction:Ee,onHangup:_e})=>{const[Re,Ve]=Qm.useState(!1);return A.jsxs("div",{className:"fixed bottom-4 sm:bottom-8 left-1/2 transform -translate-x-1/2 flex items-center gap-2 sm:gap-4 bg-zinc-900/80 backdrop-blur-md px-3 sm:px-6 py-3 sm:py-4 rounded-2xl border border-zinc-700 shadow-2xl z-50 max-w-[98vw] sm:max-w-[95vw] overflow-x-auto overflow-visible",children:[A.jsx("button",{onClick:E,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${s?"bg-red-500/20 text-red-500 border border-red-500":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:s?"Unmute":"Mute",children:A.jsx("i",{className:`fa-solid ${s?"fa-microphone-slash":"fa-microphone"}`})}),A.jsx("button",{onClick:w,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${e?"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white":"bg-red-500/20 text-red-500 border border-red-500"}`,title:e?"Stop Video":"Start Video",children:A.jsx("i",{className:`fa-solid ${e?"fa-video":"fa-video-slash"}`})}),A.jsx("button",{onClick:S,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${n?"bg-blue-500 text-white shadow-lg shadow-blue-500/20":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:n?"Stop Sharing":"Share Screen",children:A.jsx("i",{className:"fa-solid fa-desktop"})}),A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>Ve(!Re),className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${Re?"bg-pink-500 text-white shadow-lg shadow-pink-500/20":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:"Reactions",children:A.jsx("i",{className:"fa-solid fa-face-smile"})}),Re&&A.jsx("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 bg-zinc-800 border border-zinc-700 rounded-xl p-2 flex gap-2 shadow-2xl",children:["","","","",""].map(Oe=>A.jsx("button",{onClick:()=>{Ee(Oe),Ve(!1)},className:"hover:scale-125 transition-transform text-2xl",children:Oe},Oe))})]}),A.jsx("div",{className:"w-px h-8 bg-zinc-700 mx-2 hidden sm:block"}),A.jsx("button",{onClick:F,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${r?"bg-gold text-black shadow-lg shadow-gold/20":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:r?"Close Chat":"Open Chat",children:A.jsx("i",{className:`fa-solid ${r?"fa-comment-slash":"fa-comment"}`})}),A.jsxs("button",{onClick:Z,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 relative ${o?"bg-gold text-black shadow-lg shadow-gold/20":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white"}`,title:o?"Close Participants":"Open Participants",children:[A.jsx("i",{className:"fa-solid fa-users"}),g>0&&A.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-zinc-900 animate-bounce",children:g})]}),y&&W&&A.jsx("button",{onClick:W,className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center transition-all duration-300 ${f?"bg-gold text-black shadow-lg shadow-gold/20 animate-[spin_3s_linear_infinite]":"bg-zinc-800 text-zinc-200 hover:bg-zinc-700 hover:text-white hover:rotate-90"}`,title:"Host Settings",children:A.jsx("i",{className:"fa-solid fa-gear"})}),A.jsx("div",{className:"w-px h-8 bg-zinc-700 mx-2 hidden sm:block"}),A.jsx("button",{onClick:_e,className:"w-16 h-12 rounded-xl flex-shrink-0 bg-red-600 text-white flex items-center justify-center hover:bg-red-700 transition-all duration-300 shadow-lg shadow-red-900/20",title:"Hang Up",children:A.jsx("i",{className:"fa-solid fa-phone-slash"})})]})},sO=({roomState:s,onLeave:e})=>{const[n,r]=he.useState(()=>{if(typeof window>"u")return!1;const B=navigator.userAgent||"";return/iPhone|Android.*Mobile|webOS|iPod|BlackBerry|Opera Mini|IEMobile/i.test(B)||window.innerWidth<768});he.useEffect(()=>{const B=()=>{const ee=navigator.userAgent||"",ae=/iPhone|Android.*Mobile|webOS|iPod|BlackBerry|Opera Mini|IEMobile/i.test(ee);r(ae||window.innerWidth<768)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const[o,u]=he.useState(null),[f,p]=he.useState(null),[g,y]=he.useState(!1),[E,w]=he.useState(!0),[S,F]=he.useState(!1),[Z,ie]=he.useState("speaker"),[W,pe]=he.useState(s.isCreator?"admitted":"waiting"),[Ee,_e]=he.useState(0),[Re,Ve]=he.useState(!1),[Oe,N]=he.useState(!1),[R,x]=he.useState({}),[V,D]=he.useState(()=>{const B=typeof window<"u"?window.innerWidth:800,ee=typeof window<"u"?window.innerHeight:600,ae=B<768;return{x:ae?B-140:B-260,y:ae?ee-140:ee-200,width:ae?120:240,height:ae?68:135}}),[U,I]=he.useState(!1),[ot,Dt]=he.useState({x:0,y:0}),[G,re]=he.useState(!1),[me,Qe]=he.useState({x:0,w:0}),[Le,M]=he.useState(!1),[K,oe]=he.useState(!1),[te,we]=he.useState({muted:!1,videoEnabled:!0,isScreenSharing:!1,status:"waiting"}),[ve,Pe]=he.useState(null),[tt,ze]=he.useState("Initializing..."),[Ti,os]=he.useState(!1),[Hs,Ei]=he.useState(0),[lt,ti]=he.useState("none"),[ls,Kr]=he.useState([]),[bi,St]=he.useState(""),Ke=he.useRef(Math.random().toString(36).substring(7)).current,zn=he.useRef(`https://api.dicebear.com/9.x/avataaars/svg?seed=${Ke}`).current,ja=he.useRef(null),jn=he.useRef(null),vt=he.useRef(null),je=he.useRef(null),Kt=he.useRef(null),ni=he.useRef(null),Bn=he.useRef(null),Fs=he.useRef(null),[us,Yr]=he.useState(null),[Ba,wn]=he.useState([]),[Yt,Sn]=he.useState("unknown"),[ut,Gs]=he.useState(!1),Ai=he.useRef(null),Qs=he.useRef([]);he.useRef(null);const[Lt,zi]=he.useState(null),[Tt,qn]=he.useState(""),[Jt,dn]=he.useState(["",""]),Xe=s.roomId,qa=B=>{const ee=Math.floor(B/3600),ae=Math.floor(B%3600/60),ne=B%60,de=Te=>Te.toString().padStart(2,"0");return ee>0?`${de(ee)}:${de(ae)}:${de(ne)}`:`${de(ae)}:${de(ne)}`};he.useEffect(()=>{let B;return tt==="Connected"&&(B=setInterval(()=>{Ei(ee=>ee+1)},1e3)),()=>{B&&clearInterval(B)}},[tt]),he.useEffect(()=>{let B;return tt==="Connected"&&(B=setInterval(async()=>{if(je.current)try{const ee=await je.current.getStats();let ae=!1;ee.forEach(ne=>{ne.type==="inbound-rtp"&&ne.kind==="video"&&(ne.packetsLost&&ne.packetsLost>50&&(ae=!0),ne.jitter&&ne.jitter>.05&&(ae=!0))}),Sn(ae?"poor":"good")}catch{}},5e3)),()=>clearInterval(B)},[tt]),he.useEffect(()=>{(async()=>{try{const ee=pi(un,"calls",Xe,"participants",Ke),ae=s.isCreator?"admitted":"waiting";await dm(ee,{muted:g,videoEnabled:E,isScreenSharing:S,avatarUrl:zn,lastUpdated:Date.now(),status:ae},{merge:!0})}catch(ee){console.error("Error syncing state:",ee)}})()},[Xe,Ke,g,E,S,zn,s.isCreator]),he.useEffect(()=>{const B=Sr(un,"calls",Xe,"participants"),ee=Ir(B,ae=>{let ne=0;ae.forEach(de=>{const Te=de.data();de.id!==Ke&&(Te.status==="waiting"&&ne++,Pe(de.id),we({muted:Te.muted||!1,videoEnabled:Te.videoEnabled??!0,isScreenSharing:Te.isScreenSharing||!1,avatarUrl:Te.avatarUrl,status:Te.status||"waiting"}))}),_e(ne)});return()=>ee()},[Xe,Ke,s.isCreator]),he.useEffect(()=>{s.isCreator&&(async()=>{try{const ee=pi(un,"calls",Xe);await Rr(ee,{hostReviewing:lt==="participants"})}catch{}})()},[lt,s.isCreator,Xe]),he.useEffect(()=>{if(W==="waiting"){const B=pi(un,"calls",Xe),ee=Ir(B,ae=>{var ne;ae.exists()&&Ve(((ne=ae.data())==null?void 0:ne.hostReviewing)||!1)});return()=>ee()}},[W,Xe]),he.useEffect(()=>{const B=pi(un,"calls",Xe,"participants",Ke),ee=Ir(B,async ae=>{const ne=ae.data();if(ne){if(ne.status&&ne.status!==W&&(pe(ne.status),ne.status==="denied")){alert("The host has denied your entry."),e();return}if(ne.hostAction){ne.hostAction==="MUTE_AUDIO"?(Kt.current&&Kt.current.getAudioTracks().forEach(de=>de.enabled=!1),y(!0)):ne.hostAction==="UNMUTE_AUDIO"?(Kt.current&&Kt.current.getAudioTracks().forEach(de=>de.enabled=!0),y(!1)):ne.hostAction==="STOP_VIDEO"&&(Kt.current&&Kt.current.getVideoTracks().forEach(de=>de.enabled=!1),w(!1));try{await Rr(B,{hostAction:null})}catch(de){console.error("Error clearing host action",de)}}}});return()=>ee()},[Xe,Ke,W,e]),he.useEffect(()=>{const B=ae=>{if(U&&D(ne=>({...ne,x:ae.clientX-ot.x,y:ae.clientY-ot.y})),G){const ne=ae.clientX-me.x,de=Math.max(160,Math.min(600,me.w+ne));D(Te=>({...Te,width:de,height:de*.5625}))}},ee=()=>{I(!1),re(!1)};return(U||G)&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",ee)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",ee)}},[U,G,ot,me]);const ii=B=>{B.target.closest(".resize-handle")||(I(!0),Dt({x:B.clientX-V.x,y:B.clientY-V.y}))},cs=B=>{B.stopPropagation(),re(!0),Qe({x:B.clientX,w:V.width})};he.useEffect(()=>{if(W==="waiting"||W==="denied")return;let B=null,ee=null;return(async()=>{try{ze("Accessing media...");const ne=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});u(ne),Kt.current=ne,ne.getAudioTracks().forEach(Et=>Et.enabled=!g),ne.getVideoTracks().forEach(Et=>Et.enabled=E),jn.current&&(jn.current.srcObject=ne),ze("Connecting to server..."),je.current=new RTCPeerConnection(nO),ne.getTracks().forEach(Et=>{var it;(it=je.current)==null||it.addTrack(Et,ne)}),je.current.ontrack=Et=>{const it=Et.streams[0];Bn.current=it,p(it),vt.current&&(vt.current.srcObject=it)};const de=pi(un,"calls",Xe),Te=Sr(de,"offerCandidates"),Zt=Sr(de,"answerCandidates");if(s.isCreator){ze("Creating room..."),je.current.onicecandidate=bt=>{bt.candidate&&Kc(Te,bt.candidate.toJSON())};const Et=await je.current.createOffer();await je.current.setLocalDescription(Et);const it={sdp:Et.sdp,type:Et.type};await dm(de,{offer:it},{merge:!0}),B=Ir(de,bt=>{var Gn,vn;const nn=bt.data();if(!((Gn=je.current)!=null&&Gn.currentRemoteDescription)&&(nn!=null&&nn.answer)){const fs=new RTCSessionDescription(nn.answer);(vn=je.current)==null||vn.setRemoteDescription(fs),ze("Connected")}}),ee=Ir(Zt,bt=>{bt.docChanges().forEach(nn=>{var Gn;if(nn.type==="added"){const vn=new RTCIceCandidate(nn.doc.data());(Gn=je.current)==null||Gn.addIceCandidate(vn)}})})}else{ze("Joining room..."),je.current.onicecandidate=vn=>{vn.candidate&&Kc(Zt,vn.candidate.toJSON())};const it=(await rx(de)).data();if(!it){ze("Room not found"),alert("Room does not exist"),e();return}const bt=it.offer;await je.current.setRemoteDescription(new RTCSessionDescription(bt));const nn=await je.current.createAnswer();await je.current.setLocalDescription(nn);const Gn={type:nn.type,sdp:nn.sdp};await Rr(de,{answer:Gn}),ee=Ir(Te,vn=>{vn.docChanges().forEach(fs=>{var ds;if(fs.type==="added"){const Tn=new RTCIceCandidate(fs.doc.data());(ds=je.current)==null||ds.addIceCandidate(Tn)}})}),ze("Connected")}je.current.onconnectionstatechange=()=>{var Et,it,bt;((Et=je.current)==null?void 0:Et.connectionState)==="connected"?ze("Connected"):((it=je.current)==null?void 0:it.connectionState)==="disconnected"?(ze("Remote disconnected"),Ei(0)):((bt=je.current)==null?void 0:bt.connectionState)==="failed"&&(ze("Connection failed"),Ei(0))}}catch(ne){console.error("Error starting call:",ne),ze("Error: "+ne)}})(),()=>{B&&B(),ee&&ee(),ni.current&&ni.current.stop(),Kt.current&&Kt.current.getTracks().forEach(ne=>ne.stop()),je.current&&je.current.close(),u(null),p(null),Ei(0)}},[Xe,s.isCreator,W]),he.useEffect(()=>{jn.current&&Kt.current&&jn.current.srcObject!==Kt.current&&(jn.current.srcObject=Kt.current),vt.current&&Bn.current&&vt.current.srcObject!==Bn.current&&(vt.current.srcObject=Bn.current),Fs.current&&us&&Fs.current.srcObject!==us&&(Fs.current.srcObject=us)}),he.useEffect(()=>{const B=pi(un,"calls",Xe,"poll","current"),ee=Ir(B,ae=>{ae.exists()?zi(ae.data()):zi(null)});return()=>ee()},[Xe]),he.useEffect(()=>{const B=Sr(un,"calls",Xe,"messages"),ee=tx(B,nx("timestamp","asc"),ix(100)),ae=Ir(ee,ne=>{const de=[];ne.docChanges().forEach(Te=>{const Zt=Te.doc.data();if(Zt.type==="reaction"&&Te.type==="added"){const Et=Math.random().toString();wn(it=>[...it,{id:Et,emoji:Zt.text,x:Math.random()*80+10}]),setTimeout(()=>{wn(it=>it.filter(bt=>bt.id!==Et))},3e3)}}),ne.forEach(Te=>{const Zt=Te.data();Zt.type!=="reaction"&&de.push({id:Te.id,...Zt})}),Kr(de),setTimeout(()=>{var Te;(Te=ja.current)==null||Te.scrollIntoView({behavior:"smooth"})},100)});return()=>ae()},[Xe]),he.useEffect(()=>{vt.current&&(vt.current.muted=Le)},[Le,f]);const Wo=async B=>{try{const ee=Sr(un,"calls",Xe,"messages");await Kc(ee,{text:B,type:"reaction",senderId:Ke,timestamp:Date.now()})}catch(ee){console.error("Error sending reaction:",ee)}},hs=async()=>{if(!(!s.isCreator||!Tt.trim()||Jt.some(B=>!B.trim())))try{const B=pi(un,"calls",Xe,"poll","current");await dm(B,{question:Tt,options:Jt,votes:{}}),qn(""),dn(["",""])}catch(B){console.error("Error creating poll",B)}},$r=async B=>{if(Lt)try{const ee=pi(un,"calls",Xe,"poll","current"),ae={...Lt.votes,[Ke]:B};await Rr(ee,{votes:ae})}catch(ee){console.error("Error voting",ee)}},Xr=async()=>{if(s.isCreator)try{const B=pi(un,"calls",Xe,"poll","current");await ax(B)}catch(B){console.error("Error ending poll",B)}},ji=async()=>{if(ut)Ai.current&&Ai.current.state!=="inactive"&&Ai.current.stop();else try{const B=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});let ee={mimeType:"video/webm;codecs=vp9,opus"};MediaRecorder.isTypeSupported(ee.mimeType)||(ee={mimeType:"video/webm;codecs=vp8,opus"},MediaRecorder.isTypeSupported(ee.mimeType)||(ee={mimeType:"video/webm"}));const ae=new MediaRecorder(B,ee);Qs.current=[],ae.ondataavailable=ne=>{ne.data&&ne.data.size>0&&Qs.current.push(ne.data)},ae.onstop=()=>{const ne=new Blob(Qs.current,{type:"video/webm"});if(ne.size===0){console.error("Recording failed: Blob is empty");return}const de=URL.createObjectURL(ne),Te=document.createElement("a");Te.style.display="none",Te.href=de,Te.download=`QAXI_Meeting_${new Date().toISOString().replace(/[:.]/g,"-")}.webm`,document.body.appendChild(Te),Te.click(),setTimeout(()=>{document.body.removeChild(Te),window.URL.revokeObjectURL(de)},100),B.getTracks().forEach(Zt=>Zt.stop()),Gs(!1)},Ai.current=ae,ae.start(1e3),Gs(!0)}catch(B){console.error("Error starting recording",B),Gs(!1)}},wi=async B=>{if(B==null||B.preventDefault(),!!bi.trim())try{const ee=Sr(un,"calls",Xe,"messages");await Kc(ee,{text:bi,type:"chat",senderId:Ke,timestamp:Date.now()}),St("")}catch(ee){console.error("Error sending message:",ee)}},Ha=()=>{o&&(o.getAudioTracks().forEach(B=>{B.enabled=!B.enabled}),y(!g))},Hn=async()=>{if(o)if(E)o.getVideoTracks().forEach(B=>B.stop()),w(!1);else try{const ee=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];if(o.getVideoTracks().forEach(ae=>o.removeTrack(ae)),o.addTrack(ee),je.current&&!S){const ae=je.current.getSenders().find(ne=>{var de;return((de=ne.track)==null?void 0:de.kind)==="video"});ae&&await ae.replaceTrack(ee)}jn.current&&!S&&(jn.current.srcObject=o),Kt.current=o,w(!0)}catch(B){console.error(B)}},Fn=async()=>{S?Ot():It()},It=async()=>{try{const B=await navigator.mediaDevices.getDisplayMedia({video:!0}),ee=B.getVideoTracks()[0];if(ni.current=ee,je.current){const ae=je.current.getSenders().find(ne=>{var de;return((de=ne.track)==null?void 0:de.kind)==="video"});ae&&await ae.replaceTrack(ee)}ee.onended=()=>{Ot()},Yr(B),F(!0)}catch(B){console.error("Error sharing screen:",B)}},Ot=()=>{if(ni.current&&(ni.current.stop(),ni.current=null),je.current&&o){const B=o.getVideoTracks()[0],ee=je.current.getSenders().find(ae=>{var ne;return((ne=ae.track)==null?void 0:ne.kind)==="video"});ee&&B&&(ee.replaceTrack(B),B.enabled=E)}Yr(null),F(!1)},Rn=async(B,ee)=>{x(ae=>({...ae,[B]:ee}));try{const ae=pi(un,"calls",Xe,"participants",B);await Rr(ae,{hostAction:ee}),setTimeout(()=>{x(ne=>{const de={...ne};return delete de[B],de})},2e3)}catch(ae){console.error("Failed to send host action",ae),x(ne=>{const de={...ne};return delete de[B],de})}},Ks=async B=>{try{const ee=pi(un,"calls",Xe,"participants",B);await Rr(ee,{status:"admitted"})}catch(ee){console.error("Failed to admit participant",ee)}},Fa=async()=>{if(s.isCreator)try{const B=Sr(un,"calls",Xe,"participants"),ae=(await z0(B)).docs.map(async ne=>{ne.id!==Ke&&await Rr(ne.ref,{hostAction:"MUTE_AUDIO"})});await Promise.all(ae)}catch(B){console.error("Error muting all participants:",B)}},Jr=()=>{navigator.clipboard.writeText(Xe),os(!0),setTimeout(()=>os(!1),2e3)},Zr=B=>A.jsxs("div",{className:`relative bg-zinc-900 overflow-hidden shadow-2xl group/local
        ${B?"rounded-xl border-2 border-zinc-700 cursor-move":"w-full h-full rounded-2xl border border-zinc-800 flex items-center justify-center"}
      `,style:B?{width:"100%",height:"100%"}:{},children:[A.jsx("video",{ref:jn,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-full object-cover scale-x-[-1] ${!E&&!S?"hidden":""}`}),!E&&!S&&A.jsx("div",{className:"w-full h-full flex items-center justify-center bg-zinc-800 text-zinc-500",children:A.jsx("i",{className:"fa-solid fa-video-slash text-2xl"})}),S&&A.jsxs("div",{className:"absolute top-2 right-2 bg-blue-600/90 text-white text-[10px] font-bold px-2 py-1 rounded shadow-lg flex items-center gap-2 z-20 border border-blue-400/30",children:[A.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),A.jsx("span",{children:"Sharing Screen"})]}),A.jsxs("div",{className:"absolute bottom-2 left-2 text-[10px] font-bold text-white bg-black/50 px-2 py-1 rounded flex items-center gap-1 pointer-events-none z-10",children:["YOU ",S&&A.jsxs("span",{className:"text-blue-400 ml-1 font-normal",children:[A.jsx("i",{className:"fa-solid fa-desktop"})," Screen"]}),g&&A.jsx("i",{className:"fa-solid fa-microphone-slash text-red-400 ml-1"}),Yt==="poor"&&A.jsx("i",{className:"fa-solid fa-signal text-red-500 ml-1 animate-pulse",title:"Poor Connection"})]}),B&&A.jsx("div",{onMouseDown:cs,className:"resize-handle absolute bottom-0 right-0 w-6 h-6 bg-transparent cursor-se-resize z-20 flex items-end justify-end p-1 opacity-0 group-hover/local:opacity-100 transition-opacity",children:A.jsx("div",{className:"w-2 h-2 bg-zinc-400 rounded-br-sm border-r-2 border-b-2 border-zinc-300"})})]}),In=()=>A.jsxs("div",{className:"relative w-full h-full bg-zinc-900 rounded-2xl overflow-hidden border border-zinc-800 shadow-2xl flex items-center justify-center group",children:[f&&!K&&te.status==="admitted"?A.jsx(A.Fragment,{children:A.jsx("video",{ref:vt,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain"})}):A.jsxs("div",{className:"flex flex-col items-center justify-center text-zinc-600",children:[A.jsx("i",{className:`fa-solid ${te.status==="waiting"?"fa-hourglass-half":K?"fa-eye-slash":"fa-user-astronaut"} text-6xl mb-4 animate-pulse`}),A.jsx("p",{className:"text-xl",children:te.status==="waiting"?"Participant in Waiting Room":K?"Remote Video Hidden":"Waiting for participant..."})]}),f&&te.isScreenSharing&&te.status==="admitted"&&A.jsxs("div",{className:"absolute top-6 left-6 bg-blue-600/80 backdrop-blur-md text-white font-bold px-4 py-2 rounded-xl shadow-2xl flex items-center gap-3 z-30 border border-blue-500/50",children:[A.jsx("i",{className:"fa-solid fa-clapperboard text-white animate-pulse"}),A.jsx("span",{className:"uppercase tracking-widest text-xs",children:"Screen Sharing in progress"})]}),f&&te.muted&&te.status==="admitted"&&A.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 flex flex-col items-center justify-center bg-black/60 p-4 rounded-xl backdrop-blur-sm pointer-events-none",children:[A.jsx("i",{className:"fa-solid fa-microphone-slash text-red-500 text-3xl mb-2"}),A.jsx("span",{className:"text-white font-medium text-sm",children:"Participant Muted"})]}),f&&te.status==="admitted"&&A.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20",children:[s.isCreator&&ve&&A.jsx("button",{onClick:()=>Rn(ve,"STOP_VIDEO"),className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-md border transition-all bg-black/50 border-white/20 text-white hover:bg-red-500/70 hover:border-red-500",title:"Stop Remote Video (Host Action)",children:A.jsx("i",{className:"fa-solid fa-video-slash"})}),A.jsx("button",{onClick:()=>M(!Le),className:`w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-md border transition-all ${Le?"bg-red-500/50 border-red-500 text-white":"bg-black/50 border-white/20 text-white hover:bg-black/70"}`,title:Le?"Unmute Remote (For You)":"Mute Remote (For You)",children:A.jsx("i",{className:`fa-solid ${Le?"fa-volume-xmark":"fa-volume-high"}`})}),A.jsx("button",{onClick:()=>oe(!K),className:`w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-md border transition-all ${K?"bg-red-500/50 border-red-500 text-white":"bg-black/50 border-white/20 text-white hover:bg-black/70"}`,title:K?"Show Remote Video":"Hide Remote Video",children:A.jsx("i",{className:`fa-solid ${K?"fa-eye-slash":"fa-eye"}`})})]})]});return W==="waiting"?A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black p-4 relative overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-800 via-black to-black opacity-50"}),A.jsxs("div",{className:"relative z-10 w-full max-w-md bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl text-center",children:[A.jsx("div",{className:"mb-6 flex justify-center",children:A.jsxs("div",{className:"w-20 h-20 rounded-full bg-zinc-800 border-2 border-gold flex items-center justify-center animate-pulse relative",children:[A.jsx("img",{src:zn,alt:"Me",className:"w-full h-full object-cover rounded-full opacity-80"}),Re&&A.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 text-black w-8 h-8 rounded-full flex items-center justify-center border-2 border-black animate-bounce",title:"Host is reviewing",children:A.jsx("i",{className:"fa-solid fa-eye text-sm"})})]})}),A.jsx("h2",{className:"text-2xl font-brand text-white mb-2 tracking-wider",children:"Waiting for Host"}),A.jsx("p",{className:"text-zinc-500 text-sm mb-4",children:"The meeting host will let you in soon."}),A.jsxs("div",{className:"flex flex-col gap-3 mb-8",children:[Ee>1?A.jsxs("div",{className:"bg-zinc-800/50 py-2 px-4 rounded-lg border border-zinc-700/50 inline-flex items-center justify-center gap-2 mx-auto",children:[A.jsx("i",{className:"fa-solid fa-users text-zinc-400 text-xs"}),A.jsxs("span",{className:"text-zinc-300 text-xs",children:[Ee," participants waiting"]})]}):A.jsx("div",{className:"bg-zinc-800/50 py-2 px-4 rounded-lg border border-zinc-700/50 inline-flex items-center justify-center gap-2 mx-auto",children:A.jsx("span",{className:"text-zinc-300 text-xs",children:"You are next in line"})}),Re&&A.jsxs("div",{className:"text-green-400 text-xs font-bold animate-pulse flex items-center justify-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-check-circle"})," Host is reviewing join requests..."]})]}),A.jsx("div",{className:"flex justify-center mb-8",children:A.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 px-4 py-2 rounded-lg border border-zinc-800",children:[A.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-bounce"}),A.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-bounce delay-100"}),A.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-bounce delay-200"})]})}),A.jsx("button",{onClick:e,className:"text-zinc-500 hover:text-white text-sm transition-colors border-b border-transparent hover:border-zinc-500 pb-1",children:"Cancel and Leave"})]})]}):A.jsxs("div",{className:"relative w-full h-screen bg-black overflow-hidden flex flex-col",children:[A.jsxs("div",{className:`absolute top-0 left-0 w-full z-20 flex justify-between items-start bg-gradient-to-b from-black/80 to-transparent pointer-events-none ${n?"p-2":"p-4"}`,children:[A.jsxs("div",{className:"pointer-events-auto flex items-center gap-2 md:gap-4",children:[A.jsxs("div",{className:`flex items-center gap-2 bg-zinc-900/50 backdrop-blur-md border border-zinc-700 rounded-full ${n?"px-2 py-1":"px-4 py-2"}`,children:[A.jsx("span",{className:`w-2 h-2 rounded-full ${tt==="Connected"?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),A.jsx("span",{className:`text-zinc-200 font-medium ${n?"text-xs":"text-sm"}`,children:tt})]}),tt==="Connected"&&A.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/50 backdrop-blur-md border border-zinc-700 rounded-full px-4 py-2",children:[A.jsx("i",{className:"fa-regular fa-clock text-gold text-xs"}),A.jsx("span",{className:"text-zinc-200 text-sm font-mono tracking-wider",children:qa(Hs)})]})]}),A.jsxs("div",{className:"pointer-events-auto flex flex-col items-end gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"flex items-center gap-2 bg-zinc-900/80 backdrop-blur-md border border-zinc-700 rounded-xl px-2 py-1 mr-2",children:A.jsxs("button",{onClick:()=>ie(B=>B==="speaker"?"grid":"speaker"),className:"flex items-center gap-2 px-2 py-1 hover:text-white text-zinc-400 transition-colors",title:"Toggle Layout",children:[A.jsx("i",{className:`fa-solid ${Z==="speaker"?"fa-table-cells-large":"fa-film"} text-gold`}),A.jsx("span",{className:"text-xs font-bold uppercase hidden sm:inline",children:Z==="speaker"?"Grid View":"Speaker View"})]})}),A.jsxs("div",{className:`flex items-center gap-2 bg-zinc-900/80 backdrop-blur-md border border-zinc-700 rounded-xl cursor-pointer hover:bg-zinc-800 transition-colors ${n?"px-2 py-1":"px-4 py-2"}`,onClick:Jr,children:[A.jsxs("div",{className:"flex flex-col items-end",children:[A.jsx("span",{className:"text-[10px] text-zinc-400 uppercase tracking-widest",children:"Room ID"}),A.jsx("span",{className:`text-gold font-mono font-bold ${n?"text-sm":"text-lg"}`,children:Xe})]}),A.jsx("i",{className:`fa-solid ${Ti?"fa-check text-green-500":"fa-copy text-zinc-500"} ml-2`})]})]}),Ti&&A.jsx("span",{className:"text-green-500 text-xs bg-black/50 px-2 py-1 rounded",children:"Copied!"})]})]}),Oe&&A.jsx("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:A.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl animate-[fadeIn_0.2s_ease-out]",children:[A.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-red-500/20",children:A.jsx("i",{className:"fa-solid fa-phone-slash text-red-500 text-2xl"})}),A.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-brand",children:"End Meeting?"}),A.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Are you sure you want to leave? You can rejoin later using the room ID."}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-xl font-medium transition-colors border border-zinc-700",children:"Cancel"}),A.jsx("button",{onClick:e,className:"flex-1 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-colors shadow-lg shadow-red-900/30",children:"Leave"})]})]})}),A.jsxs("div",{className:"flex-1 flex overflow-hidden w-full relative",children:[A.jsx("div",{className:`flex-1 relative flex items-center justify-center p-4 gap-4 transition-all duration-300 ease-in-out ${lt!=="none"?"mr-0":""}`,children:S&&us?A.jsxs("div",{className:"w-full h-full max-w-6xl max-h-full relative",children:[A.jsxs("div",{className:"relative w-full h-full bg-zinc-900 rounded-2xl overflow-hidden border border-zinc-800 shadow-2xl flex items-center justify-center group",children:[A.jsx("video",{ref:Fs,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-contain"}),A.jsxs("div",{className:"absolute top-4 left-4 text-xs font-bold text-white bg-blue-600/90 px-3 py-1.5 rounded-full flex items-center gap-2 pointer-events-none shadow-lg",children:[A.jsx("i",{className:"fa-solid fa-desktop animate-pulse"})," Ests compartiendo tu pantalla"]})]}),A.jsx("div",{className:"absolute top-4 right-4 w-48 h-32 md:w-64 md:h-44 z-40 rounded-xl overflow-hidden shadow-2xl border-2 border-zinc-700 bg-zinc-900",children:In()})]}):Z==="speaker"?A.jsx("div",{className:"w-full h-full max-w-6xl max-h-full",children:In()}):A.jsxs("div",{className:"w-full h-full max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-4 auto-rows-fr",children:[A.jsx("div",{className:"w-full h-full min-h-[200px] flex flex-col",children:Zr(!1)}),A.jsx("div",{className:"w-full h-full min-h-[200px] flex flex-col",children:In()})]})}),A.jsxs("div",{className:`bg-zinc-900 border-l border-zinc-800 flex flex-col transition-all duration-300 ease-in-out absolute right-0 h-full z-30 ${n?"":"md:static"} ${lt!=="none"?`translate-x-0 shadow-[-10px_0_30px_rgba(0,0,0,0.5)] ${n?"w-full":"w-80"}`:"translate-x-full w-0 border-none"}`,children:[A.jsxs("div",{className:"p-4 border-b border-zinc-800 flex items-center justify-between bg-zinc-900/95 backdrop-blur",children:[A.jsxs("h2",{className:"text-white font-brand font-bold tracking-wider flex items-center gap-2",children:[lt==="chat"&&A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-comments text-gold"})," CHAT"]}),lt==="participants"&&A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-users text-gold"})," PARTICIPANTS"]}),lt==="poll"&&A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-chart-bar text-gold"})," LIVE POLL"]}),lt==="settings"&&A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-gear text-gold"})," HOST SETTINGS"]})]}),A.jsx("button",{onClick:()=>ti("none"),className:"text-zinc-400 hover:text-white text-lg w-8 h-8 flex items-center justify-center rounded-full hover:bg-zinc-800",children:A.jsx("i",{className:"fa-solid fa-times"})})]}),lt==="chat"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 scrollbar-thin scrollbar-thumb-zinc-700",children:[ls.map(B=>{const ee=B.senderId===Ke;return A.jsxs("div",{className:`flex flex-col ${ee?"items-end":"items-start"}`,children:[A.jsx("div",{className:`max-w-[85%] px-3 py-2 rounded-lg text-sm break-words ${ee?"bg-gold text-black rounded-tr-none font-medium":"bg-zinc-800 text-zinc-200 rounded-tl-none border border-zinc-700"}`,children:B.text}),A.jsx("span",{className:"text-[10px] text-zinc-500 mt-1",children:new Date(B.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},B.id)}),A.jsx("div",{ref:ja})]}),A.jsx("form",{onSubmit:wi,className:"p-3 border-t border-zinc-800 bg-zinc-900",children:A.jsxs("div",{className:"flex items-center gap-2 bg-zinc-950 border border-zinc-800 rounded-full px-2 py-1 focus-within:border-gold/50 focus-within:ring-1 focus-within:ring-gold/20 transition-all",children:[A.jsx("input",{type:"text",value:bi,onChange:B=>St(B.target.value),placeholder:"Type a message...",className:"flex-1 bg-transparent border-none text-white text-sm px-3 py-2 focus:outline-none"}),A.jsx("button",{type:"submit",disabled:!bi.trim(),className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${bi.trim()?"bg-gold text-black hover:bg-white":"bg-zinc-800 text-zinc-600"}`,children:A.jsx("i",{className:"fa-solid fa-paper-plane text-xs"})})]})})]}),lt==="participants"&&A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s.isCreator&&A.jsxs("button",{onClick:Fa,className:"w-full mb-2 py-2.5 bg-red-500/10 border border-red-500/30 text-red-400 rounded-xl text-xs font-bold uppercase tracking-wider hover:bg-red-500/20 transition-all flex items-center justify-center gap-2 group",children:[A.jsx("i",{className:"fa-solid fa-microphone-slash group-hover:scale-110 transition-transform"}),"Mute All Participants"]}),A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-zinc-800/50 rounded-xl border border-zinc-700/50",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center border border-zinc-700 overflow-hidden",children:A.jsx("img",{src:zn,alt:"Me",className:"w-full h-full object-cover"})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("p",{className:"text-sm font-medium text-white",children:["You ",s.isCreator?"(Host)":""]}),A.jsxs("p",{className:"text-xs text-green-500 flex items-center gap-1",children:[A.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})," Active"]})]}),A.jsxs("div",{className:"flex gap-2",children:[g&&A.jsx("i",{className:"fa-solid fa-microphone-slash text-zinc-500 text-xs",title:"Muted"}),S&&A.jsx("i",{className:"fa-solid fa-desktop text-blue-400 text-xs",title:"Sharing Screen"})]})]}),A.jsxs("div",{className:`flex flex-col gap-2 p-3 bg-zinc-800/50 rounded-xl border border-zinc-700/50 ${te.status==="waiting"?"border-yellow-500/30 bg-yellow-500/5":""}`,children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center border border-zinc-700 overflow-hidden",children:te.avatarUrl?A.jsx("img",{src:te.avatarUrl,alt:"Remote",className:"w-full h-full object-cover"}):A.jsx("i",{className:"fa-solid fa-user-astronaut text-zinc-400"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-sm font-medium text-zinc-300",children:"Remote Participant"}),A.jsx("div",{className:"flex flex-col gap-0.5",children:te.status==="waiting"?A.jsxs(A.Fragment,{children:[A.jsxs("p",{className:"text-xs flex items-center gap-1 text-yellow-500 font-bold animate-pulse",children:[A.jsx("i",{className:"fa-solid fa-hourglass-half text-[10px]"})," Waiting for admission"]}),f&&A.jsx("div",{className:"mt-2 w-full aspect-video bg-black rounded-lg overflow-hidden border border-zinc-700",children:A.jsx("video",{autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",ref:B=>{B&&f&&B.srcObject!==f&&(B.srcObject=f)}})})]}):A.jsxs("p",{className:`text-xs flex items-center gap-1 ${tt==="Connected"?"text-green-500":"text-yellow-500"}`,children:[A.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${tt==="Connected"?"bg-green-500":"bg-yellow-500"}`}),tt==="Connected"?"Online":"Connecting..."]})})]}),te.status==="admitted"&&A.jsxs("div",{className:"flex gap-2",children:[te.muted&&A.jsx("i",{className:"fa-solid fa-microphone-slash text-red-500 text-xs",title:"User is Muted"}),te.isScreenSharing&&A.jsx("i",{className:"fa-solid fa-desktop text-blue-500 text-xs",title:"User is Sharing Screen"})]})]}),s.isCreator&&ve&&A.jsx("div",{className:"mt-2 pt-2 border-t border-zinc-700 flex justify-end gap-2",children:te.status==="waiting"?A.jsxs("button",{onClick:()=>Ks(ve),className:"w-full py-2 bg-green-600 hover:bg-green-500 text-white text-xs rounded-lg font-bold shadow-lg shadow-green-900/20 transition-all flex items-center justify-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-check"})," Admit to Meeting"]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>Rn(ve,te.muted?"UNMUTE_AUDIO":"MUTE_AUDIO"),disabled:!!R[ve],className:`px-2 py-1 text-[10px] rounded border uppercase tracking-wide font-bold transition-colors ${te.muted?"bg-green-900/30 text-green-400 border-green-900/50 hover:bg-green-900/50":"bg-red-900/30 text-red-400 border-red-900/50 hover:bg-red-900/50"}`,children:R[ve]==="MUTE_AUDIO"||R[ve]==="UNMUTE_AUDIO"?A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-circle-notch fa-spin mr-1"})," Processing..."]}):te.muted?"Unmute":"Mute"}),A.jsx("button",{onClick:()=>Rn(ve,"STOP_VIDEO"),disabled:!te.videoEnabled||R[ve]==="STOP_VIDEO",className:`px-2 py-1 text-[10px] rounded border uppercase tracking-wide font-bold transition-colors ${te.videoEnabled?"bg-zinc-800 text-zinc-400 border-zinc-700 hover:bg-zinc-700 hover:text-white":"bg-zinc-800 text-zinc-500 border-zinc-800 cursor-not-allowed"}`,children:R[ve]==="STOP_VIDEO"?A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fa-solid fa-circle-notch fa-spin mr-1"})," Stopping..."]}):te.videoEnabled?"Stop Video":"Video Stopped"})]})})]}),A.jsxs("div",{className:"mt-8 p-4 bg-zinc-950/50 rounded-xl border border-dashed border-zinc-800 text-center",children:[A.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:"Invite more people by sharing the room ID"}),A.jsx("div",{className:"inline-block bg-zinc-900 px-3 py-1 rounded text-gold font-mono font-bold border border-zinc-700",children:Xe})]})]}),lt==="poll"&&A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:Lt?A.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl border border-gold/30",children:[A.jsx("h3",{className:"text-white font-bold mb-3",children:Lt.question}),A.jsx("div",{className:"space-y-2",children:Lt.options.map((B,ee)=>{const ae=Object.values(Lt.votes).filter(Zt=>Zt===ee).length,ne=Object.keys(Lt.votes).length||1,de=Math.round(ae/ne*100),Te=Lt.votes[Ke]!==void 0;return A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>!Te&&$r(ee),disabled:Te||s.isCreator,className:`w-full text-left px-3 py-2 rounded-lg border text-sm transition-all ${Lt.votes[Ke]===ee?"border-gold bg-gold/20 text-white":"border-zinc-700 bg-zinc-900/50 text-zinc-300 hover:border-zinc-500"} relative z-10 disabled:opacity-80`,children:A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{children:B}),A.jsxs("span",{children:[ae," (",de,"%)"]})]})}),A.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gold/10 rounded-lg transition-all",style:{width:`${de}%`}})]},ee)})}),s.isCreator&&A.jsx("button",{onClick:Xr,className:"w-full mt-4 py-2 border border-red-500/50 text-red-400 rounded-lg text-sm hover:bg-red-500/10 transition-colors bg-red-500/5",children:"End Poll"})]}):s.isCreator?A.jsxs("div",{className:"space-y-3",children:[A.jsx("p",{className:"text-zinc-400 text-sm",children:"Create a new live poll"}),A.jsx("input",{type:"text",value:Tt,onChange:B=>qn(B.target.value),placeholder:"Poll Question",className:"w-full bg-zinc-900 border border-zinc-700 rounded-lg px-3 py-2 text-white text-sm focus:border-gold outline-none"}),Jt.map((B,ee)=>A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",value:B,onChange:ae=>{const ne=[...Jt];ne[ee]=ae.target.value,dn(ne)},placeholder:`Option ${ee+1}`,className:"flex-1 bg-zinc-900 border border-zinc-700 rounded-lg px-3 py-2 text-white text-sm focus:border-gold outline-none"}),Jt.length>2&&A.jsx("button",{onClick:()=>dn(Jt.filter((ae,ne)=>ne!==ee)),className:"text-red-500 px-2",children:A.jsx("i",{className:"fa-solid fa-times"})})]},ee)),A.jsxs("button",{onClick:()=>dn([...Jt,""]),className:"text-gold text-sm hover:underline",children:[A.jsx("i",{className:"fa-solid fa-plus mr-1"})," Add Option"]}),A.jsx("button",{onClick:hs,className:"w-full bg-gold text-black py-2 rounded-lg font-bold shadow-lg shadow-gold/20 hover:scale-[1.02] active:scale-[0.98] transition-transform",children:"Launch Poll"})]}):A.jsxs("div",{className:"text-center text-zinc-500 text-sm py-10 flex flex-col items-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-chart-bar text-4xl opacity-50"}),A.jsx("p",{children:"No active poll right now"})]})}),lt==="settings"&&s.isCreator&&A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[A.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700",children:[A.jsxs("h3",{className:"text-sm font-bold text-white mb-4 uppercase tracking-wider flex items-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-shield-halved text-gold"})," Room Controls"]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-white text-sm font-medium",children:"Record Meeting"}),A.jsx("p",{className:"text-zinc-500 text-xs",children:ut?"Recording in progress":"Record screen & audio"})]}),A.jsx("button",{onClick:ji,title:ut?"Stop Recording":"Start Recording",className:`w-10 h-10 flex items-center justify-center rounded-lg transition-colors border ${ut?"bg-red-600 text-white border-red-500 animate-pulse":"bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white border-red-500/30"}`,children:A.jsx("i",{className:`fa-solid ${ut?"fa-stop":"fa-record-vinyl"}`})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-white text-sm font-medium",children:"Live Poll"}),A.jsx("p",{className:"text-zinc-500 text-xs",children:"Create or view live polls"})]}),A.jsx("button",{onClick:()=>ti(B=>B==="poll"?"settings":"poll"),title:"Toggle Polls",className:`w-10 h-10 flex items-center justify-center rounded-lg transition-colors border ${lt==="poll"?"bg-gold text-black border-gold shadow-lg shadow-gold/20":"bg-zinc-700/50 text-zinc-300 hover:bg-gold hover:text-black border-zinc-600"}`,children:A.jsx("i",{className:"fa-solid fa-chart-bar"})})]}),A.jsx("div",{className:"h-px bg-zinc-700 my-1"}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-white text-sm font-medium",children:"Mute All Participants"}),A.jsx("p",{className:"text-zinc-500 text-xs",children:"Force mute everyone's microphone"})]}),A.jsx("button",{onClick:Fa,title:"Mute all",className:"bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white border border-red-500/30 w-10 h-10 flex items-center justify-center rounded-lg transition-colors",children:A.jsx("i",{className:"fa-solid fa-microphone-slash"})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-white text-sm font-medium",children:"Stop All Video"}),A.jsx("p",{className:"text-zinc-500 text-xs",children:"Turn off everyone's camera"})]}),A.jsx("button",{onClick:async()=>{if(!s.isCreator)return;const B=Sr(un,"calls",Xe,"participants");(await z0(B)).docs.forEach(ae=>{ae.id!==Ke&&Rr(ae.ref,{hostAction:"STOP_VIDEO"})})},title:"Stop all video",className:"bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white border border-red-500/30 w-10 h-10 flex items-center justify-center rounded-lg transition-colors",children:A.jsx("i",{className:"fa-solid fa-video-slash"})})]})]})]}),A.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700",children:[A.jsxs("h3",{className:"text-sm font-bold text-white mb-2 uppercase tracking-wider flex items-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-info-circle text-blue-400"})," Meeting Details"]}),A.jsxs("div",{className:"text-sm text-zinc-300 mb-2",children:[A.jsx("strong",{children:"Room ID:"})," ",A.jsx("span",{className:"font-mono text-gold",children:Xe})]}),A.jsxs("button",{onClick:Jr,className:"w-full py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg text-sm text-white transition-colors flex items-center justify-center gap-2",children:[A.jsx("i",{className:"fa-solid fa-copy"}),Ti?"Copied":"Copy ID"]})]})]})]})]}),Ba.map(B=>A.jsx("div",{className:"absolute z-50 pointer-events-none",style:{left:`${B.x}%`,bottom:"15%",fontSize:"3rem",animation:"reactionFloat 2.5s ease-out forwards"},children:B.emoji},B.id)),A.jsx("style",{children:`
        @keyframes reactionFloat {
          0%   { opacity: 1; transform: translateY(0) scale(1); }
          50%  { opacity: 1; transform: translateY(-80px) scale(1.2); }
          100% { opacity: 0; transform: translateY(-180px) scale(0.8); }
        }
      `}),Z==="speaker"&&A.jsx("div",{style:{position:"fixed",left:V.x,top:V.y,width:V.width,height:V.height},onMouseDown:ii,className:"z-50",children:Zr(!0)}),A.jsx(iO,{muted:g,videoEnabled:E,isScreenSharing:S,chatOpen:lt==="chat",participantsOpen:lt==="participants",pollOpen:lt==="poll",settingsOpen:lt==="settings",isRecording:ut,waitingCount:Ee,isHost:s.isCreator,onToggleMute:Ha,onToggleVideo:Hn,onToggleScreenShare:Fn,onToggleChat:()=>ti(B=>B==="chat"?"none":"chat"),onToggleParticipants:()=>ti(B=>B==="participants"?"none":"participants"),onTogglePoll:()=>ti(B=>B==="poll"?"none":"poll"),onToggleSettings:()=>ti(B=>B==="settings"?"none":"settings"),onToggleRecording:ji,onSendReaction:Wo,onHangup:()=>N(!0)})]})},rO=()=>{const[s,e]=he.useState({joined:!1,roomId:"",isCreator:!1}),n=()=>Math.random().toString(36).substring(2,8).toUpperCase(),r=()=>{const f=n();e({joined:!0,roomId:f,isCreator:!0})},o=f=>{e({joined:!0,roomId:f.toUpperCase(),isCreator:!1})},u=()=>{e({joined:!1,roomId:"",isCreator:!1})};return A.jsx("div",{className:"min-h-screen text-white font-sans",children:s.joined?A.jsx(sO,{roomState:s,onLeave:u}):A.jsx(eS,{onCreateRoom:r,onJoinRoom:o})})},fA=document.getElementById("root");if(!fA)throw new Error("Could not find root element to mount to");const aO=Ww.createRoot(fA);aO.render(A.jsx(Qm.StrictMode,{children:A.jsx(rO,{})}));</script>
</head>

<body>
    <div id="root"></div>
</body>

</html>