<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>QAXI</title>
    <meta name="description" content="QAXI ofrece diseño y mantenimiento de páginas web profesionales por una suscripción mensual accesible en Colombia. Incluye dominio, hosting, IA y soporte.">
    <meta name="keywords" content="paginas web colombia, diseño web suscripcion, mantenimiento web, qaxi, crear pagina web, hosting incluido, web barata, firebase, seo">
    <meta name="author" content="QAXI - Santiago Andrés">
    
    <meta property="og:title" content="QAXI">
    <meta property="og:description" content="Olvídate de pagar millones. Ten tu sitio web profesional con todo incluido desde $60.000 COP/mes.">
    <meta property="og:image" content="icon.png">
    <meta property="og:url" content="https://qaxi.co">
    <meta property="og:type" content="website">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="icon" href="icon.png" type="image/png">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <style>
        :root {
            --bg-color: #050505;
            --surface-color: #121212;
            --text-primary: #ffffff;
            --text-secondary: #a1a1a1;
            --accent: #ffffff;
            --gold: #FFD700; /* Color Partners */
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-blur: blur(20px);
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
            --success: #4caf50;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        body { background-color: var(--bg-color); color: var(--text-primary); line-height: 1.6; overflow-x: hidden; position: relative; }

        #particles-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        
        body::before {
            content: ''; position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.02) 0%, transparent 50%);
            z-index: -2; pointer-events: none; animation: breathe 10s infinite alternate;
        }

        @keyframes breathe { from { opacity: 0.5; transform: scale(1); } to { opacity: 0.8; transform: scale(1.1); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes pulseCopy { 0% { transform: scale(1); } 50% { transform: scale(0.95); opacity: 0.7; } 100% { transform: scale(1); opacity: 1; } }
        @keyframes shine { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        .hidden { opacity: 0; filter: blur(5px); transform: translateY(50px); transition: all 1s ease-out; }
        .show { opacity: 1; filter: blur(0); transform: translateY(0); }

        /* HEADER Y NAVEGACIÓN */
        header {
            position: fixed; top: 0; width: 100%; padding: 15px 5%;
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(5, 5, 5, 0.6); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            z-index: 1000; border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .logo img { height: 55px; object-fit: contain; mix-blend-mode: screen; display: block; }

        /* Contenedor para elementos del menú (Links + Botones Auth) */
        .nav-container {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        nav ul { display: flex; list-style: none; gap: 30px; align-items: center; }
        nav a { color: var(--text-secondary); text-decoration: none; font-size: 0.9rem; font-weight: 500; transition: color 0.3s; cursor: pointer; }
        nav a:hover { color: var(--accent); text-shadow: 0 0 8px rgba(255, 255, 255, 0.5); }

        /* Botón Hamburguesa (Oculto en PC) */
        .menu-toggle {
            display: none;
            font-size: 1.5rem;
            color: #fff;
            cursor: pointer;
            z-index: 1100;
        }

        .auth-wrapper { display: flex; gap: 15px; }

        .cta-btn {
            background: var(--accent); color: var(--bg-color); padding: 10px 20px;
            border-radius: 4px; font-weight: 600; text-decoration: none; cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s; display: inline-block; border: none;
            font-size: 0.85rem;
        }
        .cta-btn:hover { transform: scale(1.05); box-shadow: 0 0 15px rgba(255, 255, 255, 0.4); }

        /* --- MEDIA QUERIES (MÓVIL) --- */
        @media (max-width: 768px) { 
            header { padding: 15px 20px; }
            .logo img { height: 45px; }

            /* Mostrar botón hamburguesa */
            .menu-toggle { display: block; }

            /* Estilos del Menú Móvil Desplegable */
            .nav-container {
                position: fixed;
                top: 0;
                right: -100%; /* Oculto fuera de pantalla */
                width: 80%; /* Ancho del menú lateral */
                height: 100vh;
                background: rgba(10, 10, 10, 0.98); /* Fondo oscuro casi sólido */
                backdrop-filter: blur(20px);
                flex-direction: column;
                justify-content: center;
                align-items: center;
                transition: right 0.4s cubic-bezier(0.77, 0, 0.175, 1); /* Animación suave */
                padding: 40px;
                box-shadow: -10px 0 30px rgba(0,0,0,0.5);
                z-index: 1050;
            }

            /* Clase activa para mostrar el menú */
            .nav-container.active {
                right: 0;
            }

            /* Ajustes de enlaces en móvil */
            nav ul {
                flex-direction: column;
                gap: 25px;
                margin-bottom: 40px;
                text-align: center;
            }
            nav a {
                font-size: 1.3rem; /* Enlaces más grandes */
                display: block;
            }

            /* Ajustes de botones de autenticación en móvil */
            .auth-wrapper {
                flex-direction: column;
                width: 100%;
                gap: 15px;
            }
            .auth-wrapper .cta-btn {
                width: 100%;
                text-align: center;
                padding: 15px;
                font-size: 1rem;
            }

            /* Ajustes Héroe Móvil */
            .hero h1 { font-size: 2.5rem; } 
            .hero-btns {
                display: flex; flex-direction: column; gap: 15px; width: 100%; max-width: 350px;
            }
            .hero-btns .cta-btn { width: 100%; margin: 0 !important; }
            
            /* Ajustes Premium Cards Móvil */
            .premium-card { padding: 30px 20px; flex-direction: column !important; gap: 30px; }
            .premium-info, .premium-pricing { min-width: auto; width: 100%; }
            .premium-card h3 { font-size: 1.8rem !important; }
        }

        /* --- FIN MEDIA QUERIES --- */

        .hero {
            height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
            padding: 0 20px; background: radial-gradient(circle at center, rgba(20,20,20,0.5) 0%, rgba(5,5,5,0) 70%);
            position: relative; overflow: hidden;
        }
        
        .hero h1 { 
            font-size: 4rem; font-weight: 800; letter-spacing: -2px; margin-bottom: 20px; 
            color: #ffffff;
            background: linear-gradient(90deg, #fff 0%, #a1a1a1 20%, #fff 40%, #fff 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 5s linear infinite;
        }
        
        .hero p { font-size: 1.2rem; color: #cccccc; max-width: 600px; margin-bottom: 40px; }
        .q-watermark { font-size: 20rem; position: absolute; opacity: 0.03; font-weight: 800; z-index: -1; pointer-events: none; }

        .tutorial-link {
            margin-top: 15px; font-size: 0.8rem; color: #666; text-decoration: none; border-bottom: 1px dashed #666; transition: 0.3s; cursor: pointer;
        }
        .tutorial-link:hover { color: #fff; border-color: #fff; }

        section { padding: 80px 10%; }
        .section-title { font-size: 2rem; margin-bottom: 40px; border-left: 4px solid var(--accent); padding-left: 20px; }

        .about-text h3 { margin-bottom: 20px; font-size: 1.5rem; }
        .about-list { list-style: none; }
        .about-list li { margin-bottom: 15px; display: flex; align-items: center; color: var(--text-secondary); }
        .about-list li i { margin-right: 15px; color: var(--accent); }

        .founder-section { background: rgba(18, 18, 18, 0.5); backdrop-filter: blur(5px); border-top: 1px solid var(--glass-border); border-bottom: 1px solid var(--glass-border); }
        .founder-content { max-width: 800px; margin: 0 auto; }
        .founder-sign { margin-top: 30px; font-style: italic; border-top: 1px solid #333; padding-top: 20px; display: inline-block; }

        .pricing-container { display: flex; justify-content: center; flex-wrap: wrap; gap: 30px; }
        .pricing-card {
            background: var(--glass-bg); backdrop-filter: var(--glass-blur); border: 1px solid var(--glass-border);
            padding: 40px; border-radius: 20px; width: 100%; max-width: 400px; text-align: center;
            display: flex; flex-direction: column; justify-content: space-between;
            transform-style: preserve-3d;
        }
        .pricing-card:hover { border-color: var(--accent); }
        .price { font-size: 2.5rem; font-weight: 800; margin: 20px 0; transform: translateZ(20px); }
        .price span { font-size: 1rem; color: var(--text-secondary); font-weight: 400; }
        .features-list { list-style: none; text-align: left; margin: 30px 0; transform: translateZ(10px); }
        .features-list li { padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .features-list li i { color: var(--accent); margin-right: 10px; }
        .highlight-feature { color: #fff; font-weight: 700; }

        /* ESTILOS DE MICRO-APPS */
        .microapps-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-top: 40px; }
        .microapp-card {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);
            padding: 25px; border-radius: 12px; text-align: left; transition: 0.3s;
            display: flex; flex-direction: column;
        }
        .microapp-card:hover { background: rgba(255,255,255,0.06); transform: translateY(-5px); border-color: rgba(255,255,255,0.2); }
        .ma-icon { font-size: 1.5rem; color: #fff; margin-bottom: 15px; }
        .ma-title { font-size: 1rem; font-weight: 700; margin-bottom: 8px; color: #fff; }
        .ma-desc { font-size: 0.8rem; color: #aaa; margin-bottom: 15px; flex-grow: 1; }
        .ma-price { font-size: 0.8rem; color: #fff; font-weight: 700; background: rgba(255,255,255,0.1); display: inline-block; padding: 4px 8px; border-radius: 4px; align-self: flex-start; }
        .ma-btn { align-self: flex-end; color: #fff; font-size: 0.85rem; text-decoration: none; margin-top: 10px; cursor: pointer; }
        .ma-btn:hover { text-decoration: underline; }

        /* ESTILOS PREMIUM (TRAFFIC & SOCIAL) */
        .premium-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(0,0,0,0.8) 100%);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 20px; padding: 50px; text-align: left;
            display: flex; flex-wrap: wrap; align-items: center; gap: 40px;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.05);
            margin-bottom: 50px;
        }
        .premium-info { flex: 1; min-width: 300px; }
        .premium-pricing { 
            flex: 1; min-width: 250px; background: #000; padding: 30px; 
            border-radius: 15px; border: 1px dashed rgba(255,255,255,0.3); text-align: center; 
        }
        .premium-list { list-style: none; margin-top: 20px; }
        .premium-list li { margin-bottom: 10px; color: #ccc; display: flex; align-items: center; }
        .premium-list li i { color: #fff; margin-right: 12px; }

        /* MODALES */
        .modal {
            display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.85); backdrop-filter: blur(8px);
            align-items: center; justify-content: center; animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: rgba(20, 20, 20, 0.95); padding: 30px 20px; border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.1); text-align: center; max-width: 450px; width: 90%;
            position: relative; box-shadow: 0 0 50px rgba(255, 255, 255, 0.05); animation: popIn 0.3s forwards;
            max-height: 85vh; 
            overflow-y: auto; 
        }
        
        .close { color: #666; position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer; transition: 0.3s; }
        .close:hover { color: #fff; transform: rotate(90deg); }
        
        .qr-img { width: 100%; max-width: 210px; margin: 10px 0; border-radius: 12px; border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        .instructions { font-size: 0.85rem; color: #aaa; margin-bottom: 10px; line-height: 1.4; }
        
        .payment-btns { display: flex; gap: 10px; justify-content: center; margin-top: 15px; }
        .payment-btn {
            background: transparent; color: #fff; border: 1px solid #fff; padding: 10px 15px;
            border-radius: 4px; font-weight: 600; text-decoration: none; cursor: pointer;
            transition: all 0.2s; display: flex; align-items: center; gap: 8px; font-size: 0.8rem;
            flex: 1; justify-content: center;
        }
        .payment-btn:hover { background: #fff; color: #000; }

        .auth-input {
            width: 100%; padding: 12px; margin-bottom: 15px; background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 5px; color: #fff; font-size: 1rem;
        }
        .auth-input:focus { outline: none; border-color: #fff; }
        .auth-toggle { font-size: 0.85rem; color: #aaa; margin-top: 15px; cursor: pointer; text-decoration: underline; }

        /* LEGAL CONTENT */
        .legal-summary { cursor: pointer; padding: 20px; background: rgba(18,18,18,0.4); border: 1px solid var(--glass-border); margin-top: 20px; display: flex; justify-content: space-between; align-items: center; }
        .legal-content { display: none; padding: 40px; background: #000; font-size: 0.9rem; color: #a1a1a1; border: 1px solid var(--glass-border); border-top: none; text-align: left; }
        .legal-content h4 { color: #fff; margin-top: 25px; margin-bottom: 12px; font-size: 1.1rem; }
        .legal-content p { margin-bottom: 15px; line-height: 1.7; }
        .legal-content ul { margin-left: 20px; margin-bottom: 15px; list-style: disc; }

        .footer-contact-icons {
            display: flex;
            gap: 25px;
            justify-content: center;
            margin-bottom: 25px;
        }
        .footer-contact-icons a {
            color: #555;
            font-size: 2rem;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        .footer-contact-icons a:hover {
            color: #fff;
            transform: translateY(-5px);
        }

        footer { text-align: center; padding: 60px 40px; border-top: 1px solid var(--glass-border); color: var(--text-secondary); font-size: 0.8rem; }
        
        #qaxi-chat-floating {
            position: fixed; bottom: 30px; right: 30px;
            width: 65px; height: 65px;
            border-radius: 50%; display: flex;
            align-items: center; justify-content: center; cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); z-index: 3000; transition: 0.3s;
            overflow: hidden;
            text-decoration: none;
            background: #000;
            border: 2px solid #333;
        }
        #qaxi-chat-floating:hover { transform: scale(1.1); border-color: #fff; }
        
        #qaxi-chat-floating img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .nequi-guide-container {
            margin: 15px 0;
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid #e91e63;
            text-align: left;
        }
        
        .nequi-guide-img {
            width: 100%;
            max-width: 150px;
            display: block;
            margin: 10px auto;
            border-radius: 8px;
            border: 1px dashed rgba(255,255,255,0.2);
        }

        /* --- ESTILOS DASHBOARD --- */
        .dashboard-info { text-align: left; margin-bottom: 20px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; }
        .dashboard-label { font-size: 0.75rem; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        .dashboard-value { font-size: 1rem; color: #fff; margin-bottom: 10px; font-weight: 600; }
        .plan-tag { padding: 4px 10px; border-radius: 4px; font-size: 0.7rem; background: #fff; color: #000; font-weight: 800; text-transform: uppercase; }
        
        .web-access-box { margin-top: 20px; padding: 20px; background: #fff; color: #000; border-radius: 10px; text-align: center; }
        .web-btn { background: #000; color: #fff; text-decoration: none; padding: 12px; border-radius: 6px; display: block; font-weight: 700; font-size: 0.8rem; margin-top: 10px; }

        /* --- ESTILOS TUTORIAL / COPIA --- */
        .tutorial-steps { display: flex; justify-content: space-around; margin: 20px 0; gap: 5px; text-align: center; }
        .step-item { flex: 1; display: flex; flex-direction: column; align-items: center; }
        .step-icon { width: 35px; height: 35px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 8px; color: #fff; font-size: 0.9rem; }
        .step-text { font-size: 0.65rem; color: #aaa; line-height: 1.2; font-weight: 600; }
        
        .email-copy-box { 
            background: rgba(255,255,255,0.1); border: 1px dashed rgba(255,255,255,0.3); 
            padding: 10px; border-radius: 8px; cursor: pointer; position: relative; overflow: hidden;
            transition: all 0.2s; margin-top: 10px; margin-bottom: 15px;
        }
        .email-copy-box:active { animation: pulseCopy 0.2s; background: rgba(255,255,255,0.2); }
        .email-copy-box p { font-size: 0.85rem; font-weight: 600; word-break: break-all; color: #fff; margin: 0; }
        .email-copy-box span { font-size: 0.6rem; text-transform: uppercase; color: #888; display: block; margin-top: 3px; }
        
        .copy-tooltip {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(76, 175, 80, 0.9); color: #fff; display: flex; align-items: center; justify-content: center;
            font-weight: 800; opacity: 0; transition: opacity 0.3s; pointer-events: none;
        }
        .copied .copy-tooltip { opacity: 1; }

    </style>
</head>
<body>

    <canvas id="particles-canvas"></canvas>

    <header>
        <div class="logo"><a href="#hero"><img src="icon.png" alt="QAXI Logo"></a></div>
        
        <div class="menu-toggle" id="mobile-menu-toggle">
            <i class="fas fa-bars"></i>
        </div>

        <div class="nav-container" id="nav-container">
            <nav>
                <ul>
                    <li><a href="#pricing" class="nav-link">Precios</a></li>
                    <li><a href="#microapps" class="nav-link">Micro-Apps</a></li>
                    <li><a href="#traffic" class="nav-link" style="color: #fff; font-weight: 700;">Traffic</a></li>
                    <li><a href="#social" class="nav-link" style="color: #fff; font-weight: 700;">Social</a></li>
                    <li><a href="#founder" class="nav-link">Manifiesto</a></li>
                    <li><a href="partners.html" class="nav-link" style="color: var(--gold); font-weight: 700; text-shadow: 0 0 10px rgba(255,215,0,0.2);">Partners</a></li>
                </ul>
            </nav>
            <div class="auth-wrapper">
                <a id="authBtn" class="cta-btn nav-link" onclick="openAuthModal()">Acceso Clientes</a>
                <a id="accountBtn" class="cta-btn nav-link" style="display: none;" onclick="openDashboardModal()">Mi Panel QAXI</a>
            </div>
        </div>
    </header>

    <section class="hero" id="hero">
        <div id="userGreeting" style="margin-bottom: 20px; color: #aaa; font-size: 0.9rem; display: none;"></div>
        <div class="q-watermark">Q.</div>
        <h1>Desarrollo y mantenimiento<br>web por suscripción.</h1>
        <p>Diseño minimalista. Automatización con IA.<br>Precio accesible. Modelo escalable.</p>
        
        <div class="hero-btns">
            <a href="chat.html" target="_blank" class="cta-btn" style="font-size: 1.1rem; padding: 15px 30px;">QAXI Chat (BETA)</a>
            <a href="#pricing" class="cta-btn" style="font-size: 1.1rem; padding: 15px 30px; background: transparent; border: 1px solid #fff; color: #fff;">Ver Planes</a>
        </div>
        <div style="margin-top: 20px;">
            <a onclick="openTutorialModal()" class="tutorial-link">¿Cómo me conecto?</a>
        </div>
    </section>

    <section id="about">
        <h2 class="section-title">Quiénes Somos</h2>
        <div class="about-grid">
            <div class="about-text">
                <h3>QAXI es una empresa de desarrollo y mantenimiento de páginas web por suscripción.</h3>
                <p style="color: #a1a1a1; margin-bottom: 20px;">
                    Creada para ofrecer presencia digital accesible, simple y automatizada a emprendedores y pequeños negocios en Colombia.
                </p>
                <ul class="about-list">
                    <li><i class="fas fa-check"></i> Páginas web funcionales y minimalistas</li>
                    <li><i class="fas fa-shield-alt"></i> Activas, seguras y actualizadas</li>
                    <li><i class="fas fa-robot"></i> IA para optimizar contenido y procesos</li>
                    <li><i class="fas fa-sync"></i> Modelo mensual todo incluido</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="pricing">
        <h2 class="section-title" style="text-align: center; border: none;">Planes y Precios</h2>
        <div class="pricing-container">
            <div class="pricing-card" data-tilt data-tilt-max="10" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.3">
                <h3 style="transform: translateZ(20px);">Plan Estándar</h3>
                <div class="price">60.000 COP<span>/Mes</span></div>
                <p style="transform: translateZ(10px);">Presencia digital profesional con TODO incluido.</p>
                <ul class="features-list">
                    <li><i class="fas fa-check-circle"></i> 1 página web</li>
                    <li><i class="fas fa-check-circle"></i> Dominio incluido</li>
                    <li><i class="fas fa-check-circle"></i> Hosting privado</li>
                    <li><i class="fas fa-check-circle"></i> Certificado SSL (Seguridad)</li>
                    <li class="highlight-feature"><i class="fas fa-check-circle"></i> Integración de IA</li>
                    <li class="highlight-feature"><i class="fas fa-check-circle"></i> Google Firebase</li>
                    <li class="highlight-feature"><i class="fas fa-check-circle"></i> Mantenimiento PRO</li>
                    <li><i class="fas fa-check-circle"></i> Soporte Vía Email o QAXI Chat</li>
                </ul>
                <button onclick="openNequiModal('Plan Estándar')" class="cta-btn" style="width: 100%; margin-top: auto; transform: translateZ(30px);">Suscribirme</button>
            </div>
        </div>
    </section>

    <section id="microapps" style="padding-top: 0;">
        <h2 class="section-title" style="border: none; margin-bottom: 20px;">Micro-Apps & Complementos</h2>
        <p style="color: #888; margin-bottom: 30px;">Herramientas modulares para potenciar tu web. Elige lo que necesites.</p>
        
        <div class="microapps-grid">
            <div class="microapp-card">
                <div class="ma-icon"><i class="far fa-calendar-alt"></i></div>
                <div class="ma-title">Sistema de Reservas</div>
                <div class="ma-desc">Tu tiempo es oro. Automatiza tus citas 24/7 sin mover un dedo.</div>
                <div class="ma-price">$30.000 COP</div>
                <a onclick="openNequiModal('Micro-App Reservas - $30k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-qrcode"></i></div>
                <div class="ma-title">Menú Digital QR</div>
                <div class="ma-desc">Sin papel, sin contacto. Tus clientes escanean y piden al instante.</div>
                <div class="ma-price">$20.000 COP</div>
                <a onclick="openNequiModal('Micro-App Menú QR - $20k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="far fa-id-card"></i></div>
                <div class="ma-title">Tarjeta de Presentación</div>
                <div class="ma-desc">Impacta desde el primer clic. Tu identidad profesional en un enlace.</div>
                <div class="ma-price">$15.000 COP</div>
                <a onclick="openNequiModal('Micro-App Tarjeta - $15k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-file-pdf"></i></div>
                <div class="ma-title">Catálogo PDF</div>
                <div class="ma-desc">Tus productos organizados y listos para descargar. Vende con elegancia.</div>
                <div class="ma-price">$20.000 COP</div>
                <a onclick="openNequiModal('Micro-App Catálogo - $20k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fab fa-whatsapp"></i></div>
                <div class="ma-title">Botón WhatsApp</div>
                <div class="ma-desc">Conexión directa. Un clic y tus clientes ya están hablando contigo.</div>
                <div class="ma-price">$10.000 COP</div>
                <a onclick="openNequiModal('Micro-App Botón WA - $10k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-robot"></i></div>
                <div class="ma-title">IA API Key Básica</div>
                <div class="ma-desc">Inteligencia real en tu web. Respuestas automáticas y textos generados.</div>
                <div class="ma-price">$50.000 COP</div>
                <a onclick="openNequiModal('Micro-App IA API - $50k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-calculator"></i></div>
                <div class="ma-title">Calculadora Básica</div>
                <div class="ma-desc">Facilita la decisión. Permite que tus clientes calculen costos al vuelo.</div>
                <div class="ma-price">$30.000 COP</div>
                <a onclick="openNequiModal('Micro-App Calculadora - $30k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-briefcase"></i></div>
                <div class="ma-title">Portafolio Profesional</div>
                <div class="ma-desc">Exhibe tus proyectos con estilo. Galería interactiva para convencer.</div>
                <div class="ma-price">$35.000 COP</div>
                <a onclick="openNequiModal('Micro-App Portafolio - $35k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-pen-nib"></i></div>
                <div class="ma-title">Diseño de Logo</div>
                <div class="ma-desc">Creamos la cara de tu marca. Diseño vectorial, moderno y escalable para cualquier formato.</div>
                <div class="ma-price">$80.000 COP</div>
                <a onclick="openNequiModal('Micro-App Logo - $80k')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </section>

    <section id="traffic" class="traffic-section" style="padding-top: 20px;">
        <h2 class="section-title">QAXI Traffic <span style="font-size: 0.5em; vertical-align: middle; background: #fff; color: #000; padding: 2px 8px; border-radius: 4px; letter-spacing: 0;">ADQUISICIÓN</span></h2>
        <div class="premium-card" data-tilt>
            <div class="premium-info">
                <h3 style="font-size: 2rem; margin-bottom: 15px; line-height: 1.1;">Tu web es el motor,<br>el tráfico es la gasolina.</h3>
                <p style="color: #ccc; margin-bottom: 20px; font-size: 1rem;">
                    Tener una web increíble no sirve de nada si nadie la ve. En QAXI Traffic gestionamos tus campañas publicitarias para llevar clientes reales a tu negocio.
                </p>
                <ul class="premium-list">
                    <li><i class="fas fa-bullhorn"></i> Gestión de campañas en Meta Ads (Facebook & Instagram).</li>
                    <li><i class="fas fa-users-cog"></i> Segmentación precisa de tu público objetivo.</li>
                    <li><i class="fas fa-chart-line"></i> Reportes mensuales de rendimiento y ventas.</li>
                    <li><i class="fas fa-robot"></i> Optimización continua con IA.</li>
                </ul>
            </div>
            <div class="premium-pricing">
                <div style="font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; color: #888; margin-bottom: 10px;">COSTO DE GESTIÓN</div>
                <div style="font-size: 3rem; font-weight: 800; line-height: 1;">100K <span style="font-size: 1rem;">COP</span></div>
                <div style="font-size: 0.8rem; color: #666; margin-top: 5px;">/ Mensual</div>
                <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
                <div style="font-size: 0.85rem; color: #fff; margin-bottom: 20px;">
                    <i class="fas fa-wallet" style="margin-right: 5px;"></i> 
                    Tú defines el presupuesto (Lo que pagas a Meta).
                </div>
                <button onclick="openNequiModal('QAXI Traffic - $100k')" class="cta-btn" style="width: 100%;">CONTRATAR GESTIÓN</button>
            </div>
        </div>
    </section>

    <section id="social" class="social-section" style="padding-top: 0;">
        <h2 class="section-title">QAXI Social <span style="font-size: 0.5em; vertical-align: middle; background: #fff; color: #000; padding: 2px 8px; border-radius: 4px; letter-spacing: 0;">REDES</span></h2>
        <div class="premium-card" data-tilt style="flex-direction: row-reverse;">
            <div class="premium-info">
                <h3 style="font-size: 2rem; margin-bottom: 15px; line-height: 1.1;">Diseño que enamora,<br>redes que venden.</h3>
                <p style="color: #ccc; margin-bottom: 20px; font-size: 1rem;">
                    Deja de sufrir con Canva. Nosotros diseñamos tus posts y stories con estilo profesional para que tú solo tengas que publicar y vender.
                </p>
                <ul class="premium-list">
                    <li><i class="fas fa-palette"></i> Paquete mensual de piezas gráficas (Posts/Stories).</li>
                    <li><i class="fas fa-layer-group"></i> Línea gráfica coherente con tu página web.</li>
                    <li><i class="fas fa-file-archive"></i> Entrega de archivos listos en alta calidad.</li>
                    <li><i class="fas fa-check-circle"></i> Correcciones ilimitadas hasta tu aprobación.</li>
                </ul>
            </div>
            <div class="premium-pricing">
                <div style="font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; color: #888; margin-bottom: 10px;">PAQUETE MENSUAL</div>
                <div style="font-size: 3rem; font-weight: 800; line-height: 1;">150K <span style="font-size: 1rem;">COP</span></div>
                <div style="font-size: 0.8rem; color: #666; margin-top: 5px;">/ Mensual</div>
                <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
                <div style="font-size: 0.85rem; color: #fff; margin-bottom: 20px;">
                    <i class="fas fa-camera" style="margin-right: 5px;"></i> 
                    Incluye 30 Posts o Stories.
                </div>
                <button onclick="openNequiModal('QAXI Social - $150k')" class="cta-btn" style="width: 100%;">CONTRATAR DISEÑO</button>
            </div>
        </div>
    </section>

    <section id="founder" class="founder-section">
        <div class="founder-content">
            <h2 class="section-title">Nuestro Enfoque</h2>
            <p>
                QAXI es un estudio digital especializado en el desarrollo, mantenimiento y optimización de páginas web modernas, seguras y de alto rendimiento. Diseñamos experiencias digitales minimalistas, limpias y funcionales, donde cada elemento tiene un propósito claro.
            </p>
            <br>
            <p>
                Integramos inteligencia artificial en nuestros procesos para optimizar el diseño, mejorar el rendimiento y garantizar soluciones web más eficientes, escalables y preparadas para el futuro. Nuestro enfoque se basa en la simplicidad, la precisión y la evolución constante.
            </p>
            <p style="font-weight: 800; font-size: 1.2rem; margin-top: 30px;">Q.</p>
            <div class="founder-sign">
                <div style="font-style: italic; margin-bottom: 5px;">— Santiago Andrés</div>
                <div style="font-size: 0.9rem; color: #888;">CEO & Founder</div>
                <div style="font-size: 0.8rem; color: #555; margin-top: 15px;">© 2025 · QAXI</div>
            </div>
        </div>
    </section>

    <div id="tutorialModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTutorialModal()">&times;</span>
            <h3 style="margin-bottom: 25px; font-weight: 800; letter-spacing: -0.5px;">Conéctate con Nosotros</h3>
            <div class="tutorial-steps">
                <div class="step-item">
                    <div class="step-icon"><i class="fas fa-comment-dots"></i></div>
                    <div class="step-text">Entra a QAXI Chat</div>
                </div>
                <div class="step-item">
                    <div class="step-icon"><i class="fas fa-sign-in-alt"></i></div>
                    <div class="step-text">Inicia Sesión</div>
                </div>
                <div class="step-item">
                    <div class="step-icon"><i class="fas fa-paper-plane"></i></div>
                    <div class="step-text">Escríbenos</div>
                </div>
            </div>
            
            <div style="margin-top: 25px;">
                <a href="chat.html" target="_blank" class="cta-btn" style="width: 100%;">IR A QAXI CHAT (BETA)</a>
            </div>
        </div>
    </div>

    <div id="nequiModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeNequiModal()">&times;</span>
            <h3 style="margin-bottom: 5px; font-weight: 600;">1. Escanea para pagar</h3>
            
            <div id="planNameDisplay" style="color: #666; font-size: 0.9rem; margin-bottom: 10px; background: rgba(255,255,255,0.05); padding: 8px; border-radius: 8px;">
            </div>

            <img src="qr-nequi.png" alt="QR Nequi" class="qr-img">
            
            <div style="margin: 15px 0; text-align: left; background: rgba(255,215,0,0.05); border: 1px dashed #FFD700; padding: 10px; border-radius: 8px;">
                <label style="color: #FFD700; font-size: 0.75rem; font-weight: 700; display: block; margin-bottom: 5px;">
                    <i class="fas fa-gift"></i> ¿TIENES CÓDIGO PARTNER?
                </label>
                <input type="text" id="paymentRefCode" placeholder="QAXI-..." 
                       onkeyup="updatePaymentLinks()"
                       style="width: 100%; padding: 8px; background: #000; border: 1px solid #333; color: #fff; border-radius: 4px; text-transform: uppercase;">
            </div>

            <div class="instructions" style="text-align: center; margin-top: 15px;">
                
                <div class="nequi-guide-container">
                    <div style="font-size: 0.85rem; font-weight: 700; color: #fff; margin-bottom: 8px;">
                        <i class="fas fa-pen" style="margin-right: 5px;"></i> ESCRIBE ESTO EN LA NOTA:
                    </div>
                    <div style="font-size: 0.8rem; color: #aaa; margin-bottom: 10px;">
                        Al enviar el dinero, usa el campo de texto de Nequi para poner:
                    </div>
                    <div style="background: rgba(0,0,0,0.3); padding: 8px; border-radius: 5px; color: #4caf50; font-weight: 700; text-align: center; font-size: 0.85rem; border: 1px dashed #4caf50;">
                        TU CORREO + TU NOMBRE
                    </div>
                    
                    <img src="nequi-ejemplo.png" alt="Ejemplo Mensaje Nequi" class="nequi-guide-img">
                </div>
                
                <div class="tutorial-steps" style="margin-bottom: 15px;">
                    <div class="step-item">
                        <div class="step-icon"><i class="fas fa-qrcode"></i></div>
                        <div class="step-text">1. Escanea</div>
                    </div>
                    <div class="step-item">
                        <div class="step-icon"><i class="fas fa-pen-fancy"></i></div>
                        <div class="step-text">2. Escribe Nota</div>
                    </div>
                    <div class="step-item">
                        <div class="step-icon"><i class="fas fa-paper-plane"></i></div>
                        <div class="step-text">3. Envía Comprobante</div>
                    </div>
                </div>

                <p style="font-size: 0.75rem; color: #666; margin-top: 10px;">
                    2. Envíanos el comprobante aquí para activar:
                </p>
            </div>
            
            <div class="payment-btns">
                <a id="emailLink" href="#" class="payment-btn"><i class="far fa-envelope"></i> Enviar por Correo</a>
                <a id="chatLink" href="#" class="payment-btn" style="background: #fff; color: #000; border-color: #fff;"><i class="fas fa-comment-dots"></i> Enviar en QAXI Chat (BETA)</a>
            </div>
        </div>
    </div>

    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAuthModal()">&times;</span>
            <h3 id="authTitle" style="margin-bottom: 20px;">Acceso Clientes</h3>
            <form id="authForm">
                <input type="email" id="email" class="auth-input" placeholder="Correo electrónico" required>
                <input type="password" id="password" class="auth-input" placeholder="Contraseña (mín 6 caracteres)" required>
                <button type="submit" class="cta-btn" style="width: 100%; border:none;">Ingresar</button>
            </form>
            <p class="auth-toggle" id="toggleAuthMode">¿No tienes cuenta? Crea una aquí</p>
            <p id="authError" style="color: #ff4444; font-size: 0.8rem; margin-top: 10px; display: none;"></p>
        </div>
    </div>

    <div id="dashboardModal" class="modal">
        <div class="modal-content" style="max-width: 500px; text-align: left;">
            <span class="close" onclick="closeDashboardModal()">&times;</span>
            <h2 style="margin-bottom: 25px; font-weight: 800; letter-spacing: -1px;">Panel de Cliente</h2>
            <div class="dashboard-info">
                <div class="dashboard-label">Usuario Activo</div>
                <div class="dashboard-value" id="dashEmail">cargando...</div>
                
                <div class="dashboard-label">Servicio Contratado</div>
                <div class="dashboard-value"><span id="dashStatus" class="plan-tag">CARGANDO...</span></div>
                
                <div id="web-section" style="display: none;">
                    <div class="web-access-box">
                        <div style="font-size: 0.7rem; font-weight: 800; letter-spacing: 1px;">TU PÁGINA WEB ESTÁ LISTA</div>
                        <a href="#" id="webLinkBtn" target="_blank" class="web-btn">VISITAR MI SITIO WEB <i class="fas fa-external-link-alt"></i></a>
                    </div>
                </div>

                <div id="no-web-msg" style="margin-top: 15px; font-size: 0.75rem; color: #555;">
                    <i class="fas fa-info-circle"></i> Tu página web está en proceso de diseño. Te avisaremos por QAXI Chat cuando el enlace esté activo.
                </div>
            </div>
            
            <button onclick="window.open('chat.html', '_blank')" class="cta-btn" style="width: 100%; margin-bottom: 10px;">HABLAR EN QAXI CHAT</button>
            <button id="btnLogout" style="width: 100%; padding: 12px; background: transparent; border: 1px solid #222; color: #555; border-radius: 4px; cursor: pointer; font-size: 0.75rem;">Cerrar Sesión</button>
        </div>
    </div>

    <section id="legal">
        <div class="legal-summary" onclick="toggleLegal()">
            <h3>Términos y Condiciones — QAXI</h3>
            <i class="fas fa-chevron-down" id="legal-icon"></i>
        </div>
        <div class="legal-content" id="legal-text">
            <p style="margin-bottom: 20px;"><strong>Bienvenido a QAXI.</strong> Nos complace ser tu aliado en el mundo digital. A continuación, detallamos de manera clara y transparente las condiciones que rigen nuestro servicio de suscripción, diseñado para ofrecerte tranquilidad y profesionalismo.</p>

            <h4>1. Naturaleza del Servicio</h4>
            <p>QAXI provee un servicio integral de presencia digital bajo la modalidad de suscripción mensual ("Software as a Service"). Esto incluye el diseño, desarrollo, alojamiento, seguridad y mantenimiento de páginas web. Nuestro objetivo es que tú te enfoques en tu negocio mientras nosotros cuidamos de tu infraestructura digital.</p>

            <h4>2. Planes y Suscripción</h4>
            <p>El servicio opera mediante un pago mensual recurrente y por adelantado. Utilizamos Nequi como pasarela principal para facilitar las transacciones en Colombia. La suscripción garantiza que tu sitio web permanezca en línea, seguro y optimizado. Entendemos que pueden surgir imprevistos, por lo que siempre buscaremos una comunicación fluida antes de realizar cualquier suspensión del servicio por falta de pago.</p>

            <h4>3. Propiedad Intelectual y Licenciamiento</h4>
            <p>Durante la vigencia de la suscripción, QAXI otorga al cliente una licencia de uso exclusivo sobre el sitio web desarrollado. La estructura del código y el diseño base son propiedad intelectual de QAXI, lo que nos permite mantener los costos accesibles. El contenido específico (textos, logos e imágenes de tu marca) siempre será de tu propiedad exclusiva.</p>

            <h4>4. Mantenimiento y Actualizaciones (Diferencia de Planes)</h4>
            <p>En QAXI entendemos que las marcas evolucionan, por eso ofrecemos distintos niveles de acompañamiento:</p>
            <ul>
                <li><strong>Plan Estándar:</strong> Incluye mantenimiento técnico preventivo para asegurar que la web funcione correctamente, actualizaciones de seguridad y ajustes menores de contenido (textos o imágenes puntuales). Este plan no incluye cambios estructurales mayores ni rediseños visuales.</li>
                <li><strong>Plan Pro (Mantenimiento PRO):</strong> Diseñado para marcas en crecimiento. Además del soporte técnico, este plan incluye nuestro servicio de <strong>Mantenimiento PRO</strong>, el cual otorga al cliente la libertad de solicitar un <strong>rediseño total</strong> de la página web si así lo desea, adaptando la estética y estructura a las nuevas necesidades de su negocio sin costos adicionales de desarrollo.</li>
            </ul>

            <h4>5. Uso de Inteligencia Artificial</h4>
            <p>Para ofrecerte un servicio ágil y de vanguardia, QAXI integra herramientas de Inteligencia Artificial en procesos de optimización de código y generación de estructuras. Esto nos permite mantener estándares de calidad altos y tiempos de respuesta eficientes.</p>

            <h4>6. Responsabilidad y Seguridad</h4>
            <p>Nos tomamos muy en serio la seguridad de tu sitio. Realizamos copias de seguridad y monitoreo constante. Sin embargo, QAXI no se hace responsable por inconvenientes derivados de la manipulación del código por parte de terceros ajenos a nuestro servicio o por la entrega de credenciales a personas no autorizadas.</p>

            <h4>7. Libertad de Cancelación</h4>
            <p>Creemos en las relaciones basadas en la satisfacción, no en la obligación. Puedes cancelar tu suscripción en cualquier momento sin penalizaciones. Dado que el servicio es prepago, el sitio permanecerá activo hasta finalizar el mes cubierto por tu último pago.</p>

            <h4>8. Canales de Soporte</h4>
            <p>Estamos aquí para ayudarte. Nuestro soporte se realiza de manera humana y cercana a través de QAXI Chat o vía correo electrónico, dentro de horarios laborales hábiles, garantizando una atención personalizada.</p>

            <h4>9. Infraestructura (Hosting y Dominio)</h4>
            <p>Para tu tranquilidad, los costos de alojamiento (hosting) de alta velocidad y la renovación anual del dominio están 100% cubiertos por QAXI mientras mantengas tu suscripción activa.</p>

            <h4>10. Privacidad y Datos</h4>
            <p>Respetamos profundamente tu privacidad. Tus datos y los de tu negocio son tratados bajo estrictas normas de confidencialidad y nunca serán compartidos con terceros con fines comerciales ajenos al servicio.</p>

            <p style="margin-top: 30px; font-size: 0.85rem;"><em>Al contratar los servicios de QAXI, confirmas que has leído y aceptas estos términos, diseñados para construir una relación comercial justa, clara y duradera.</em></p>
        </div>
    </section>

    <footer>
        <div class="footer-contact-icons">
            <a href="mailto:santiagomarenco1005@gmail.com" title="Enviar Correo"><i class="fas fa-envelope"></i></a>
            <a href="https://discord.gg/tc3jCznZFg" target="_blank" title="Comunidad Discord"><i class="fab fa-discord"></i></a>
            <a href="chat.html" target="_blank" title="QAXI Chat"><i class="fas fa-comment-dots"></i></a>
        </div>
        <p>© 2025 · QAXI. Todos los derechos reservados.</p>
        <p>Q.</p>
    </footer>

    <a id="qaxi-chat-floating" href="chat.html" target="_blank" title="Soporte en QAXI Chat">
        <img src="icon2.png" alt="QAXI Chat">
    </a>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDbZAPtQioiXZzkiiIRrkrBkEPF440NMaE",
            authDomain: "qaxi-93d6d.firebaseapp.com",
            projectId: "qaxi-93d6d",
            storageBucket: "qaxi-93d6d.firebasestorage.app",
            messagingSenderId: "137240859996",
            appId: "1:137240859996:web:73e14d28c77233be965d99",
            measurementId: "G-C74Z1DWV54"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Referencias a modales y botones
        const authModal = document.getElementById('authModal');
        const dashboardModal = document.getElementById('dashboardModal');
        const nequiModal = document.getElementById('nequiModal');
        const tutorialModal = document.getElementById('tutorialModal');
        const authForm = document.getElementById('authForm');
        const emailInput = document.getElementById('email');
        const passInput = document.getElementById('password');
        const toggleBtn = document.getElementById('toggleAuthMode');
        const authTitle = document.getElementById('authTitle');
        const authError = document.getElementById('authError');
        const authBtn = document.getElementById('authBtn');
        const accountBtn = document.getElementById('accountBtn');
        const userGreeting = document.getElementById('userGreeting');

        // Referencias al menú móvil
        const menuToggle = document.getElementById('mobile-menu-toggle');
        const navContainer = document.getElementById('nav-container');
        const navLinks = document.querySelectorAll('.nav-link');

        let isLoginMode = true;
        let currentUser = null;
        let currentPlanSelected = ""; 

        // --- FUNCIONES GLOBALES ---
        window.openAuthModal = () => { authModal.style.display = "flex"; closeMobileMenu(); };
        window.closeAuthModal = () => { authModal.style.display = "none"; authError.style.display = 'none'; };
        
        window.openNequiModal = (plan) => {
            nequiModal.style.display = "flex";
            currentPlanSelected = plan; 
            document.getElementById('paymentRefCode').value = "";
            document.getElementById('planNameDisplay').innerHTML = `
                <div style="font-size:0.8rem; color:#aaa;">Estás pagando por:</div>
                <div style="font-weight:700; color:#fff; font-size:1.1rem;">${plan}</div>
            `;
            updatePaymentLinks();
        };

        window.updatePaymentLinks = () => {
            const refCode = document.getElementById('paymentRefCode').value.trim().toUpperCase();
            const plan = currentPlanSelected;
            let msgMailto = `Hola, envío comprobante de pago para el plan: ${plan}.%0A%0A`;
            if(refCode.length > 0) {
                msgMailto += `🎟️ CÓDIGO DE REFERIDO: ${refCode}%0A`;
                msgMailto += `(Por favor validar este referido para mi beneficio)%0A%0A`;
            }
            msgMailto += `(Adjunto el pantallazo de Nequi con mi mensaje personal).`;
            document.getElementById('emailLink').href = `mailto:santiagomarenco1005@gmail.com?subject=Pago Nuevo - ${plan}&body=${msgMailto}`;
            document.getElementById('chatLink').onclick = (e) => {
                 e.preventDefault();
                 const textToCopy = `Hola, pago el plan ${plan}. Código Referido: ${refCode || 'N/A'}`;
                 navigator.clipboard.writeText(textToCopy).then(() => { window.open('chat.html', '_blank'); });
            };
        };

        window.closeNequiModal = () => nequiModal.style.display = "none";
        
        window.openTutorialModal = () => {
            closeNequiModal(); closeDashboardModal(); tutorialModal.style.display = "flex";
        };
        window.closeTutorialModal = () => tutorialModal.style.display = "none";
        
        window.closeDashboardModal = () => dashboardModal.style.display = "none";
        window.toggleLegal = () => {
            const txt = document.getElementById('legal-text');
            const ico = document.getElementById('legal-icon');
            if (txt.style.display === "block") { txt.style.display = "none"; ico.className = "fas fa-chevron-down"; }
            else { txt.style.display = "block"; ico.className = "fas fa-chevron-up"; }
        };

        // --- FUNCIÓN MENÚ MÓVIL ---
        function toggleMobileMenu() {
            navContainer.classList.toggle('active');
            const icon = menuToggle.querySelector('i');
            icon.classList.toggle('fa-bars');
            icon.classList.toggle('fa-times');
        }
        function closeMobileMenu() {
            navContainer.classList.remove('active');
            const icon = menuToggle.querySelector('i');
            icon.classList.add('fa-bars');
            icon.classList.remove('fa-times');
        }
        menuToggle.addEventListener('click', toggleMobileMenu);
        navLinks.forEach(link => link.addEventListener('click', closeMobileMenu));

        // --- LÓGICA DE FIREBASE ---
        onAuthStateChanged(auth, (user) => {
            currentUser = user;
            if (user) {
                authBtn.style.display = 'none';
                accountBtn.style.display = 'inline-block';
                userGreeting.style.display = 'block';
                userGreeting.innerText = `Hola, ${user.email}`;
                window.closeAuthModal();
            } else {
                authBtn.style.display = 'inline-block';
                accountBtn.style.display = 'none';
                userGreeting.style.display = 'none';
            }
        });

        toggleBtn.addEventListener('click', () => {
            isLoginMode = !isLoginMode;
            authTitle.innerText = isLoginMode ? "Acceso Clientes" : "Crear Cuenta QAXI";
            authForm.querySelector('button').innerText = isLoginMode ? "Ingresar" : "Registrarse";
            toggleBtn.innerText = isLoginMode ? "¿No tienes cuenta? Crea una aquí" : "¿Ya tienes cuenta? Ingresa aquí";
            authError.style.display = 'none';
        });

        authForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = emailInput.value;
            const password = passInput.value;
            authError.style.display = 'none';
            try {
                if (isLoginMode) {
                    await signInWithEmailAndPassword(auth, email, password);
                } else {
                    await createUserWithEmailAndPassword(auth, email, password);
                    await setDoc(doc(db, "chats", email.toLowerCase().trim()), { status: "NUEVO CLIENTE", color: "#ffffff", registrado: new Date() });
                }
            } catch (error) { authError.style.display = 'block'; authError.innerText = "Error: " + error.message; }
        });

        document.getElementById('btnLogout').addEventListener('click', () => signOut(auth).then(() => location.reload()));

        window.openDashboardModal = async function() {
            dashboardModal.style.display = 'flex';
            closeMobileMenu(); // Cerrar menú si está abierto
            if (currentUser) {
                document.getElementById('dashEmail').innerText = currentUser.email;
                const docRef = doc(db, "chats", currentUser.email.toLowerCase().trim());
                try {
                    const docSnap = await getDoc(docRef);
                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        const statusEl = document.getElementById('dashStatus');
                        statusEl.innerText = data.status || "ACTIVO";
                        statusEl.style.background = data.color || "#fff";
                        statusEl.style.color = (data.color === "#ffffff") ? "#000" : "#fff";
                        if(data.webLink) {
                            document.getElementById('web-section').style.display = 'block';
                            document.getElementById('no-web-msg').style.display = 'none';
                            document.getElementById('webLinkBtn').href = data.webLink;
                        } else {
                            document.getElementById('web-section').style.display = 'none';
                            document.getElementById('no-web-msg').style.display = 'block';
                        }
                    } else { document.getElementById('dashStatus').innerText = "PENDIENTE"; }
                } catch(err) { console.log("Error leyendo Firestore:", err); }
            }
        };

        // --- PARTÍCULAS ---
        const canvas = document.getElementById("particles-canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particlesArray = [];
        class Particle {
            constructor() { this.x=Math.random()*canvas.width; this.y=Math.random()*canvas.height; this.dX=(Math.random()*0.4)-0.2; this.dY=(Math.random()*0.4)-0.2; }
            update() { if(this.x>canvas.width||this.x<0) this.dX=-this.dX; if(this.y>canvas.height||this.y<0) this.dY=-this.dY; this.x+=this.dX; this.y+=this.dY; ctx.beginPath(); ctx.arc(this.x, this.y, 1.5, 0, Math.PI*2); ctx.fillStyle='rgba(255,255,255,0.3)'; ctx.fill(); }
        }
        function init(){ particlesArray=[]; for(let i=0;i<100;i++){ particlesArray.push(new Particle()); } }
        function animate(){ requestAnimationFrame(animate); ctx.clearRect(0,0,canvas.width,canvas.height); particlesArray.forEach(p => p.update()); }
        init(); animate();
        
        window.onclick = function(event) {
            if (event.target == authModal) window.closeAuthModal();
            if (event.target == dashboardModal) window.closeDashboardModal();
            if (event.target == nequiModal) window.closeNequiModal();
            if (event.target == tutorialModal) window.closeTutorialModal();
        }
    </script>
</body>
</html>
