<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>QAXI</title>
    <meta name="description" content="QAXI ofrece diseño y mantenimiento de páginas web profesionales por una suscripción mensual accesible en Colombia. Incluye dominio, hosting, IA y soporte.">
    <meta name="keywords" content="paginas web colombia, diseño web suscripcion, mantenimiento web, qaxi, crear pagina web, hosting incluido, web barata, firebase, seo">
    <meta name="author" content="QAXI - Santiago Marenco">
    
    <meta property="og:title" content="QAXI">
    <meta property="og:description" content="Olvídate de pagar millones. Ten tu sitio web profesional con todo incluido desde $60.000 COP/mes.">
    <meta property="og:image" content="icon.png">
    <meta property="og:url" content="https://qaxi.co">
    <meta property="og:type" content="website">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="icon" href="icon.png" type="image/png">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <style>
        :root {
            --bg-color: #050505;
            --surface-color: #121212;
            --text-primary: #ffffff;
            --text-secondary: #a1a1a1;
            --accent: #ffffff;
            --gold: #FFD700; 
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-blur: blur(20px);
            --success: #4caf50;
            --error: #ff4444;
            --card-bg: #0F0F0F;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        #particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.02) 0%, transparent 50%);
            z-index: -2;
            pointer-events: none;
            animation: breathe 10s infinite alternate;
        }

        @keyframes breathe {
            from { opacity: 0.5; transform: scale(1); }
            to { opacity: 0.8; transform: scale(1.1); }
        }

        header {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(5, 5, 5, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: #fff;
            font-weight: 900;
            font-size: 1.2rem;
            gap: 10px;
        }
        
        .logo img {
            height: 45px;
            object-fit: contain;
            display: block;
        }

        .nav-container {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
            margin: 0;
            padding: 0;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.3s;
            cursor: pointer;
        }

        nav a:hover {
            color: var(--accent);
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
        }

        .auth-wrapper {
            display: flex;
            gap: 15px;
        }

        .cta-btn {
            background: var(--accent);
            color: var(--bg-color);
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: inline-block;
            border: none;
            font-size: 0.85rem;
        }

        .cta-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.4);
        }

        .menu-toggle {
            display: none;
            font-size: 1.5rem;
            color: #fff;
            cursor: pointer;
            z-index: 1100;
        }

        .hero {
            padding: 160px 20px 80px;
            text-align: center;
            max-width: 1000px;
            margin: 0 auto;
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 6vw, 5rem);
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 25px;
            background: linear-gradient(to right, #fff, #aaa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: popIn 0.8s ease-out;
        }

        @keyframes popIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .hero p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 40px;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeIn 1.2s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .hero-btns {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeIn 1.5s ease-out;
        }

        section {
            padding: 80px 5%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            margin-bottom: 60px;
            font-size: 2.2rem;
            font-weight: 800;
            color: #fff;
        }
        
        .section-title span {
            color: var(--gold);
        }

        /* --- STYLES FOR TRAFFIC & SOCIAL SECTIONS --- */
        .traffic-section, .social-section {
            border-top: 1px solid rgba(255,255,255,0.05);
        }

        .premium-card {
            background: radial-gradient(circle at top right, rgba(20,20,20,0.8), rgba(0,0,0,0.8));
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 30px;
            padding: 50px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 50px;
            transition: 0.5s;
            position: relative;
            overflow: hidden;
        }
        
        .premium-card:hover {
            border-color: rgba(255,255,255,0.3);
            box-shadow: 0 0 50px rgba(255,255,255,0.05);
        }

        .premium-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/cubes.png');
            opacity: 0.05;
            pointer-events: none;
        }

        .premium-info {
            flex: 1.5;
            text-align: left;
            z-index: 2;
        }

        .premium-list {
            list-style: none;
            margin-top: 20px;
        }
        
        .premium-list li {
            margin-bottom: 12px;
            color: #aaa;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .premium-list li i {
            color: var(--gold);
        }

        .premium-pricing {
            flex: 1;
            background: rgba(255,255,255,0.03);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            z-index: 2;
        }

        /* --- PRICING CARDS (Standard) --- */
        .pricing-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
        }

        .pricing-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 40px;
            width: 100%;
            max-width: 350px;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: 0.4s;
            backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur);
        }

        .pricing-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 60%);
            transform: rotate(45deg);
            pointer-events: none;
            transition: 0.5s;
            opacity: 0;
        }

        .pricing-card:hover::before {
            opacity: 1;
        }

        .pricing-card:hover {
            transform: translateY(-10px);
            border-color: rgba(255,255,255,0.15);
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }

        .pricing-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #fff;
            font-weight: 700;
        }

        .price {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 5px;
            color: #fff;
        }
        
        .price span {
            font-size: 1rem;
            color: #888;
            font-weight: 400;
        }

        .features-list {
            list-style: none;
            margin: 30px 0;
            text-align: left;
        }

        .features-list li {
            margin-bottom: 15px;
            color: #ccc;
            font-size: 0.95rem;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .features-list li i {
            color: var(--gold);
        }
        
        .highlight-feature {
            color: #fff !important;
            font-weight: 600;
        }

        /* --- MICRO APPS --- */
        .microapps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .microapp-card {
            background: rgba(255,255,255,0.02);
            border: 1px solid var(--glass-border);
            padding: 30px 20px;
            border-radius: 16px;
            text-align: center;
            transition: 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .microapp-card:hover {
            background: rgba(255,255,255,0.04);
            border-color: var(--gold);
            transform: translateY(-5px);
        }
        
        .ma-icon {
            font-size: 2rem;
            color: var(--gold);
            margin-bottom: 15px;
        }
        
        .ma-title {
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .ma-desc {
            color: #888;
            font-size: 0.85rem;
            margin-bottom: 15px;
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .ma-price {
            font-weight: 800;
            font-size: 1.1rem;
            color: #fff;
            margin-bottom: 15px;
        }
        
        .ma-btn {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: #fff; 
            padding: 8px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.8rem; 
            transition: 0.3s;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .ma-btn:hover {
            background: var(--gold);
            color: #000;
            border-color: var(--gold);
        }

        /* --- FOUNDER / MANIFIESTO --- */
        .founder-section {
            margin-top: 100px;
            padding: 100px 5%;
            background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(10,10,10,1) 100%);
            text-align: center;
        }
        
        .founder-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        
        .founder-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #ccc;
            margin-bottom: 20px;
        }

        footer {
            border-top: 1px solid #222;
            padding: 60px 5%;
            text-align: center;
            background: #0a0a0a;
        }
        
        .footer-contact-icons {
            margin-bottom: 25px;
            display: flex;
            justify-content: center;
            gap: 30px;
        }
        
        .footer-contact-icons a {
            color: #666;
            font-size: 1.5rem;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,255,255,0.03);
            text-decoration: none;
        }
        
        .footer-contact-icons a:hover {
            color: #fff;
            background: rgba(255,255,255,0.1);
            transform: translateY(-5px);
        }
        
        footer p {
            color: #444;
            font-size: 0.9rem;
        }

        .q-watermark {
            position: absolute;
            font-size: 20vw;
            font-weight: 900;
            color: rgba(255,255,255,0.02);
            z-index: -1;
            pointer-events: none;
        }

        /* MODALES */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 3000; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.9); 
            backdrop-filter: blur(10px);
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        .modal-content {
            background: #0a0a0a;
            margin: auto;
            padding: 40px;
            border: 1px solid rgba(255,255,255,0.1);
            width: 90%;
            max-width: 450px;
            border-radius: 20px;
            position: relative;
            text-align: center;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            top: 15px;
            right: 20px;
            transition: 0.3s;
        }

        .close:hover {
            color: #fff;
        }

        .auth-input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            display: inline-block;
            border: 1px solid #333;
            background: #111;
            color: #fff;
            border-radius: 8px;
            outline: none;
            transition: 0.3s;
        }
        
        .auth-input:focus {
            border-color: var(--gold);
        }

        /* RESPONSIVE */
        @media (max-width: 900px) {
            header { padding: 15px 20px; }
            .logo img { height: 45px; }
            .menu-toggle { display: block; }
            
            .nav-container {
                position: fixed;
                top: 0;
                right: -100%;
                width: 80%;
                height: 100vh;
                background: rgba(10, 10, 10, 0.98);
                backdrop-filter: blur(20px);
                flex-direction: column;
                justify-content: center;
                align-items: center;
                transition: right 0.4s cubic-bezier(0.77, 0, 0.175, 1);
                padding: 40px;
                box-shadow: -10px 0 30px rgba(0,0,0,0.5);
                z-index: 1050;
            }
            
            .nav-container.active {
                right: 0;
            }
            
            nav ul {
                flex-direction: column;
                gap: 30px;
                margin-bottom: 40px;
                width: 100%;
                text-align: center;
            }
            
            nav a {
                font-size: 1.3rem;
                display: block;
            }
            
            .premium-card {
                flex-direction: column !important;
                padding: 30px;
            }
            
            .hero h1 { font-size: 2.5rem; } 
            .hero p { font-size: 1rem; padding: 0 10px; }
            .hero-btns { flex-direction: column; width: 100%; gap: 15px; }
            .cta-btn { width: 100%; text-align: center; }
            
            .wa-float { bottom: 20px; right: 20px; width: 55px; height: 55px; font-size: 28px; }
        }

        .wa-float { position: fixed; bottom: 30px; right: 30px; background: #25D366; color: #fff; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 32px; box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4); z-index: 2000; transition: 0.3s; text-decoration: none; }
        .wa-float:hover { transform: scale(1.1); box-shadow: 0 0 20px #25D366; }
    </style>
</head>
<body>

    <canvas id="particles-canvas"></canvas>

    <header>
        <a href="#" class="logo">
            <img src="icon.png" alt="QAXI">
            <span>QAXI</span>
        </a>

        <div class="menu-toggle" id="mobile-menu-toggle"><i class="fas fa-bars"></i></div>

        <div class="nav-container" id="nav-container">
            <nav>
                <ul>
                    <li><a href="#pricing" class="nav-link">Precios</a></li>
                    <li><a href="#microapps" class="nav-link">Micro-Apps</a></li>
                    <li><a href="#traffic" class="nav-link" style="color: #fff; font-weight: 700;">Traffic</a></li>
                    <li><a href="#social" class="nav-link" style="color: #fff; font-weight: 700;">Social</a></li>
                    <li><a href="#founder" class="nav-link">Manifiesto</a></li>
                    <li>
                        <a href="qaxi_analytics.html" class="nav-link" target="_blank" style="display:flex; align-items:center; gap:5px; color:var(--gold);">
                            <i class="fas fa-chart-pie"></i> Analytics
                        </a>
                    </li>
                    <li><a href="giftcards.html" class="nav-link" style="color: var(--gold);"><i class="fas fa-gift"></i> Regalos</a></li>
                    <li><a href="partners.html" class="nav-link" style="color: var(--gold); font-weight: 700; text-shadow: 0 0 10px rgba(255,215,0,0.2);">Partners</a></li>
                </ul>
            </nav>
            <div class="auth-wrapper">
                <a id="authBtn" class="cta-btn nav-link" onclick="openAuthModal()">Acceso Clientes</a>
                <a id="accountBtn" class="cta-btn nav-link" style="display: none;" onclick="openDashboardModal()">Mi Panel QAXI</a>
            </div>
        </div>
    </header>

    <section class="hero" id="hero">
        <div id="userGreeting" style="margin-bottom: 20px; color: #aaa; font-size: 0.9rem; display: none;"></div>
        <div class="q-watermark">Q.</div>
        <h1>Desarrollo y mantenimiento<br>web por suscripción.</h1>
        <p>Diseño minimalista. Automatización con IA.<br>Precio accesible. Modelo escalable.</p>
        <div class="hero-btns">
            <a href="https://wa.me/573213526875" target="_blank" class="cta-btn" style="font-size: 1.1rem; padding: 15px 30px; background-color: #25D366; border-color: #25D366; color: white;"><i class="fab fa-whatsapp"></i> WhatsApp</a>
            <a href="#pricing" class="cta-btn" style="font-size: 1.1rem; padding: 15px 30px; background: transparent; border: 1px solid #fff; color: #fff;">Ver Planes</a>
        </div>
    </section>

    <section id="pricing">
        <h2 class="section-title" style="text-align: center; border: none;">Planes y Precios</h2>
        <div class="pricing-container">
            <div class="pricing-card" data-tilt data-tilt-max="10" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.3">
                <h3 style="transform: translateZ(20px);">Plan Estándar</h3>
                <div class="price">60.000 COP<span>/Mes</span></div>
                <p style="transform: translateZ(10px);">Presencia digital profesional con TODO incluido.</p>
                <ul class="features-list">
                    <li><i class="fas fa-check-circle"></i> 1 página web</li>
                    <li><i class="fas fa-check-circle"></i> Dominio incluido</li>
                    <li><i class="fas fa-check-circle"></i> Hosting privado</li>
                    <li><i class="fas fa-check-circle"></i> Certificado SSL (Seguridad)</li>
                    <li class="highlight-feature"><i class="fas fa-check-circle"></i> Integración de IA</li>
                    <li class="highlight-feature"><i class="fas fa-check-circle"></i> Google Firebase</li>
                    <li class="highlight-feature"><i class="fas fa-check-circle"></i> Mantenimiento PRO</li>
                    <li><i class="fas fa-check-circle"></i> Soporte Vía Email o WhatsApp</li>
                </ul>
                <button onclick="initPayment('Plan Estándar', 60000, 'PLAN')" class="cta-btn" style="width: 100%; margin-top: auto; transform: translateZ(30px);">Suscribirme</button>
            </div>

            <div class="pricing-card" style="border-color: var(--gold); box-shadow: 0 0 30px rgba(255, 215, 0, 0.15);" data-tilt data-tilt-max="10" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.3">
                <div style="position: absolute; top: 0; right: 0; background: var(--gold); color: #000; font-weight: 800; font-size: 0.7rem; padding: 5px 15px; border-bottom-left-radius: 10px;">MEJOR OPCIÓN</div>
                <h3 style="transform: translateZ(20px); color: var(--gold);">Plan PRO</h3>
                <div class="price">150.000 COP<span>/Mes</span></div>
                <p style="transform: translateZ(10px);">Todo incluido + Gestión de Instagram y Apps.</p>
                <ul class="features-list">
                    <li><i class="fas fa-check-circle"></i> 1 Página Web</li>
                    <li><i class="fas fa-check-circle"></i> Dominio incluido</li>
                    <li><i class="fas fa-check-circle"></i> Hosting privado</li>
                    <li><i class="fas fa-check-circle"></i> Certificado SSL (Seguridad)</li>
                    <li><i class="fas fa-check-circle"></i> Integración de IA</li>
                    <li><i class="fas fa-check-circle"></i> Google Firebase</li>
                    <li><i class="fas fa-check-circle"></i> Mantenimiento PRO</li>
                    <li><i class="fas fa-check-circle"></i> Soporte Vía Email o WhatsApp</li>
                    <li class="highlight-feature"><i class="fab fa-instagram" style="color: var(--gold);"></i> Creación de Red social (Instagram)</li>
                    <li class="highlight-feature"><i class="fas fa-gift" style="color: var(--gold);"></i> <strong>Todas las Micro-Apps GRATIS</strong></li>
                    <li class="highlight-feature"><i class="fas fa-camera" style="color: var(--gold);"></i> 10 Post o Stories mensuales para Instagram</li>
                    <li class="highlight-feature"><i class="fas fa-check-circle" style="color: #1da1f2;"></i> Meta Verified</li>
                    <li><i class="fas fa-search"></i> Optimización de búsqueda (Instagram)</li>
                    <li><i class="fas fa-shield-alt"></i> Protección con suplantación de identidad (Instagram)</li>
                </ul>
                <button onclick="initPayment('Plan PRO', 150000, 'PLAN')" class="cta-btn" style="width: 100%; margin-top: auto; background: var(--gold); color: #000; transform: translateZ(30px);">Suscribirme PRO</button>
            </div>
        </div>
    </section>

    <section id="traffic" class="traffic-section" style="padding-top: 20px;">
        <h2 class="section-title">QAXI Traffic</h2>
        <div class="premium-card" data-tilt>
            <div class="premium-info">
                <h3 style="font-size: 2rem; margin-bottom: 15px; line-height: 1.1;">Tu web es el motor,<br>el tráfico es la gasolina.</h3>
                <p style="color: #ccc; margin-bottom: 20px; font-size: 1rem;">
                    Tener una web increíble no sirve de nada si nadie la ve. En QAXI Traffic gestionamos tus campañas publicitarias para llevar clientes reales a tu negocio.
                </p>
                <ul class="premium-list">
                    <li><i class="fas fa-bullhorn"></i> Gestión de campañas en Google Ads.</li>
                    <li><i class="fas fa-users-cog"></i> Segmentación precisa de tu público objetivo.</li>
                    <li><i class="fas fa-chart-line"></i> Reportes mensuales de rendimiento y ventas.</li>
                    <li><i class="fas fa-robot"></i> Optimización continua con IA.</li>
                </ul>
            </div>
            <div class="premium-pricing">
                <div style="font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; color: #888; margin-bottom: 10px;">COSTO DE GESTIÓN</div>
                <div style="font-size: 3rem; font-weight: 800; line-height: 1;">100K <span style="font-size: 1rem;">COP</span></div>
                <div style="font-size: 0.8rem; color: #666; margin-top: 5px;">/ Mensual</div>
                <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
                <div style="font-size: 0.85rem; color: #fff; margin-bottom: 20px;">
                    <i class="fas fa-wallet" style="margin-right: 5px;"></i> 
                    Tú defines el presupuesto (Lo que pagas a Google).
                </div>
                <button onclick="initPayment('QAXI Traffic', 100000, 'PREMIUM')" class="cta-btn" style="width: 100%;">CONTRATAR GESTIÓN</button>
            </div>
        </div>
    </section>

    <section id="social" class="social-section" style="padding-top: 0;">
        <h2 class="section-title">QAXI Social</h2>
        <div class="premium-card" data-tilt style="flex-direction: row-reverse;">
            <div class="premium-info">
                <h3 style="font-size: 2rem; margin-bottom: 15px; line-height: 1.1;">Diseño que enamora,<br>redes que venden.</h3>
                <p style="color: #ccc; margin-bottom: 20px; font-size: 1rem;">
                    Deja de sufrir con Canva. Nosotros diseñamos tus posts y stories con estilo profesional para que tú solo tengas que publicar y vender.
                </p>
                <ul class="premium-list">
                    <li><i class="fas fa-palette"></i> Paquete mensual de piezas gráficas (Posts/Stories).</li>
                    <li><i class="fas fa-layer-group"></i> Línea gráfica coherente con tu página web.</li>
                    <li><i class="fas fa-file-archive"></i> Entrega de archivos listos en alta calidad.</li>
                    <li><i class="fas fa-check-circle"></i> Correcciones ilimitadas hasta tu aprobación.</li>
                </ul>
            </div>
            <div class="premium-pricing">
                <div style="font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; color: #888; margin-bottom: 10px;">PAQUETE MENSUAL</div>
                <div style="font-size: 3rem; font-weight: 800; line-height: 1;">200K <span style="font-size: 1rem;">COP</span></div>
                <div style="font-size: 0.8rem; color: #666; margin-top: 5px;">/ Mensual</div>
                <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
                <div style="font-size: 0.85rem; color: #fff; margin-bottom: 20px;">
                    <i class="fas fa-camera" style="margin-right: 5px;"></i> 
                    30 Posts o Stories al mes (No acumulables).
                </div>
                <button onclick="initPayment('QAXI Social', 200000, 'PREMIUM')" class="cta-btn" style="width: 100%;">CONTRATAR DISEÑO</button>
            </div>
        </div>
    </section>

    <section id="microapps" style="padding-top: 0;">
        <h2 class="section-title" style="border: none; margin-bottom: 20px;">Micro-Apps & Complementos</h2>
        <p style="color: #888; margin-bottom: 30px; text-align: center;">Herramientas modulares para potenciar tu web. Elige lo que necesites.</p>
        
        <div class="microapps-grid">
            <div class="microapp-card">
                <div class="ma-icon"><i class="far fa-calendar-alt"></i></div>
                <div class="ma-title">Sistema de Reservas</div>
                <div class="ma-desc">Tu tiempo es oro. Automatiza tus citas 24/7 sin mover un dedo.</div>
                <div class="ma-price">$30.000 COP</div>
                <a onclick="initPayment('Micro-App Reservas', 30000, 'MICROAPP')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-qrcode"></i></div>
                <div class="ma-title">Menú Digital QR</div>
                <div class="ma-desc">Sin papel, sin contacto. Tus clientes escanean y piden al instante.</div>
                <div class="ma-price">$20.000 COP</div>
                <a onclick="initPayment('Micro-App Menú QR', 20000, 'MICROAPP')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="far fa-id-card"></i></div>
                <div class="ma-title">Tarjeta de Presentación</div>
                <div class="ma-desc">Impacta desde el primer clic. Tu identidad profesional en un enlace.</div>
                <div class="ma-price">$15.000 COP</div>
                <a onclick="initPayment('Micro-App Tarjeta', 15000, 'MICROAPP')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-file-pdf"></i></div>
                <div class="ma-title">Catálogo PDF</div>
                <div class="ma-desc">Tus productos organizados y listos para descargar. Vende con elegancia.</div>
                <div class="ma-price">$20.000 COP</div>
                <a onclick="initPayment('Micro-App Catálogo', 20000, 'MICROAPP')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fab fa-whatsapp"></i></div>
                <div class="ma-title">Botón WhatsApp</div>
                <div class="ma-desc">Conexión directa. Un clic y tus clientes ya están hablando contigo.</div>
                <div class="ma-price">$10.000 COP</div>
                <a onclick="initPayment('Micro-App Botón WA', 10000, 'MICROAPP')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-calculator"></i></div>
                <div class="ma-title">Calculadora Básica</div>
                <div class="ma-desc">Facilita la decisión. Permite que tus clientes calculen costos al vuelo.</div>
                <div class="ma-price">$30.000 COP</div>
                <a onclick="initPayment('Micro-App Calculadora', 30000, 'MICROAPP')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-briefcase"></i></div>
                <div class="ma-title">Portafolio Profesional</div>
                <div class="ma-desc">Exhibe tus proyectos con estilo. Galería interactiva para convencer.</div>
                <div class="ma-price">$35.000 COP</div>
                <a onclick="initPayment('Micro-App Portafolio', 35000, 'MICROAPP')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="microapp-card">
                <div class="ma-icon"><i class="fas fa-pen-nib"></i></div>
                <div class="ma-title">Diseño de Logo</div>
                <div class="ma-desc">Creamos la cara de tu marca. Diseño vectorial, moderno y escalable para cualquier formato.</div>
                <div class="ma-price">$80.000 COP</div>
                <a onclick="initPayment('Micro-App Logo', 80000, 'MICROAPP')" class="ma-btn">Pagar <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </section>

    <section id="founder" class="founder-section">
        <div class="founder-content">
            <h2 class="section-title">Manifiesto</h2>
            <p style="font-size: 1.1rem; line-height: 1.8; font-style: italic;">
                "QAXI nace de una verdad incómoda: la mayoría de las agencias cobran fortunas por sitios web que luego abandonan. Mi visión es democratizar la presencia digital premium. No quiero venderte una página, quiero ser tu socio tecnológico constante. Si tú escalas, QAXI escala."
            </p>
            <div style="margin-top: 30px; font-weight: 700; color: #fff;">
                Santiago Marenco<br>
                <span style="font-size: 0.8rem; color: var(--gold);">Founder, QAXI</span>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-contact-icons">
            <a href="mailto:santiagomarenco1005@gmail.com" title="Enviar Correo"><i class="fas fa-envelope"></i></a>
            <a href="https://wa.me/573213526875" target="_blank" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
            <a href="https://www.instagram.com/qaxioficial/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
        </div>
        <p>© 2026 · QAXI. Todos los derechos reservados.</p>
        <p>Q.</p>
        
        <div style="margin-top: 30px; font-size: 0.75rem; color: #333; cursor: pointer;" onclick="toggleLegal()">
            Términos y Condiciones <i id="legal-icon" class="fas fa-chevron-down"></i>
        </div>
        <div id="legal-text" style="display: none; max-width: 600px; margin: 20px auto; text-align: left; color: #555; font-size: 0.75rem; line-height: 1.6; border-top: 1px solid #222; padding-top: 20px;">
            <p><strong>1. Suscripción:</strong> El servicio se presta bajo modalidad de suscripción mensual recurrente. El no pago suspende el servicio.</p>
            <p><strong>2. Dominio y Hosting:</strong> Incluidos mientras la suscripción esté activa. La propiedad del dominio puede ser transferida al cliente tras 12 meses continuos de servicio.</p>
            <p><strong>3. Contenidos:</strong> El cliente es responsable de los textos e imágenes proporcionados. QAXI no se hace responsable por derechos de autor violados por material entregado por el cliente.</p>
            <p><strong>4. Cancelación:</strong> Puede cancelar en cualquier momento sin penalidad, perdiendo acceso a los servicios premium y hosting al finalizar el ciclo pago.</p>
        </div>
    </footer>

    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAuthModal()">&times;</span>
            <h3 id="authTitle" style="margin-bottom: 20px;">Acceso Clientes</h3>
            <form id="authForm">
                <input type="email" id="email" class="auth-input" placeholder="Correo electrónico" required>
                <input type="password" id="password" class="auth-input" placeholder="Contraseña (mín 6 caracteres)" required>
                <button type="submit" class="cta-btn" style="width: 100%; border:none;">Ingresar</button>
            </form>
            <p id="authError" style="color: #ff4444; font-size: 0.8rem; margin-top: 10px; display: none;"></p>
        </div>
    </div>

    <div id="dashboardModal" class="modal">
        <div class="modal-content" style="max-width: 500px; text-align: left;">
            <span class="close" onclick="closeDashboardModal()">&times;</span>
            <h2 style="margin-bottom: 25px; font-weight: 800; letter-spacing: -1px;">Panel de Cliente</h2>
            <div class="dashboard-info">
                <div class="dashboard-label">Usuario Activo</div>
                <div class="dashboard-value" id="dashEmail">cargando...</div>
                
                <div class="dashboard-label">Servicio Contratado</div>
                <div class="dashboard-value"><span id="dashStatus" class="plan-tag">CARGANDO...</span></div>
                
                <div id="web-section" style="display: none;">
                    <div class="web-access-box">
                        <div style="font-size: 0.7rem; font-weight: 800; letter-spacing: 1px;">TU PÁGINA WEB ESTÁ LISTA</div>
                        <a href="#" id="webLinkBtn" target="_blank" class="web-btn">VISITAR MI SITIO WEB <i class="fas fa-external-link-alt"></i></a>
                    </div>
                </div>
                 <div id="no-web-msg" style="color: #666; font-size: 0.9rem; margin-top: 20px; display: none;">
                    Tu servicio se está configurando. Te notificaremos cuando esté listo.
                </div>

                <a href="qaxi_analytics.html" target="_blank" class="cta-btn" style="background: var(--gold); color: #000; margin-top: 15px; width: 100%; text-align: center; display: block; text-decoration: none;">
                    <i class="fas fa-chart-line"></i> Abrir QAXI Analytics
                </a>
            </div>
            <button id="btnLogout" class="cta-btn" style="background: #333; margin-top: 20px; width: 100%;">Cerrar Sesión</button>
        </div>
    </div>

    <div id="tutorialModal" class="modal">
        <div class="modal-content" style="max-width: 600px; text-align: left;">
            <span class="close" onclick="closeTutorialModal()">&times;</span>
            <h2 style="margin-bottom: 20px;">Cómo funciona QAXI</h2>
            <div class="step-item">
                <div class="step-num">1</div>
                <div>
                    <strong>Elige tu plan</strong>
                    <p style="font-size: 0.85rem; color: #888;">Selecciona el paquete que mejor se adapte a tu negocio. Todos incluyen web, dominio y hosting.</p>
                </div>
            </div>
            <div class="step-item">
                <div class="step-num">2</div>
                <div>
                    <strong>Realiza el pago</strong>
                    <p style="font-size: 0.85rem; color: #888;">Paga de forma segura con Nequi. El sistema verificará tu pago automáticamente (o manualmente si es necesario).</p>
                </div>
            </div>
            <div class="step-item">
                <div class="step-num">3</div>
                <div>
                    <strong>Activación Inmediata</strong>
                    <p style="font-size: 0.85rem; color: #888;">Recibirás acceso a tu panel de cliente donde podrás ver el estado de tu servicio.</p>
                </div>
            </div>
            <div class="step-item">
                <div class="step-num">4</div>
                <div>
                    <strong>Desarrollo</strong>
                    <p style="font-size: 0.85rem; color: #888;">Nuestro equipo (y la IA) construirán tu sitio. En menos de 48 horas tendrás una primera versión.</p>
                </div>
            </div>
        </div>
    </div>

    <a href="https://wa.me/573213526875" class="wa-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, updateDoc, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDbZAPtQioiXZzkiiIRrkrBkEPF440NMaE",
            authDomain: "qaxi-93d6d.firebaseapp.com",
            projectId: "qaxi-93d6d",
            storageBucket: "qaxi-93d6d.firebasestorage.app",
            messagingSenderId: "137240859996",
            appId: "1:137240859996:web:73e14d28c77233be965d99",
            measurementId: "G-C74Z1DWV54"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Variables de estado
        let currentUser = null;
        let isLoginMode = true; // Forced
        
        let currentProduct = "";
        let basePrice = 0;
        let productType = ""; 
        let finalPrice = 0;
        let activeCode = "";
        let isGiftCard = false; // Control de Gift Card

        // Referencias DOM
        const authModal = document.getElementById('authModal');
        const dashboardModal = document.getElementById('dashboardModal');
        const tutorialModal = document.getElementById('tutorialModal');
        const authForm = document.getElementById('authForm');
        const emailInput = document.getElementById('email');
        const passInput = document.getElementById('password');
        // const toggleBtn = ... (removed);
        const authTitle = document.getElementById('authTitle');
        const authError = document.getElementById('authError');
        const authBtn = document.getElementById('authBtn');
        const accountBtn = document.getElementById('accountBtn');
        const userGreeting = document.getElementById('userGreeting');

        const menuToggle = document.getElementById('mobile-menu-toggle');
        const navContainer = document.getElementById('nav-container');
        const navLinks = document.querySelectorAll('.nav-link');

        // --- FUNCIONES APERTURA ---
        window.openAuthModal = () => { authModal.style.display = "flex"; closeMobileMenu(); };
        window.closeAuthModal = () => { authModal.style.display = "none"; authError.style.display = 'none'; };
        
        // --- FUNCIÓN PAGO INTELIGENTE ---
        window.initPayment = (name, price, type) => {
            // Redirección directa
            window.location.href = `qaxipay.html?p=${encodeURIComponent(name)}&v=${price}&t=${type}`;
            return;
        };

        window.clearError = () => { codeStatus.innerText = ""; };

        // --- VERIFICACIÓN DE CÓDIGO (PARTNER O GIFT CARD) ---
        window.verifyPartnerCode = async () => {
            const code = codeInput.value.trim().toUpperCase();
            if (!code) { codeStatus.innerHTML = "<span style='color:#ff4444'>Ingresa un código.</span>"; return; }

            // 1. DETECTAR SI ES GIFT CARD
            if (code.startsWith("GIFT-")) {
                applyGiftCard(code);
                return;
            }

            // 2. SI NO, BUSCAR PARTNER
            btnVerify.innerText = "..."; btnVerify.disabled = true;

            try {
                const q = query(collection(db, "partners"), where("code", "==", code));
                const querySnapshot = await getDocs(q);

                if (!querySnapshot.empty) {
                    applyDiscount(code);
                    
                    let percentStr = "";
                    if (productType === 'PLAN') percentStr = "15%";
                    else if (productType === 'PREMIUM') percentStr = "20%";
                    else if (productType === 'MICROAPP') percentStr = "5%";

                    codeStatus.innerHTML = `
                        <div style='color:#4caf50; font-weight:700; margin-bottom:5px;'>
                            <i class='fas fa-check-circle'></i> ¡CÓDIGO APLICADO!
                        </div>
                        <div style='color:#fff; font-size:0.8rem;'>
                            TIENES EL <span style='color:#FFD700'>${percentStr}</span> DE DESCUENTO.<br>
                        </div>
                    `;
                } else {
                    resetPrice();
                    codeStatus.innerHTML = `<span style='color:#ff4444'><i class='fas fa-times'></i> Código inválido.</span>`;
                }
            } catch (err) { console.error(err); codeStatus.innerText = "Error de conexión."; }
            
            btnVerify.innerText = "APLICAR"; btnVerify.disabled = false;
        };

        // --- LÓGICA TARJETA DE REGALO ---
        function applyGiftCard(code) {
            activeCode = code;
            isGiftCard = true;
            finalPrice = 0; // Gratis

            originalPriceDisplay.innerText = formatCurrency(basePrice);
            originalPriceDisplay.style.display = 'block';
            priceDisplay.innerText = "$0 COP";
            
            discountTag.style.display = 'inline-block';
            discountTag.innerText = "TARJETA DE REGALO ACEPTADA";
            discountTag.style.background = "#FFD700";
            discountTag.style.color = "#000";

            qrFrame.style.display = "none"; // Ocultar QR
            
            codeStatus.innerHTML = `
                <div style='color:#FFD700; font-weight:700; margin-bottom:5px; font-size:1rem;'>
                    <i class='fas fa-gift'></i> ¡SALDO CUBIERTO AL 100%!
                </div>
                <div style='color:#fff; font-size:0.8rem;'>
                    No necesitas pagar. Envíanos el código para activar tu servicio.
                </div>
            `;
            
            noteInstruction.innerHTML = `ACTIVAR: <span style='color:#FFD700'>${code}</span>`;
            updatePaymentLinks();
        }

        function applyDiscount(code) {
            activeCode = code;
            let discountPercent = 0;

            if (productType === 'PLAN') discountPercent = 0.15;
            else if (productType === 'PREMIUM') discountPercent = 0.20;
            else if (productType === 'MICROAPP') discountPercent = 0.05;

            const discountAmount = basePrice * discountPercent;
            finalPrice = basePrice - discountAmount;

            originalPriceDisplay.innerText = formatCurrency(basePrice);
            originalPriceDisplay.style.display = 'block';
            priceDisplay.innerText = formatCurrency(finalPrice);
            
            discountTag.style.display = 'inline-block';
            discountTag.innerText = `AHORRAS: ${formatCurrency(discountAmount)}`;
            discountTag.style.background = "rgba(76, 175, 80, 0.15)";
            discountTag.style.color = "#4caf50";

            noteInstruction.innerHTML = `CORREO + NOMBRE + <span style='color:#FFD700'>${code}</span>`;
            updatePaymentLinks();
        }

        function resetPrice() {
            finalPrice = basePrice; activeCode = ""; isGiftCard = false;
            originalPriceDisplay.style.display = 'none';
            priceDisplay.innerText = formatCurrency(basePrice);
            discountTag.style.display = 'none';
            noteInstruction.innerHTML = "TU CORREO + TU NOMBRE";
            qrFrame.style.display = "block";
            updatePaymentLinks();
        }

        window.updatePaymentLinks = () => {
            let subject = `Pago ${currentProduct}`;
            let msg = "";

            if (isGiftCard) {
                subject = `CANJE GIFT CARD: ${activeCode}`;
                msg = `Hola QAXI, quiero canjear mi tarjeta de regalo.\n\nServicio: ${currentProduct}\nCódigo de Serie: ${activeCode}\n\nQuedo atento a la activación.`;
            } else {
                msg = `Hola, pago: ${currentProduct}.\nValor: ${formatCurrency(finalPrice)}\n`;
                if(activeCode) msg += `Código Partner: ${activeCode} (Descuento Aplicado)\n`;
                msg += `Adjunto comprobante Nequi.`;
            }

            document.getElementById('emailLink').href = `mailto:santiagomarenco1005@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(msg)}`;
            
            const chatBtn = document.getElementById('chatLink');
            
            // Lógica de botones WhatsApp vs Chat
            document.getElementById('chatLink').onclick = (e) => {
                 e.preventDefault();
                 if(isGiftCard) {
                    window.open(`https://wa.me/573213526875?text=${encodeURIComponent(msg)}`, '_blank');
                 } else {
                    navigator.clipboard.writeText(msg).then(() => window.open('chat.html', '_blank'));
                 }
            };
            
            if(isGiftCard) {
                chatBtn.innerHTML = '<i class="fab fa-whatsapp"></i> Activar por WhatsApp';
                chatBtn.classList.remove('btn-fill');
                chatBtn.style.background = '#25D366';
                chatBtn.style.color = '#fff';
                chatBtn.style.border = 'none';
            } else {
                chatBtn.innerHTML = '<i class="fas fa-comment-dots"></i> Enviar en QAXI Chat (BETA)';
                chatBtn.classList.add('btn-fill');
                chatBtn.style.background = '#fff';
                chatBtn.style.color = '#000';
            }
        };

        function formatCurrency(amount) {
            return new Intl.NumberFormat('es-CO', { style: 'currency', currency: 'COP', maximumFractionDigits: 0 }).format(amount);
        }

        window.closeNequiModal = () => nequiModal.style.display = "none";
        
        window.openTutorialModal = () => {
            closeNequiModal(); closeDashboardModal(); tutorialModal.style.display = "flex";
        };
        window.closeTutorialModal = () => tutorialModal.style.display = "none";
        window.closeDashboardModal = () => dashboardModal.style.display = "none";
        
        window.toggleLegal = () => {
            const txt = document.getElementById('legal-text');
            const ico = document.getElementById('legal-icon');
            if (txt.style.display === "block") { txt.style.display = "none"; ico.className = "fas fa-chevron-down"; }
            else { txt.style.display = "block"; ico.className = "fas fa-chevron-up"; }
        };

        // --- FUNCIÓN MENÚ MÓVIL ---
        function toggleMobileMenu() {
            navContainer.classList.toggle('active');
            const icon = menuToggle.querySelector('i');
             if (icon) {
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            }
        }
        function closeMobileMenu() {
            navContainer.classList.remove('active');
            const icon = menuToggle.querySelector('i');
             if (icon) {
                icon.classList.add('fa-bars');
                icon.classList.remove('fa-times');
            }
        }
        menuToggle.addEventListener('click', toggleMobileMenu);
        navLinks.forEach(link => link.addEventListener('click', closeMobileMenu));

        // --- LÓGICA DE FIREBASE ---
        onAuthStateChanged(auth, (user) => {
            currentUser = user;
            if (user) {
                authBtn.style.display = 'none';
                accountBtn.style.display = 'inline-block';
                userGreeting.style.display = 'block';
                userGreeting.innerText = `Hola, ${user.email}`;
                window.closeAuthModal();
            } else {
                authBtn.style.display = 'inline-block';
                accountBtn.style.display = 'none';
                userGreeting.style.display = 'none';
            }
        });

        // Toggle logic removed

        authForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = emailInput.value;
            const password = passInput.value;
            authError.style.display = 'none';
            try {
                if (isLoginMode) {
                    await signInWithEmailAndPassword(auth, email, password);
                } else {
                    await createUserWithEmailAndPassword(auth, email, password);
                    await setDoc(doc(db, "chats", email.toLowerCase().trim()), { status: "NUEVO CLIENTE", color: "#ffffff", registrado: new Date() });
                }
            } catch (error) { authError.style.display = 'block'; authError.innerText = "Error: " + error.message; }
        });

        document.getElementById('btnLogout').addEventListener('click', () => signOut(auth).then(() => location.reload()));

        window.openDashboardModal = async function() {
            dashboardModal.style.display = 'flex';
            closeMobileMenu(); 
            if (currentUser) {
                document.getElementById('dashEmail').innerText = currentUser.email;
                const docRef = doc(db, "chats", currentUser.email.toLowerCase().trim());
                try {
                    const docSnap = await getDoc(docRef);
                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        const statusEl = document.getElementById('dashStatus');
                        statusEl.innerText = data.status || "ACTIVO";
                        statusEl.style.background = data.color || "#fff";
                        statusEl.style.color = (data.color === "#ffffff") ? "#000" : "#fff";
                        if(data.webLink) {
                            document.getElementById('web-section').style.display = 'block';
                            document.getElementById('no-web-msg').style.display = 'none';
                            document.getElementById('webLinkBtn').href = data.webLink;
                        } else {
                            document.getElementById('web-section').style.display = 'none';
                            document.getElementById('no-web-msg').style.display = 'block';
                        }
                    } else { document.getElementById('dashStatus').innerText = "PENDIENTE"; }
                } catch(err) { console.log("Error leyendo Firestore:", err); }
            }
        };

        // --- PARTÍCULAS ---
        const canvas = document.getElementById("particles-canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particlesArray = [];
        class Particle {
            constructor() { this.x=Math.random()*canvas.width; this.y=Math.random()*canvas.height; this.dX=(Math.random()*0.4)-0.2; this.dY=(Math.random()*0.4)-0.2; }
            update() { if(this.x>canvas.width||this.x<0) this.dX=-this.dX; if(this.y>canvas.height||this.y<0) this.dY=-this.dY; this.x+=this.dX; this.y+=this.dY; ctx.beginPath(); ctx.arc(this.x, this.y, 1.5, 0, Math.PI*2); ctx.fillStyle='rgba(255,255,255,0.3)'; ctx.fill(); }
        }
        function init(){ particlesArray=[]; for(let i=0;i<100;i++){ particlesArray.push(new Particle()); } }
        function animate(){ requestAnimationFrame(animate); ctx.clearRect(0,0,canvas.width,canvas.height); particlesArray.forEach(p => p.update()); }
        init(); animate();
        
        window.onclick = function(event) {
            if (event.target == authModal) window.closeAuthModal();
            if (event.target == dashboardModal) window.closeDashboardModal();
            if (event.target == tutorialModal) window.closeTutorialModal();
        }
    </script>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script>
        const firebaseConfigCompat = {
            apiKey: "AIzaSyDbZAPtQioiXZzkiiIRrkrBkEPF440NMaE",
            projectId: "qaxi-93d6d",
            storageBucket: "qaxi-93d6d.firebasestorage.app",
            messagingSenderId: "137240859996",
            appId: "1:137240859996:web:73e14d28c77233be965d99"
        };
        firebase.initializeApp(firebaseConfigCompat);
        const dbCompat = firebase.firestore();

        // IMPORTANTE: Este correo debe ser el mismo con el que entras al panel
        const CLIENT_ID = "santiagomarenco1005@icloud.com"; 

        function registrarVisita() {
            const fechaHoy = new Date().toISOString().split('T')[0];
            const esMovil = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            const dispositivo = esMovil ? "mobile" : "desktop";
            
            const docRef = dbCompat.collection("analytics").doc(CLIENT_ID);

            docRef.set({
                visitas_totales: firebase.firestore.FieldValue.increment(1),
                historial: { [fechaHoy]: firebase.firestore.FieldValue.increment(1) },
                dispositivos: { [dispositivo]: firebase.firestore.FieldValue.increment(1) },
                ultima_conexion: new Date()
            }, { merge: true });
        }
        registrarVisita();

        document.addEventListener('click', function(e) {
            if (e.target.closest('a[href*="wa.me"]')) {
                dbCompat.collection("analytics").doc(CLIENT_ID).set({
                    clics_whatsapp: firebase.firestore.FieldValue.increment(1)
                }, { merge: true });
            }
        });
    </script>
</body>
</html>
